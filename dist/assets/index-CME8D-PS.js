var g5=Object.defineProperty;var AA=n=>{throw TypeError(n)};var m5=(n,e,t)=>e in n?g5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var he=(n,e,t)=>m5(n,typeof e!="symbol"?e+"":e,t),n2=(n,e,t)=>e.has(n)||AA("Cannot "+t);var d=(n,e,t)=>(n2(n,e,"read from private field"),t?t.call(n):e.get(n)),I=(n,e,t)=>e.has(n)?AA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),A=(n,e,t,i)=>(n2(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),k=(n,e,t)=>(n2(n,e,"access private method"),t);var jt=(n,e,t,i)=>({set _(r){A(n,e,r,t)},get _(){return d(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function y5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function v5(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var Ok={exports:{}},W1={},Wk={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy=Symbol.for("react.element"),b5=Symbol.for("react.portal"),_5=Symbol.for("react.fragment"),D5=Symbol.for("react.strict_mode"),w5=Symbol.for("react.profiler"),x5=Symbol.for("react.provider"),T5=Symbol.for("react.context"),E5=Symbol.for("react.forward_ref"),A5=Symbol.for("react.suspense"),C5=Symbol.for("react.memo"),S5=Symbol.for("react.lazy"),CA=Symbol.iterator;function U5(n){return n===null||typeof n!="object"?null:(n=CA&&n[CA]||n["@@iterator"],typeof n=="function"?n:null)}var Vk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hk=Object.assign,qk={};function kf(n,e,t){this.props=n,this.context=e,this.refs=qk,this.updater=t||Vk}kf.prototype.isReactComponent={};kf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};kf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function zk(){}zk.prototype=kf.prototype;function Wx(n,e,t){this.props=n,this.context=e,this.refs=qk,this.updater=t||Vk}var Vx=Wx.prototype=new zk;Vx.constructor=Wx;Hk(Vx,kf.prototype);Vx.isPureReactComponent=!0;var SA=Array.isArray,Gk=Object.prototype.hasOwnProperty,Hx={current:null},$k={key:!0,ref:!0,__self:!0,__source:!0};function Xk(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Gk.call(e,i)&&!$k.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:yy,type:n,key:s,ref:o,props:r,_owner:Hx.current}}function I5(n,e){return{$$typeof:yy,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function qx(n){return typeof n=="object"&&n!==null&&n.$$typeof===yy}function k5(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var UA=/\/+/g;function i2(n,e){return typeof n=="object"&&n!==null&&n.key!=null?k5(""+n.key):e.toString(36)}function Tv(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case yy:case b5:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+i2(o,0):i,SA(r)?(t="",n!=null&&(t=n.replace(UA,"$&/")+"/"),Tv(r,e,t,"",function(c){return c})):r!=null&&(qx(r)&&(r=I5(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(UA,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",SA(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+i2(s,a);o+=Tv(s,e,t,l,r)}else if(l=U5(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+i2(s,a++),o+=Tv(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function By(n,e,t){if(n==null)return n;var i=[],r=0;return Tv(n,i,"","",function(s){return e.call(t,s,r++)}),i}function R5(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var pi={current:null},Ev={transition:null},F5={ReactCurrentDispatcher:pi,ReactCurrentBatchConfig:Ev,ReactCurrentOwner:Hx};function Yk(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:By,forEach:function(n,e,t){By(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return By(n,function(){e++}),e},toArray:function(n){return By(n,function(e){return e})||[]},only:function(n){if(!qx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};We.Component=kf;We.Fragment=_5;We.Profiler=w5;We.PureComponent=Wx;We.StrictMode=D5;We.Suspense=A5;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F5;We.act=Yk;We.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=Hk({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hx.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)Gk.call(e,l)&&!$k.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:yy,type:n.type,key:r,ref:s,props:i,_owner:o}};We.createContext=function(n){return n={$$typeof:T5,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:x5,_context:n},n.Consumer=n};We.createElement=Xk;We.createFactory=function(n){var e=Xk.bind(null,n);return e.type=n,e};We.createRef=function(){return{current:null}};We.forwardRef=function(n){return{$$typeof:E5,render:n}};We.isValidElement=qx;We.lazy=function(n){return{$$typeof:S5,_payload:{_status:-1,_result:n},_init:R5}};We.memo=function(n,e){return{$$typeof:C5,type:n,compare:e===void 0?null:e}};We.startTransition=function(n){var e=Ev.transition;Ev.transition={};try{n()}finally{Ev.transition=e}};We.unstable_act=Yk;We.useCallback=function(n,e){return pi.current.useCallback(n,e)};We.useContext=function(n){return pi.current.useContext(n)};We.useDebugValue=function(){};We.useDeferredValue=function(n){return pi.current.useDeferredValue(n)};We.useEffect=function(n,e){return pi.current.useEffect(n,e)};We.useId=function(){return pi.current.useId()};We.useImperativeHandle=function(n,e,t){return pi.current.useImperativeHandle(n,e,t)};We.useInsertionEffect=function(n,e){return pi.current.useInsertionEffect(n,e)};We.useLayoutEffect=function(n,e){return pi.current.useLayoutEffect(n,e)};We.useMemo=function(n,e){return pi.current.useMemo(n,e)};We.useReducer=function(n,e,t){return pi.current.useReducer(n,e,t)};We.useRef=function(n){return pi.current.useRef(n)};We.useState=function(n){return pi.current.useState(n)};We.useSyncExternalStore=function(n,e,t){return pi.current.useSyncExternalStore(n,e,t)};We.useTransition=function(){return pi.current.useTransition()};We.version="18.3.1";Wk.exports=We;var fs=Wk.exports;const P5=y5(fs);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M5=fs,N5=Symbol.for("react.element"),L5=Symbol.for("react.fragment"),B5=Object.prototype.hasOwnProperty,O5=M5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W5={key:!0,ref:!0,__self:!0,__source:!0};function Kk(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)B5.call(e,i)&&!W5.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:N5,type:n,key:s,ref:o,props:r,_owner:O5.current}}W1.Fragment=L5;W1.jsx=Kk;W1.jsxs=Kk;Ok.exports=W1;var zt=Ok.exports,Q_={},Jk={exports:{}},fr={},Qk={exports:{}},Zk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(M,L){var X=M.length;M.push(L);e:for(;0<X;){var H=X-1>>>1,z=M[H];if(0<r(z,L))M[H]=L,M[X]=z,X=H;else break e}}function t(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var L=M[0],X=M.pop();if(X!==L){M[0]=X;e:for(var H=0,z=M.length,G=z>>>1;H<G;){var ie=2*(H+1)-1,re=M[ie],ce=ie+1,de=M[ce];if(0>r(re,X))ce<z&&0>r(de,re)?(M[H]=de,M[ce]=X,H=ce):(M[H]=re,M[ie]=X,H=ie);else if(ce<z&&0>r(de,X))M[H]=de,M[ce]=X,H=ce;else break e}}return L}function r(M,L){var X=M.sortIndex-L.sortIndex;return X!==0?X:M.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,g=!1,_=!1,m=!1,D=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var L=t(c);L!==null;){if(L.callback===null)i(c);else if(L.startTime<=M)i(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=t(c)}}function x(M){if(m=!1,w(M),!_)if(t(l)!==null)_=!0,N(T);else{var L=t(c);L!==null&&B(x,L.startTime-M)}}function T(M,L){_=!1,m&&(m=!1,y(F),F=-1),g=!0;var X=f;try{for(w(L),h=t(l);h!==null&&(!(h.expirationTime>L)||M&&!Y());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var z=H(h.expirationTime<=L);L=n.unstable_now(),typeof z=="function"?h.callback=z:h===t(l)&&i(l),w(L)}else i(l);h=t(l)}if(h!==null)var G=!0;else{var ie=t(c);ie!==null&&B(x,ie.startTime-L),G=!1}return G}finally{h=null,f=X,g=!1}}var E=!1,C=null,F=-1,P=5,O=-1;function Y(){return!(n.unstable_now()-O<P)}function R(){if(C!==null){var M=n.unstable_now();O=M;var L=!0;try{L=C(!0,M)}finally{L?V():(E=!1,C=null)}}else E=!1}var V;if(typeof b=="function")V=function(){b(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,K=S.port2;S.port1.onmessage=R,V=function(){K.postMessage(null)}}else V=function(){D(R,0)};function N(M){C=M,E||(E=!0,V())}function B(M,L){F=D(function(){M(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){_||g||(_=!0,N(T))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(M){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var X=f;f=L;try{return M()}finally{f=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=f;f=M;try{return L()}finally{f=X}},n.unstable_scheduleCallback=function(M,L,X){var H=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?H+X:H):X=H,M){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=X+z,M={id:u++,callback:L,priorityLevel:M,startTime:X,expirationTime:z,sortIndex:-1},X>H?(M.sortIndex=X,e(c,M),t(l)===null&&M===t(c)&&(m?(y(F),F=-1):m=!0,B(x,X-H))):(M.sortIndex=z,e(l,M),_||g||(_=!0,N(T))),M},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(M){var L=f;return function(){var X=f;f=L;try{return M.apply(this,arguments)}finally{f=X}}}})(Zk);Qk.exports=Zk;var V5=Qk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H5=fs,hr=V5;function fe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jk=new Set,Gp={};function Wu(n,e){yf(n,e),yf(n+"Capture",e)}function yf(n,e){for(Gp[n]=e,n=0;n<e.length;n++)jk.add(e[n])}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Z_=Object.prototype.hasOwnProperty,q5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IA={},kA={};function z5(n){return Z_.call(kA,n)?!0:Z_.call(IA,n)?!1:q5.test(n)?kA[n]=!0:(IA[n]=!0,!1)}function G5(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $5(n,e,t,i){if(e===null||typeof e>"u"||G5(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Fn[n]=new gi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Fn[e]=new gi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Fn[n]=new gi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Fn[n]=new gi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Fn[n]=new gi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Fn[n]=new gi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Fn[n]=new gi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Fn[n]=new gi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Fn[n]=new gi(n,5,!1,n.toLowerCase(),null,!1,!1)});var zx=/[\-:]([a-z])/g;function Gx(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(zx,Gx);Fn[e]=new gi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(zx,Gx);Fn[e]=new gi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(zx,Gx);Fn[e]=new gi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Fn[n]=new gi(n,1,!1,n.toLowerCase(),null,!1,!1)});Fn.xlinkHref=new gi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Fn[n]=new gi(n,1,!1,n.toLowerCase(),null,!0,!0)});function $x(n,e,t,i){var r=Fn.hasOwnProperty(e)?Fn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($5(e,t,r,i)&&(t=null),i||r===null?z5(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var va=H5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oy=Symbol.for("react.element"),dd=Symbol.for("react.portal"),hd=Symbol.for("react.fragment"),Xx=Symbol.for("react.strict_mode"),j_=Symbol.for("react.profiler"),eR=Symbol.for("react.provider"),tR=Symbol.for("react.context"),Yx=Symbol.for("react.forward_ref"),eD=Symbol.for("react.suspense"),tD=Symbol.for("react.suspense_list"),Kx=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy"),nR=Symbol.for("react.offscreen"),RA=Symbol.iterator;function zf(n){return n===null||typeof n!="object"?null:(n=RA&&n[RA]||n["@@iterator"],typeof n=="function"?n:null)}var Pt=Object.assign,r2;function cp(n){if(r2===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);r2=e&&e[1]||""}return`
`+r2+n}var s2=!1;function o2(n,e){if(!n||s2)return"";s2=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{s2=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?cp(n):""}function X5(n){switch(n.tag){case 5:return cp(n.type);case 16:return cp("Lazy");case 13:return cp("Suspense");case 19:return cp("SuspenseList");case 0:case 2:case 15:return n=o2(n.type,!1),n;case 11:return n=o2(n.type.render,!1),n;case 1:return n=o2(n.type,!0),n;default:return""}}function nD(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case hd:return"Fragment";case dd:return"Portal";case j_:return"Profiler";case Xx:return"StrictMode";case eD:return"Suspense";case tD:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case tR:return(n.displayName||"Context")+".Consumer";case eR:return(n._context.displayName||"Context")+".Provider";case Yx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Kx:return e=n.displayName||null,e!==null?e:nD(n.type)||"Memo";case Ca:e=n._payload,n=n._init;try{return nD(n(e))}catch{}}return null}function Y5(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nD(e);case 8:return e===Xx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ml(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function iR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function K5(n){var e=iR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Wy(n){n._valueTracker||(n._valueTracker=K5(n))}function rR(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=iR(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function _0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function iD(n,e){var t=e.checked;return Pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function FA(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Ml(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sR(n,e){e=e.checked,e!=null&&$x(n,"checked",e,!1)}function rD(n,e){sR(n,e);var t=Ml(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?sD(n,e.type,t):e.hasOwnProperty("defaultValue")&&sD(n,e.type,Ml(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function PA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function sD(n,e,t){(e!=="number"||_0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var up=Array.isArray;function Fd(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Ml(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function oD(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Pt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function MA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(fe(92));if(up(t)){if(1<t.length)throw Error(fe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ml(t)}}function oR(n,e){var t=Ml(e.value),i=Ml(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function NA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function aR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function aD(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?aR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vy,lR=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Vy=Vy||document.createElement("div"),Vy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function $p(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Np={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J5=["Webkit","ms","Moz","O"];Object.keys(Np).forEach(function(n){J5.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Np[e]=Np[n]})});function cR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Np.hasOwnProperty(n)&&Np[n]?(""+e).trim():e+"px"}function uR(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=cR(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var Q5=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lD(n,e){if(e){if(Q5[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function cD(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uD=null;function Jx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var dD=null,Pd=null,Md=null;function LA(n){if(n=_y(n)){if(typeof dD!="function")throw Error(fe(280));var e=n.stateNode;e&&(e=G1(e),dD(n.stateNode,n.type,e))}}function dR(n){Pd?Md?Md.push(n):Md=[n]:Pd=n}function hR(){if(Pd){var n=Pd,e=Md;if(Md=Pd=null,LA(n),e)for(n=0;n<e.length;n++)LA(e[n])}}function fR(n,e){return n(e)}function pR(){}var a2=!1;function gR(n,e,t){if(a2)return n(e,t);a2=!0;try{return fR(n,e,t)}finally{a2=!1,(Pd!==null||Md!==null)&&(pR(),hR())}}function Xp(n,e){var t=n.stateNode;if(t===null)return null;var i=G1(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(fe(231,e,typeof t));return t}var hD=!1;if(la)try{var Gf={};Object.defineProperty(Gf,"passive",{get:function(){hD=!0}}),window.addEventListener("test",Gf,Gf),window.removeEventListener("test",Gf,Gf)}catch{hD=!1}function Z5(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Lp=!1,D0=null,w0=!1,fD=null,j5={onError:function(n){Lp=!0,D0=n}};function eB(n,e,t,i,r,s,o,a,l){Lp=!1,D0=null,Z5.apply(j5,arguments)}function tB(n,e,t,i,r,s,o,a,l){if(eB.apply(this,arguments),Lp){if(Lp){var c=D0;Lp=!1,D0=null}else throw Error(fe(198));w0||(w0=!0,fD=c)}}function Vu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function mR(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function BA(n){if(Vu(n)!==n)throw Error(fe(188))}function nB(n){var e=n.alternate;if(!e){if(e=Vu(n),e===null)throw Error(fe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return BA(r),n;if(s===i)return BA(r),e;s=s.sibling}throw Error(fe(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(fe(189))}}if(t.alternate!==i)throw Error(fe(190))}if(t.tag!==3)throw Error(fe(188));return t.stateNode.current===t?n:e}function yR(n){return n=nB(n),n!==null?vR(n):null}function vR(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=vR(n);if(e!==null)return e;n=n.sibling}return null}var bR=hr.unstable_scheduleCallback,OA=hr.unstable_cancelCallback,iB=hr.unstable_shouldYield,rB=hr.unstable_requestPaint,Gt=hr.unstable_now,sB=hr.unstable_getCurrentPriorityLevel,Qx=hr.unstable_ImmediatePriority,_R=hr.unstable_UserBlockingPriority,x0=hr.unstable_NormalPriority,oB=hr.unstable_LowPriority,DR=hr.unstable_IdlePriority,V1=null,to=null;function aB(n){if(to&&typeof to.onCommitFiberRoot=="function")try{to.onCommitFiberRoot(V1,n,void 0,(n.current.flags&128)===128)}catch{}}var ps=Math.clz32?Math.clz32:uB,lB=Math.log,cB=Math.LN2;function uB(n){return n>>>=0,n===0?32:31-(lB(n)/cB|0)|0}var Hy=64,qy=4194304;function dp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function T0(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=dp(a):(s&=o,s!==0&&(i=dp(s)))}else o=t&~r,o!==0?i=dp(o):s!==0&&(i=dp(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ps(e),r=1<<t,i|=n[t],e&=~r;return i}function dB(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hB(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ps(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=dB(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function pD(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function wR(){var n=Hy;return Hy<<=1,!(Hy&4194240)&&(Hy=64),n}function l2(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function vy(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ps(e),n[e]=t}function fB(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-ps(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Zx(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ps(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var it=0;function xR(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var TR,jx,ER,AR,CR,gD=!1,zy=[],Al=null,Cl=null,Sl=null,Yp=new Map,Kp=new Map,Ia=[],pB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WA(n,e){switch(n){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":Yp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kp.delete(e.pointerId)}}function $f(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=_y(e),e!==null&&jx(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function gB(n,e,t,i,r){switch(e){case"focusin":return Al=$f(Al,n,e,t,i,r),!0;case"dragenter":return Cl=$f(Cl,n,e,t,i,r),!0;case"mouseover":return Sl=$f(Sl,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Yp.set(s,$f(Yp.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Kp.set(s,$f(Kp.get(s)||null,n,e,t,i,r)),!0}return!1}function SR(n){var e=ac(n.target);if(e!==null){var t=Vu(e);if(t!==null){if(e=t.tag,e===13){if(e=mR(t),e!==null){n.blockedOn=e,CR(n.priority,function(){ER(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Av(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=mD(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);uD=i,t.target.dispatchEvent(i),uD=null}else return e=_y(t),e!==null&&jx(e),n.blockedOn=t,!1;e.shift()}return!0}function VA(n,e,t){Av(n)&&t.delete(e)}function mB(){gD=!1,Al!==null&&Av(Al)&&(Al=null),Cl!==null&&Av(Cl)&&(Cl=null),Sl!==null&&Av(Sl)&&(Sl=null),Yp.forEach(VA),Kp.forEach(VA)}function Xf(n,e){n.blockedOn===e&&(n.blockedOn=null,gD||(gD=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,mB)))}function Jp(n){function e(r){return Xf(r,n)}if(0<zy.length){Xf(zy[0],n);for(var t=1;t<zy.length;t++){var i=zy[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Al!==null&&Xf(Al,n),Cl!==null&&Xf(Cl,n),Sl!==null&&Xf(Sl,n),Yp.forEach(e),Kp.forEach(e),t=0;t<Ia.length;t++)i=Ia[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Ia.length&&(t=Ia[0],t.blockedOn===null);)SR(t),t.blockedOn===null&&Ia.shift()}var Nd=va.ReactCurrentBatchConfig,E0=!0;function yB(n,e,t,i){var r=it,s=Nd.transition;Nd.transition=null;try{it=1,eT(n,e,t,i)}finally{it=r,Nd.transition=s}}function vB(n,e,t,i){var r=it,s=Nd.transition;Nd.transition=null;try{it=4,eT(n,e,t,i)}finally{it=r,Nd.transition=s}}function eT(n,e,t,i){if(E0){var r=mD(n,e,t,i);if(r===null)v2(n,e,i,A0,t),WA(n,i);else if(gB(r,n,e,t,i))i.stopPropagation();else if(WA(n,i),e&4&&-1<pB.indexOf(n)){for(;r!==null;){var s=_y(r);if(s!==null&&TR(s),s=mD(n,e,t,i),s===null&&v2(n,e,i,A0,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else v2(n,e,i,null,t)}}var A0=null;function mD(n,e,t,i){if(A0=null,n=Jx(i),n=ac(n),n!==null)if(e=Vu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=mR(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return A0=n,null}function UR(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sB()){case Qx:return 1;case _R:return 4;case x0:case oB:return 16;case DR:return 536870912;default:return 16}default:return 16}}var xl=null,tT=null,Cv=null;function IR(){if(Cv)return Cv;var n,e=tT,t=e.length,i,r="value"in xl?xl.value:xl.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Cv=r.slice(n,1<i?1-i:void 0)}function Sv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Gy(){return!0}function HA(){return!1}function pr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gy:HA,this.isPropagationStopped=HA,this}return Pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Gy)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Gy)},persist:function(){},isPersistent:Gy}),e}var Rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nT=pr(Rf),by=Pt({},Rf,{view:0,detail:0}),bB=pr(by),c2,u2,Yf,H1=Pt({},by,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iT,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yf&&(Yf&&n.type==="mousemove"?(c2=n.screenX-Yf.screenX,u2=n.screenY-Yf.screenY):u2=c2=0,Yf=n),c2)},movementY:function(n){return"movementY"in n?n.movementY:u2}}),qA=pr(H1),_B=Pt({},H1,{dataTransfer:0}),DB=pr(_B),wB=Pt({},by,{relatedTarget:0}),d2=pr(wB),xB=Pt({},Rf,{animationName:0,elapsedTime:0,pseudoElement:0}),TB=pr(xB),EB=Pt({},Rf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),AB=pr(EB),CB=Pt({},Rf,{data:0}),zA=pr(CB),SB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kB(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=IB[n])?!!e[n]:!1}function iT(){return kB}var RB=Pt({},by,{key:function(n){if(n.key){var e=SB[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Sv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?UB[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iT,charCode:function(n){return n.type==="keypress"?Sv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Sv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),FB=pr(RB),PB=Pt({},H1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GA=pr(PB),MB=Pt({},by,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iT}),NB=pr(MB),LB=Pt({},Rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),BB=pr(LB),OB=Pt({},H1,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),WB=pr(OB),VB=[9,13,27,32],rT=la&&"CompositionEvent"in window,Bp=null;la&&"documentMode"in document&&(Bp=document.documentMode);var HB=la&&"TextEvent"in window&&!Bp,kR=la&&(!rT||Bp&&8<Bp&&11>=Bp),$A=" ",XA=!1;function RR(n,e){switch(n){case"keyup":return VB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FR(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var fd=!1;function qB(n,e){switch(n){case"compositionend":return FR(e);case"keypress":return e.which!==32?null:(XA=!0,$A);case"textInput":return n=e.data,n===$A&&XA?null:n;default:return null}}function zB(n,e){if(fd)return n==="compositionend"||!rT&&RR(n,e)?(n=IR(),Cv=tT=xl=null,fd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kR&&e.locale!=="ko"?null:e.data;default:return null}}var GB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!GB[n.type]:e==="textarea"}function PR(n,e,t,i){dR(i),e=C0(e,"onChange"),0<e.length&&(t=new nT("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Op=null,Qp=null;function $B(n){GR(n,0)}function q1(n){var e=md(n);if(rR(e))return n}function XB(n,e){if(n==="change")return e}var MR=!1;if(la){var h2;if(la){var f2="oninput"in document;if(!f2){var KA=document.createElement("div");KA.setAttribute("oninput","return;"),f2=typeof KA.oninput=="function"}h2=f2}else h2=!1;MR=h2&&(!document.documentMode||9<document.documentMode)}function JA(){Op&&(Op.detachEvent("onpropertychange",NR),Qp=Op=null)}function NR(n){if(n.propertyName==="value"&&q1(Qp)){var e=[];PR(e,Qp,n,Jx(n)),gR($B,e)}}function YB(n,e,t){n==="focusin"?(JA(),Op=e,Qp=t,Op.attachEvent("onpropertychange",NR)):n==="focusout"&&JA()}function KB(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return q1(Qp)}function JB(n,e){if(n==="click")return q1(e)}function QB(n,e){if(n==="input"||n==="change")return q1(e)}function ZB(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var vs=typeof Object.is=="function"?Object.is:ZB;function Zp(n,e){if(vs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Z_.call(e,r)||!vs(n[r],e[r]))return!1}return!0}function QA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ZA(n,e){var t=QA(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=QA(t)}}function LR(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?LR(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function BR(){for(var n=window,e=_0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=_0(n.document)}return e}function sT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function jB(n){var e=BR(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&LR(t.ownerDocument.documentElement,t)){if(i!==null&&sT(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=ZA(t,s);var o=ZA(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var e4=la&&"documentMode"in document&&11>=document.documentMode,pd=null,yD=null,Wp=null,vD=!1;function jA(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;vD||pd==null||pd!==_0(i)||(i=pd,"selectionStart"in i&&sT(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Wp&&Zp(Wp,i)||(Wp=i,i=C0(yD,"onSelect"),0<i.length&&(e=new nT("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=pd)))}function $y(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var gd={animationend:$y("Animation","AnimationEnd"),animationiteration:$y("Animation","AnimationIteration"),animationstart:$y("Animation","AnimationStart"),transitionend:$y("Transition","TransitionEnd")},p2={},OR={};la&&(OR=document.createElement("div").style,"AnimationEvent"in window||(delete gd.animationend.animation,delete gd.animationiteration.animation,delete gd.animationstart.animation),"TransitionEvent"in window||delete gd.transitionend.transition);function z1(n){if(p2[n])return p2[n];if(!gd[n])return n;var e=gd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in OR)return p2[n]=e[t];return n}var WR=z1("animationend"),VR=z1("animationiteration"),HR=z1("animationstart"),qR=z1("transitionend"),zR=new Map,eC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hl(n,e){zR.set(n,e),Wu(e,[n])}for(var g2=0;g2<eC.length;g2++){var m2=eC[g2],t4=m2.toLowerCase(),n4=m2[0].toUpperCase()+m2.slice(1);Hl(t4,"on"+n4)}Hl(WR,"onAnimationEnd");Hl(VR,"onAnimationIteration");Hl(HR,"onAnimationStart");Hl("dblclick","onDoubleClick");Hl("focusin","onFocus");Hl("focusout","onBlur");Hl(qR,"onTransitionEnd");yf("onMouseEnter",["mouseout","mouseover"]);yf("onMouseLeave",["mouseout","mouseover"]);yf("onPointerEnter",["pointerout","pointerover"]);yf("onPointerLeave",["pointerout","pointerover"]);Wu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i4=new Set("cancel close invalid load scroll toggle".split(" ").concat(hp));function tC(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,tB(i,e,void 0,n),n.currentTarget=null}function GR(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;tC(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;tC(r,a,c),s=l}}}if(w0)throw n=fD,w0=!1,fD=null,n}function wt(n,e){var t=e[xD];t===void 0&&(t=e[xD]=new Set);var i=n+"__bubble";t.has(i)||($R(e,n,2,!1),t.add(i))}function y2(n,e,t){var i=0;e&&(i|=4),$R(t,n,i,e)}var Xy="_reactListening"+Math.random().toString(36).slice(2);function jp(n){if(!n[Xy]){n[Xy]=!0,jk.forEach(function(t){t!=="selectionchange"&&(i4.has(t)||y2(t,!1,n),y2(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Xy]||(e[Xy]=!0,y2("selectionchange",!1,e))}}function $R(n,e,t,i){switch(UR(e)){case 1:var r=yB;break;case 4:r=vB;break;default:r=eT}t=r.bind(null,e,t,n),r=void 0,!hD||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function v2(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ac(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}gR(function(){var c=s,u=Jx(t),h=[];e:{var f=zR.get(n);if(f!==void 0){var g=nT,_=n;switch(n){case"keypress":if(Sv(t)===0)break e;case"keydown":case"keyup":g=FB;break;case"focusin":_="focus",g=d2;break;case"focusout":_="blur",g=d2;break;case"beforeblur":case"afterblur":g=d2;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=DB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=NB;break;case WR:case VR:case HR:g=TB;break;case qR:g=BB;break;case"scroll":g=bB;break;case"wheel":g=WB;break;case"copy":case"cut":case"paste":g=AB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=GA}var m=(e&4)!==0,D=!m&&n==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var b=c,w;b!==null;){w=b;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,y!==null&&(x=Xp(b,y),x!=null&&m.push(eg(b,x,w)))),D)break;b=b.return}0<m.length&&(f=new g(f,_,null,t,u),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",f&&t!==uD&&(_=t.relatedTarget||t.fromElement)&&(ac(_)||_[ca]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=t.relatedTarget||t.toElement,g=c,_=_?ac(_):null,_!==null&&(D=Vu(_),_!==D||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(m=qA,x="onMouseLeave",y="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(m=GA,x="onPointerLeave",y="onPointerEnter",b="pointer"),D=g==null?f:md(g),w=_==null?f:md(_),f=new m(x,b+"leave",g,t,u),f.target=D,f.relatedTarget=w,x=null,ac(u)===c&&(m=new m(y,b+"enter",_,t,u),m.target=w,m.relatedTarget=D,x=m),D=x,g&&_)t:{for(m=g,y=_,b=0,w=m;w;w=Yu(w))b++;for(w=0,x=y;x;x=Yu(x))w++;for(;0<b-w;)m=Yu(m),b--;for(;0<w-b;)y=Yu(y),w--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Yu(m),y=Yu(y)}m=null}else m=null;g!==null&&nC(h,f,g,m,!1),_!==null&&D!==null&&nC(h,D,_,m,!0)}}e:{if(f=c?md(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=XB;else if(YA(f))if(MR)T=QB;else{T=KB;var E=YB}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=JB);if(T&&(T=T(n,c))){PR(h,T,t,u);break e}E&&E(n,f,c),n==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&sD(f,"number",f.value)}switch(E=c?md(c):window,n){case"focusin":(YA(E)||E.contentEditable==="true")&&(pd=E,yD=c,Wp=null);break;case"focusout":Wp=yD=pd=null;break;case"mousedown":vD=!0;break;case"contextmenu":case"mouseup":case"dragend":vD=!1,jA(h,t,u);break;case"selectionchange":if(e4)break;case"keydown":case"keyup":jA(h,t,u)}var C;if(rT)e:{switch(n){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else fd?RR(n,t)&&(F="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(F="onCompositionStart");F&&(kR&&t.locale!=="ko"&&(fd||F!=="onCompositionStart"?F==="onCompositionEnd"&&fd&&(C=IR()):(xl=u,tT="value"in xl?xl.value:xl.textContent,fd=!0)),E=C0(c,F),0<E.length&&(F=new zA(F,n,null,t,u),h.push({event:F,listeners:E}),C?F.data=C:(C=FR(t),C!==null&&(F.data=C)))),(C=HB?qB(n,t):zB(n,t))&&(c=C0(c,"onBeforeInput"),0<c.length&&(u=new zA("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=C))}GR(h,e)})}function eg(n,e,t){return{instance:n,listener:e,currentTarget:t}}function C0(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Xp(n,t),s!=null&&i.unshift(eg(n,s,r)),s=Xp(n,e),s!=null&&i.push(eg(n,s,r))),n=n.return}return i}function Yu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function nC(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Xp(t,s),l!=null&&o.unshift(eg(t,l,a))):r||(l=Xp(t,s),l!=null&&o.push(eg(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var r4=/\r\n?/g,s4=/\u0000|\uFFFD/g;function iC(n){return(typeof n=="string"?n:""+n).replace(r4,`
`).replace(s4,"")}function Yy(n,e,t){if(e=iC(e),iC(n)!==e&&t)throw Error(fe(425))}function S0(){}var bD=null,_D=null;function DD(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wD=typeof setTimeout=="function"?setTimeout:void 0,o4=typeof clearTimeout=="function"?clearTimeout:void 0,rC=typeof Promise=="function"?Promise:void 0,a4=typeof queueMicrotask=="function"?queueMicrotask:typeof rC<"u"?function(n){return rC.resolve(null).then(n).catch(l4)}:wD;function l4(n){setTimeout(function(){throw n})}function b2(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Jp(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Jp(e)}function Ul(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function sC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ff=Math.random().toString(36).slice(2),Zs="__reactFiber$"+Ff,tg="__reactProps$"+Ff,ca="__reactContainer$"+Ff,xD="__reactEvents$"+Ff,c4="__reactListeners$"+Ff,u4="__reactHandles$"+Ff;function ac(n){var e=n[Zs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ca]||t[Zs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=sC(n);n!==null;){if(t=n[Zs])return t;n=sC(n)}return e}n=t,t=n.parentNode}return null}function _y(n){return n=n[Zs]||n[ca],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function md(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(fe(33))}function G1(n){return n[tg]||null}var TD=[],yd=-1;function ql(n){return{current:n}}function Tt(n){0>yd||(n.current=TD[yd],TD[yd]=null,yd--)}function vt(n,e){yd++,TD[yd]=n.current,n.current=e}var Nl={},Jn=ql(Nl),Ui=ql(!1),Su=Nl;function vf(n,e){var t=n.type.contextTypes;if(!t)return Nl;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Ii(n){return n=n.childContextTypes,n!=null}function U0(){Tt(Ui),Tt(Jn)}function oC(n,e,t){if(Jn.current!==Nl)throw Error(fe(168));vt(Jn,e),vt(Ui,t)}function XR(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(fe(108,Y5(n)||"Unknown",r));return Pt({},t,i)}function I0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Nl,Su=Jn.current,vt(Jn,n),vt(Ui,Ui.current),!0}function aC(n,e,t){var i=n.stateNode;if(!i)throw Error(fe(169));t?(n=XR(n,e,Su),i.__reactInternalMemoizedMergedChildContext=n,Tt(Ui),Tt(Jn),vt(Jn,n)):Tt(Ui),vt(Ui,t)}var bo=null,$1=!1,_2=!1;function YR(n){bo===null?bo=[n]:bo.push(n)}function d4(n){$1=!0,YR(n)}function zl(){if(!_2&&bo!==null){_2=!0;var n=0,e=it;try{var t=bo;for(it=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}bo=null,$1=!1}catch(r){throw bo!==null&&(bo=bo.slice(n+1)),bR(Qx,zl),r}finally{it=e,_2=!1}}return null}var vd=[],bd=0,k0=null,R0=0,Fr=[],Pr=0,Uu=null,ta=1,na="";function Zl(n,e){vd[bd++]=R0,vd[bd++]=k0,k0=n,R0=e}function KR(n,e,t){Fr[Pr++]=ta,Fr[Pr++]=na,Fr[Pr++]=Uu,Uu=n;var i=ta;n=na;var r=32-ps(i)-1;i&=~(1<<r),t+=1;var s=32-ps(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ta=1<<32-ps(e)+r|t<<r|i,na=s+n}else ta=1<<s|t<<r|i,na=n}function oT(n){n.return!==null&&(Zl(n,1),KR(n,1,0))}function aT(n){for(;n===k0;)k0=vd[--bd],vd[bd]=null,R0=vd[--bd],vd[bd]=null;for(;n===Uu;)Uu=Fr[--Pr],Fr[Pr]=null,na=Fr[--Pr],Fr[Pr]=null,ta=Fr[--Pr],Fr[Pr]=null}var ur=null,cr=null,St=!1,ds=null;function JR(n,e){var t=Lr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function lC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ur=n,cr=Ul(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ur=n,cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Uu!==null?{id:ta,overflow:na}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Lr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ur=n,cr=null,!0):!1;default:return!1}}function ED(n){return(n.mode&1)!==0&&(n.flags&128)===0}function AD(n){if(St){var e=cr;if(e){var t=e;if(!lC(n,e)){if(ED(n))throw Error(fe(418));e=Ul(t.nextSibling);var i=ur;e&&lC(n,e)?JR(i,t):(n.flags=n.flags&-4097|2,St=!1,ur=n)}}else{if(ED(n))throw Error(fe(418));n.flags=n.flags&-4097|2,St=!1,ur=n}}}function cC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ur=n}function Ky(n){if(n!==ur)return!1;if(!St)return cC(n),St=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!DD(n.type,n.memoizedProps)),e&&(e=cr)){if(ED(n))throw QR(),Error(fe(418));for(;e;)JR(n,e),e=Ul(e.nextSibling)}if(cC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(fe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){cr=Ul(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}cr=null}}else cr=ur?Ul(n.stateNode.nextSibling):null;return!0}function QR(){for(var n=cr;n;)n=Ul(n.nextSibling)}function bf(){cr=ur=null,St=!1}function lT(n){ds===null?ds=[n]:ds.push(n)}var h4=va.ReactCurrentBatchConfig;function Kf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(fe(309));var i=t.stateNode}if(!i)throw Error(fe(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(fe(284));if(!t._owner)throw Error(fe(290,n))}return n}function Jy(n,e){throw n=Object.prototype.toString.call(e),Error(fe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function uC(n){var e=n._init;return e(n._payload)}function ZR(n){function e(y,b){if(n){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function t(y,b){if(!n)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function i(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function r(y,b){return y=Fl(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,n?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,b,w,x){return b===null||b.tag!==6?(b=C2(w,y.mode,x),b.return=y,b):(b=r(b,w),b.return=y,b)}function l(y,b,w,x){var T=w.type;return T===hd?u(y,b,w.props.children,x,w.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ca&&uC(T)===b.type)?(x=r(b,w.props),x.ref=Kf(y,b,w),x.return=y,x):(x=Mv(w.type,w.key,w.props,null,y.mode,x),x.ref=Kf(y,b,w),x.return=y,x)}function c(y,b,w,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=S2(w,y.mode,x),b.return=y,b):(b=r(b,w.children||[]),b.return=y,b)}function u(y,b,w,x,T){return b===null||b.tag!==7?(b=Au(w,y.mode,x,T),b.return=y,b):(b=r(b,w),b.return=y,b)}function h(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=C2(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Oy:return w=Mv(b.type,b.key,b.props,null,y.mode,w),w.ref=Kf(y,null,b),w.return=y,w;case dd:return b=S2(b,y.mode,w),b.return=y,b;case Ca:var x=b._init;return h(y,x(b._payload),w)}if(up(b)||zf(b))return b=Au(b,y.mode,w,null),b.return=y,b;Jy(y,b)}return null}function f(y,b,w,x){var T=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(y,b,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Oy:return w.key===T?l(y,b,w,x):null;case dd:return w.key===T?c(y,b,w,x):null;case Ca:return T=w._init,f(y,b,T(w._payload),x)}if(up(w)||zf(w))return T!==null?null:u(y,b,w,x,null);Jy(y,w)}return null}function g(y,b,w,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(w)||null,a(b,y,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Oy:return y=y.get(x.key===null?w:x.key)||null,l(b,y,x,T);case dd:return y=y.get(x.key===null?w:x.key)||null,c(b,y,x,T);case Ca:var E=x._init;return g(y,b,w,E(x._payload),T)}if(up(x)||zf(x))return y=y.get(w)||null,u(b,y,x,T,null);Jy(b,x)}return null}function _(y,b,w,x){for(var T=null,E=null,C=b,F=b=0,P=null;C!==null&&F<w.length;F++){C.index>F?(P=C,C=null):P=C.sibling;var O=f(y,C,w[F],x);if(O===null){C===null&&(C=P);break}n&&C&&O.alternate===null&&e(y,C),b=s(O,b,F),E===null?T=O:E.sibling=O,E=O,C=P}if(F===w.length)return t(y,C),St&&Zl(y,F),T;if(C===null){for(;F<w.length;F++)C=h(y,w[F],x),C!==null&&(b=s(C,b,F),E===null?T=C:E.sibling=C,E=C);return St&&Zl(y,F),T}for(C=i(y,C);F<w.length;F++)P=g(C,y,F,w[F],x),P!==null&&(n&&P.alternate!==null&&C.delete(P.key===null?F:P.key),b=s(P,b,F),E===null?T=P:E.sibling=P,E=P);return n&&C.forEach(function(Y){return e(y,Y)}),St&&Zl(y,F),T}function m(y,b,w,x){var T=zf(w);if(typeof T!="function")throw Error(fe(150));if(w=T.call(w),w==null)throw Error(fe(151));for(var E=T=null,C=b,F=b=0,P=null,O=w.next();C!==null&&!O.done;F++,O=w.next()){C.index>F?(P=C,C=null):P=C.sibling;var Y=f(y,C,O.value,x);if(Y===null){C===null&&(C=P);break}n&&C&&Y.alternate===null&&e(y,C),b=s(Y,b,F),E===null?T=Y:E.sibling=Y,E=Y,C=P}if(O.done)return t(y,C),St&&Zl(y,F),T;if(C===null){for(;!O.done;F++,O=w.next())O=h(y,O.value,x),O!==null&&(b=s(O,b,F),E===null?T=O:E.sibling=O,E=O);return St&&Zl(y,F),T}for(C=i(y,C);!O.done;F++,O=w.next())O=g(C,y,F,O.value,x),O!==null&&(n&&O.alternate!==null&&C.delete(O.key===null?F:O.key),b=s(O,b,F),E===null?T=O:E.sibling=O,E=O);return n&&C.forEach(function(R){return e(y,R)}),St&&Zl(y,F),T}function D(y,b,w,x){if(typeof w=="object"&&w!==null&&w.type===hd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Oy:e:{for(var T=w.key,E=b;E!==null;){if(E.key===T){if(T=w.type,T===hd){if(E.tag===7){t(y,E.sibling),b=r(E,w.props.children),b.return=y,y=b;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ca&&uC(T)===E.type){t(y,E.sibling),b=r(E,w.props),b.ref=Kf(y,E,w),b.return=y,y=b;break e}t(y,E);break}else e(y,E);E=E.sibling}w.type===hd?(b=Au(w.props.children,y.mode,x,w.key),b.return=y,y=b):(x=Mv(w.type,w.key,w.props,null,y.mode,x),x.ref=Kf(y,b,w),x.return=y,y=x)}return o(y);case dd:e:{for(E=w.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){t(y,b.sibling),b=r(b,w.children||[]),b.return=y,y=b;break e}else{t(y,b);break}else e(y,b);b=b.sibling}b=S2(w,y.mode,x),b.return=y,y=b}return o(y);case Ca:return E=w._init,D(y,b,E(w._payload),x)}if(up(w))return _(y,b,w,x);if(zf(w))return m(y,b,w,x);Jy(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(t(y,b.sibling),b=r(b,w),b.return=y,y=b):(t(y,b),b=C2(w,y.mode,x),b.return=y,y=b),o(y)):t(y,b)}return D}var _f=ZR(!0),jR=ZR(!1),F0=ql(null),P0=null,_d=null,cT=null;function uT(){cT=_d=P0=null}function dT(n){var e=F0.current;Tt(F0),n._currentValue=e}function CD(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Ld(n,e){P0=n,cT=_d=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Si=!0),n.firstContext=null)}function qr(n){var e=n._currentValue;if(cT!==n)if(n={context:n,memoizedValue:e,next:null},_d===null){if(P0===null)throw Error(fe(308));_d=n,P0.dependencies={lanes:0,firstContext:n}}else _d=_d.next=n;return e}var lc=null;function hT(n){lc===null?lc=[n]:lc.push(n)}function eF(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,hT(e)):(t.next=r.next,r.next=t),e.interleaved=t,ua(n,i)}function ua(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Sa=!1;function fT(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tF(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ia(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Il(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Xe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ua(n,t)}return r=i.interleaved,r===null?(e.next=e,hT(i)):(e.next=r.next,r.next=e),i.interleaved=e,ua(n,t)}function Uv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Zx(n,t)}}function dC(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function M0(n,e,t,i){var r=n.updateQueue;Sa=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=n,m=a;switch(f=e,g=t,m.tag){case 1:if(_=m.payload,typeof _=="function"){h=_.call(g,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=m.payload,f=typeof _=="function"?_.call(g,h,f):_,f==null)break e;h=Pt({},h,f);break e;case 2:Sa=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ku|=o,n.lanes=o,n.memoizedState=h}}function hC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(fe(191,r));r.call(i)}}}var Dy={},no=ql(Dy),ng=ql(Dy),ig=ql(Dy);function cc(n){if(n===Dy)throw Error(fe(174));return n}function pT(n,e){switch(vt(ig,e),vt(ng,n),vt(no,Dy),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:aD(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=aD(e,n)}Tt(no),vt(no,e)}function Df(){Tt(no),Tt(ng),Tt(ig)}function nF(n){cc(ig.current);var e=cc(no.current),t=aD(e,n.type);e!==t&&(vt(ng,n),vt(no,t))}function gT(n){ng.current===n&&(Tt(no),Tt(ng))}var kt=ql(0);function N0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var D2=[];function mT(){for(var n=0;n<D2.length;n++)D2[n]._workInProgressVersionPrimary=null;D2.length=0}var Iv=va.ReactCurrentDispatcher,w2=va.ReactCurrentBatchConfig,Iu=0,Rt=null,sn=null,yn=null,L0=!1,Vp=!1,rg=0,f4=0;function Ln(){throw Error(fe(321))}function yT(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!vs(n[t],e[t]))return!1;return!0}function vT(n,e,t,i,r,s){if(Iu=s,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Iv.current=n===null||n.memoizedState===null?y4:v4,n=t(i,r),Vp){s=0;do{if(Vp=!1,rg=0,25<=s)throw Error(fe(301));s+=1,yn=sn=null,e.updateQueue=null,Iv.current=b4,n=t(i,r)}while(Vp)}if(Iv.current=B0,e=sn!==null&&sn.next!==null,Iu=0,yn=sn=Rt=null,L0=!1,e)throw Error(fe(300));return n}function bT(){var n=rg!==0;return rg=0,n}function Us(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Rt.memoizedState=yn=n:yn=yn.next=n,yn}function zr(){if(sn===null){var n=Rt.alternate;n=n!==null?n.memoizedState:null}else n=sn.next;var e=yn===null?Rt.memoizedState:yn.next;if(e!==null)yn=e,sn=n;else{if(n===null)throw Error(fe(310));sn=n,n={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},yn===null?Rt.memoizedState=yn=n:yn=yn.next=n}return yn}function sg(n,e){return typeof e=="function"?e(n):e}function x2(n){var e=zr(),t=e.queue;if(t===null)throw Error(fe(311));t.lastRenderedReducer=n;var i=sn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Iu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Rt.lanes|=u,ku|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,vs(i,e.memoizedState)||(Si=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Rt.lanes|=s,ku|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function T2(n){var e=zr(),t=e.queue;if(t===null)throw Error(fe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);vs(s,e.memoizedState)||(Si=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function iF(){}function rF(n,e){var t=Rt,i=zr(),r=e(),s=!vs(i.memoizedState,r);if(s&&(i.memoizedState=r,Si=!0),i=i.queue,_T(aF.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||yn!==null&&yn.memoizedState.tag&1){if(t.flags|=2048,og(9,oF.bind(null,t,i,r,e),void 0,null),vn===null)throw Error(fe(349));Iu&30||sF(t,e,r)}return r}function sF(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function oF(n,e,t,i){e.value=t,e.getSnapshot=i,lF(e)&&cF(n)}function aF(n,e,t){return t(function(){lF(e)&&cF(n)})}function lF(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!vs(n,t)}catch{return!0}}function cF(n){var e=ua(n,1);e!==null&&gs(e,n,1,-1)}function fC(n){var e=Us();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:n},e.queue=n,n=n.dispatch=m4.bind(null,Rt,n),[e.memoizedState,n]}function og(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function uF(){return zr().memoizedState}function kv(n,e,t,i){var r=Us();Rt.flags|=n,r.memoizedState=og(1|e,t,void 0,i===void 0?null:i)}function X1(n,e,t,i){var r=zr();i=i===void 0?null:i;var s=void 0;if(sn!==null){var o=sn.memoizedState;if(s=o.destroy,i!==null&&yT(i,o.deps)){r.memoizedState=og(e,t,s,i);return}}Rt.flags|=n,r.memoizedState=og(1|e,t,s,i)}function pC(n,e){return kv(8390656,8,n,e)}function _T(n,e){return X1(2048,8,n,e)}function dF(n,e){return X1(4,2,n,e)}function hF(n,e){return X1(4,4,n,e)}function fF(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function pF(n,e,t){return t=t!=null?t.concat([n]):null,X1(4,4,fF.bind(null,e,n),t)}function DT(){}function gF(n,e){var t=zr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&yT(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function mF(n,e){var t=zr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&yT(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function yF(n,e,t){return Iu&21?(vs(t,e)||(t=wR(),Rt.lanes|=t,ku|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Si=!0),n.memoizedState=t)}function p4(n,e){var t=it;it=t!==0&&4>t?t:4,n(!0);var i=w2.transition;w2.transition={};try{n(!1),e()}finally{it=t,w2.transition=i}}function vF(){return zr().memoizedState}function g4(n,e,t){var i=Rl(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},bF(n))_F(e,t);else if(t=eF(n,e,t,i),t!==null){var r=ui();gs(t,n,i,r),DF(t,e,i)}}function m4(n,e,t){var i=Rl(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(bF(n))_F(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,vs(a,o)){var l=e.interleaved;l===null?(r.next=r,hT(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=eF(n,e,r,i),t!==null&&(r=ui(),gs(t,n,i,r),DF(t,e,i))}}function bF(n){var e=n.alternate;return n===Rt||e!==null&&e===Rt}function _F(n,e){Vp=L0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function DF(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Zx(n,t)}}var B0={readContext:qr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},y4={readContext:qr,useCallback:function(n,e){return Us().memoizedState=[n,e===void 0?null:e],n},useContext:qr,useEffect:pC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,kv(4194308,4,fF.bind(null,e,n),t)},useLayoutEffect:function(n,e){return kv(4194308,4,n,e)},useInsertionEffect:function(n,e){return kv(4,2,n,e)},useMemo:function(n,e){var t=Us();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Us();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=g4.bind(null,Rt,n),[i.memoizedState,n]},useRef:function(n){var e=Us();return n={current:n},e.memoizedState=n},useState:fC,useDebugValue:DT,useDeferredValue:function(n){return Us().memoizedState=n},useTransition:function(){var n=fC(!1),e=n[0];return n=p4.bind(null,n[1]),Us().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Rt,r=Us();if(St){if(t===void 0)throw Error(fe(407));t=t()}else{if(t=e(),vn===null)throw Error(fe(349));Iu&30||sF(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,pC(aF.bind(null,i,s,n),[n]),i.flags|=2048,og(9,oF.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Us(),e=vn.identifierPrefix;if(St){var t=na,i=ta;t=(i&~(1<<32-ps(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=rg++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=f4++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},v4={readContext:qr,useCallback:gF,useContext:qr,useEffect:_T,useImperativeHandle:pF,useInsertionEffect:dF,useLayoutEffect:hF,useMemo:mF,useReducer:x2,useRef:uF,useState:function(){return x2(sg)},useDebugValue:DT,useDeferredValue:function(n){var e=zr();return yF(e,sn.memoizedState,n)},useTransition:function(){var n=x2(sg)[0],e=zr().memoizedState;return[n,e]},useMutableSource:iF,useSyncExternalStore:rF,useId:vF,unstable_isNewReconciler:!1},b4={readContext:qr,useCallback:gF,useContext:qr,useEffect:_T,useImperativeHandle:pF,useInsertionEffect:dF,useLayoutEffect:hF,useMemo:mF,useReducer:T2,useRef:uF,useState:function(){return T2(sg)},useDebugValue:DT,useDeferredValue:function(n){var e=zr();return sn===null?e.memoizedState=n:yF(e,sn.memoizedState,n)},useTransition:function(){var n=T2(sg)[0],e=zr().memoizedState;return[n,e]},useMutableSource:iF,useSyncExternalStore:rF,useId:vF,unstable_isNewReconciler:!1};function Qr(n,e){if(n&&n.defaultProps){e=Pt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function SD(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Pt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Y1={isMounted:function(n){return(n=n._reactInternals)?Vu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=ui(),r=Rl(n),s=ia(i,r);s.payload=e,t!=null&&(s.callback=t),e=Il(n,s,r),e!==null&&(gs(e,n,r,i),Uv(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=ui(),r=Rl(n),s=ia(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Il(n,s,r),e!==null&&(gs(e,n,r,i),Uv(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ui(),i=Rl(n),r=ia(t,i);r.tag=2,e!=null&&(r.callback=e),e=Il(n,r,i),e!==null&&(gs(e,n,i,t),Uv(e,n,i))}};function gC(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zp(t,i)||!Zp(r,s):!0}function wF(n,e,t){var i=!1,r=Nl,s=e.contextType;return typeof s=="object"&&s!==null?s=qr(s):(r=Ii(e)?Su:Jn.current,i=e.contextTypes,s=(i=i!=null)?vf(n,r):Nl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Y1,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function mC(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Y1.enqueueReplaceState(e,e.state,null)}function UD(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},fT(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=qr(s):(s=Ii(e)?Su:Jn.current,r.context=vf(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(SD(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Y1.enqueueReplaceState(r,r.state,null),M0(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function wf(n,e){try{var t="",i=e;do t+=X5(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function E2(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function ID(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var _4=typeof WeakMap=="function"?WeakMap:Map;function xF(n,e,t){t=ia(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){W0||(W0=!0,WD=i),ID(n,e)},t}function TF(n,e,t){t=ia(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){ID(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){ID(n,e),typeof i!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function yC(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new _4;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=P4.bind(null,n,e,t),e.then(n,n))}function vC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function bC(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ia(-1,1),e.tag=2,Il(t,e,1))),t.lanes|=1),n)}var D4=va.ReactCurrentOwner,Si=!1;function li(n,e,t,i){e.child=n===null?jR(e,null,t,i):_f(e,n.child,t,i)}function _C(n,e,t,i,r){t=t.render;var s=e.ref;return Ld(e,r),i=vT(n,e,t,i,s,r),t=bT(),n!==null&&!Si?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,da(n,e,r)):(St&&t&&oT(e),e.flags|=1,li(n,e,i,r),e.child)}function DC(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!UT(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,EF(n,e,s,i,r)):(n=Mv(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Zp,t(o,i)&&n.ref===e.ref)return da(n,e,r)}return e.flags|=1,n=Fl(s,i),n.ref=e.ref,n.return=e,e.child=n}function EF(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Zp(s,i)&&n.ref===e.ref)if(Si=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Si=!0);else return e.lanes=n.lanes,da(n,e,r)}return kD(n,e,t,i,r)}function AF(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(wd,or),or|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,vt(wd,or),or|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,vt(wd,or),or|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,vt(wd,or),or|=i;return li(n,e,r,t),e.child}function CF(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function kD(n,e,t,i,r){var s=Ii(t)?Su:Jn.current;return s=vf(e,s),Ld(e,r),t=vT(n,e,t,i,s,r),i=bT(),n!==null&&!Si?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,da(n,e,r)):(St&&i&&oT(e),e.flags|=1,li(n,e,t,r),e.child)}function wC(n,e,t,i,r){if(Ii(t)){var s=!0;I0(e)}else s=!1;if(Ld(e,r),e.stateNode===null)Rv(n,e),wF(e,t,i),UD(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=qr(c):(c=Ii(t)?Su:Jn.current,c=vf(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&mC(e,o,i,c),Sa=!1;var f=e.memoizedState;o.state=f,M0(e,i,o,r),l=e.memoizedState,a!==i||f!==l||Ui.current||Sa?(typeof u=="function"&&(SD(e,t,u,i),l=e.memoizedState),(a=Sa||gC(e,t,a,i,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,tF(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Qr(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=qr(l):(l=Ii(t)?Su:Jn.current,l=vf(e,l));var g=t.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&mC(e,o,i,l),Sa=!1,f=e.memoizedState,o.state=f,M0(e,i,o,r);var _=e.memoizedState;a!==h||f!==_||Ui.current||Sa?(typeof g=="function"&&(SD(e,t,g,i),_=e.memoizedState),(c=Sa||gC(e,t,c,i,f,_,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),o.props=i,o.state=_,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return RD(n,e,t,i,s,r)}function RD(n,e,t,i,r,s){CF(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&aC(e,t,!1),da(n,e,s);i=e.stateNode,D4.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=_f(e,n.child,null,s),e.child=_f(e,null,a,s)):li(n,e,a,s),e.memoizedState=i.state,r&&aC(e,t,!0),e.child}function SF(n){var e=n.stateNode;e.pendingContext?oC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&oC(n,e.context,!1),pT(n,e.containerInfo)}function xC(n,e,t,i,r){return bf(),lT(r),e.flags|=256,li(n,e,t,i),e.child}var FD={dehydrated:null,treeContext:null,retryLane:0};function PD(n){return{baseLanes:n,cachePool:null,transitions:null}}function UF(n,e,t){var i=e.pendingProps,r=kt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),vt(kt,r&1),n===null)return AD(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Q1(o,i,0,null),n=Au(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=PD(t),e.memoizedState=FD,n):wT(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return w4(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Fl(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Fl(a,s):(s=Au(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?PD(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=FD,i}return s=n.child,n=s.sibling,i=Fl(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function wT(n,e){return e=Q1({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Qy(n,e,t,i){return i!==null&&lT(i),_f(e,n.child,null,t),n=wT(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function w4(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=E2(Error(fe(422))),Qy(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Q1({mode:"visible",children:i.children},r,0,null),s=Au(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&_f(e,n.child,null,o),e.child.memoizedState=PD(o),e.memoizedState=FD,s);if(!(e.mode&1))return Qy(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(fe(419)),i=E2(s,i,void 0),Qy(n,e,o,i)}if(a=(o&n.childLanes)!==0,Si||a){if(i=vn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ua(n,r),gs(i,n,r,-1))}return ST(),i=E2(Error(fe(421))),Qy(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=M4.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,cr=Ul(r.nextSibling),ur=e,St=!0,ds=null,n!==null&&(Fr[Pr++]=ta,Fr[Pr++]=na,Fr[Pr++]=Uu,ta=n.id,na=n.overflow,Uu=e),e=wT(e,i.children),e.flags|=4096,e)}function TC(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),CD(n.return,e,t)}function A2(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function IF(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(li(n,e,i.children,t),i=kt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&TC(n,t,e);else if(n.tag===19)TC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(vt(kt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&N0(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),A2(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&N0(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}A2(e,!0,t,null,s);break;case"together":A2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rv(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function da(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ku|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(fe(153));if(e.child!==null){for(n=e.child,t=Fl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Fl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function x4(n,e,t){switch(e.tag){case 3:SF(e),bf();break;case 5:nF(e);break;case 1:Ii(e.type)&&I0(e);break;case 4:pT(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;vt(F0,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(vt(kt,kt.current&1),e.flags|=128,null):t&e.child.childLanes?UF(n,e,t):(vt(kt,kt.current&1),n=da(n,e,t),n!==null?n.sibling:null);vt(kt,kt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return IF(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),vt(kt,kt.current),i)break;return null;case 22:case 23:return e.lanes=0,AF(n,e,t)}return da(n,e,t)}var kF,MD,RF,FF;kF=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};MD=function(){};RF=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,cc(no.current);var s=null;switch(t){case"input":r=iD(n,r),i=iD(n,i),s=[];break;case"select":r=Pt({},r,{value:void 0}),i=Pt({},i,{value:void 0}),s=[];break;case"textarea":r=oD(n,r),i=oD(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=S0)}lD(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&wt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};FF=function(n,e,t,i){t!==i&&(e.flags|=4)};function Jf(n,e){if(!St)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Bn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function T4(n,e,t){var i=e.pendingProps;switch(aT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(e),null;case 1:return Ii(e.type)&&U0(),Bn(e),null;case 3:return i=e.stateNode,Df(),Tt(Ui),Tt(Jn),mT(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Ky(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ds!==null&&(qD(ds),ds=null))),MD(n,e),Bn(e),null;case 5:gT(e);var r=cc(ig.current);if(t=e.type,n!==null&&e.stateNode!=null)RF(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(fe(166));return Bn(e),null}if(n=cc(no.current),Ky(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Zs]=e,i[tg]=s,n=(e.mode&1)!==0,t){case"dialog":wt("cancel",i),wt("close",i);break;case"iframe":case"object":case"embed":wt("load",i);break;case"video":case"audio":for(r=0;r<hp.length;r++)wt(hp[r],i);break;case"source":wt("error",i);break;case"img":case"image":case"link":wt("error",i),wt("load",i);break;case"details":wt("toggle",i);break;case"input":FA(i,s),wt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},wt("invalid",i);break;case"textarea":MA(i,s),wt("invalid",i)}lD(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Yy(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Yy(i.textContent,a,n),r=["children",""+a]):Gp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&wt("scroll",i)}switch(t){case"input":Wy(i),PA(i,s,!0);break;case"textarea":Wy(i),NA(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=S0)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=aR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Zs]=e,n[tg]=i,kF(n,e,!1,!1),e.stateNode=n;e:{switch(o=cD(t,i),t){case"dialog":wt("cancel",n),wt("close",n),r=i;break;case"iframe":case"object":case"embed":wt("load",n),r=i;break;case"video":case"audio":for(r=0;r<hp.length;r++)wt(hp[r],n);r=i;break;case"source":wt("error",n),r=i;break;case"img":case"image":case"link":wt("error",n),wt("load",n),r=i;break;case"details":wt("toggle",n),r=i;break;case"input":FA(n,i),r=iD(n,i),wt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Pt({},i,{value:void 0}),wt("invalid",n);break;case"textarea":MA(n,i),r=oD(n,i),wt("invalid",n);break;default:r=i}lD(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uR(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lR(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&$p(n,l):typeof l=="number"&&$p(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&wt("scroll",n):l!=null&&$x(n,s,l,o))}switch(t){case"input":Wy(n),PA(n,i,!1);break;case"textarea":Wy(n),NA(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ml(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Fd(n,!!i.multiple,s,!1):i.defaultValue!=null&&Fd(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=S0)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bn(e),null;case 6:if(n&&e.stateNode!=null)FF(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(fe(166));if(t=cc(ig.current),cc(no.current),Ky(e)){if(i=e.stateNode,t=e.memoizedProps,i[Zs]=e,(s=i.nodeValue!==t)&&(n=ur,n!==null))switch(n.tag){case 3:Yy(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Yy(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Zs]=e,e.stateNode=i}return Bn(e),null;case 13:if(Tt(kt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(St&&cr!==null&&e.mode&1&&!(e.flags&128))QR(),bf(),e.flags|=98560,s=!1;else if(s=Ky(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Zs]=e}else bf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bn(e),s=!1}else ds!==null&&(qD(ds),ds=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||kt.current&1?on===0&&(on=3):ST())),e.updateQueue!==null&&(e.flags|=4),Bn(e),null);case 4:return Df(),MD(n,e),n===null&&jp(e.stateNode.containerInfo),Bn(e),null;case 10:return dT(e.type._context),Bn(e),null;case 17:return Ii(e.type)&&U0(),Bn(e),null;case 19:if(Tt(kt),s=e.memoizedState,s===null)return Bn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Jf(s,!1);else{if(on!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=N0(n),o!==null){for(e.flags|=128,Jf(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return vt(kt,kt.current&1|2),e.child}n=n.sibling}s.tail!==null&&Gt()>xf&&(e.flags|=128,i=!0,Jf(s,!1),e.lanes=4194304)}else{if(!i)if(n=N0(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Jf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!St)return Bn(e),null}else 2*Gt()-s.renderingStartTime>xf&&t!==1073741824&&(e.flags|=128,i=!0,Jf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Gt(),e.sibling=null,t=kt.current,vt(kt,i?t&1|2:t&1),e):(Bn(e),null);case 22:case 23:return CT(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?or&1073741824&&(Bn(e),e.subtreeFlags&6&&(e.flags|=8192)):Bn(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function E4(n,e){switch(aT(e),e.tag){case 1:return Ii(e.type)&&U0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Df(),Tt(Ui),Tt(Jn),mT(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return gT(e),null;case 13:if(Tt(kt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));bf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Tt(kt),null;case 4:return Df(),null;case 10:return dT(e.type._context),null;case 22:case 23:return CT(),null;case 24:return null;default:return null}}var Zy=!1,Xn=!1,A4=typeof WeakSet=="function"?WeakSet:Set,De=null;function Dd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Wt(n,e,i)}else t.current=null}function ND(n,e,t){try{t()}catch(i){Wt(n,e,i)}}var EC=!1;function C4(n,e){if(bD=E0,n=BR(),sT(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,f=null;t:for(;;){for(var g;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===n)break t;if(f===t&&++c===r&&(a=o),f===s&&++u===i&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(_D={focusedElem:n,selectionRange:t},E0=!1,De=e;De!==null;)if(e=De,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,De=n;else for(;De!==null;){e=De;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var m=_.memoizedProps,D=_.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Qr(e.type,m),D);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(x){Wt(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}return _=EC,EC=!1,_}function Hp(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&ND(e,t,s)}r=r.next}while(r!==i)}}function K1(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function LD(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function PF(n){var e=n.alternate;e!==null&&(n.alternate=null,PF(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Zs],delete e[tg],delete e[xD],delete e[c4],delete e[u4])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function MF(n){return n.tag===5||n.tag===3||n.tag===4}function AC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||MF(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function BD(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=S0));else if(i!==4&&(n=n.child,n!==null))for(BD(n,e,t),n=n.sibling;n!==null;)BD(n,e,t),n=n.sibling}function OD(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(OD(n,e,t),n=n.sibling;n!==null;)OD(n,e,t),n=n.sibling}var Sn=null,us=!1;function xa(n,e,t){for(t=t.child;t!==null;)NF(n,e,t),t=t.sibling}function NF(n,e,t){if(to&&typeof to.onCommitFiberUnmount=="function")try{to.onCommitFiberUnmount(V1,t)}catch{}switch(t.tag){case 5:Xn||Dd(t,e);case 6:var i=Sn,r=us;Sn=null,xa(n,e,t),Sn=i,us=r,Sn!==null&&(us?(n=Sn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Sn.removeChild(t.stateNode));break;case 18:Sn!==null&&(us?(n=Sn,t=t.stateNode,n.nodeType===8?b2(n.parentNode,t):n.nodeType===1&&b2(n,t),Jp(n)):b2(Sn,t.stateNode));break;case 4:i=Sn,r=us,Sn=t.stateNode.containerInfo,us=!0,xa(n,e,t),Sn=i,us=r;break;case 0:case 11:case 14:case 15:if(!Xn&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ND(t,e,o),r=r.next}while(r!==i)}xa(n,e,t);break;case 1:if(!Xn&&(Dd(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Wt(t,e,a)}xa(n,e,t);break;case 21:xa(n,e,t);break;case 22:t.mode&1?(Xn=(i=Xn)||t.memoizedState!==null,xa(n,e,t),Xn=i):xa(n,e,t);break;default:xa(n,e,t)}}function CC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new A4),e.forEach(function(i){var r=N4.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Yr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Sn=a.stateNode,us=!1;break e;case 3:Sn=a.stateNode.containerInfo,us=!0;break e;case 4:Sn=a.stateNode.containerInfo,us=!0;break e}a=a.return}if(Sn===null)throw Error(fe(160));NF(s,o,r),Sn=null,us=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Wt(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LF(e,n),e=e.sibling}function LF(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Yr(e,n),Es(n),i&4){try{Hp(3,n,n.return),K1(3,n)}catch(m){Wt(n,n.return,m)}try{Hp(5,n,n.return)}catch(m){Wt(n,n.return,m)}}break;case 1:Yr(e,n),Es(n),i&512&&t!==null&&Dd(t,t.return);break;case 5:if(Yr(e,n),Es(n),i&512&&t!==null&&Dd(t,t.return),n.flags&32){var r=n.stateNode;try{$p(r,"")}catch(m){Wt(n,n.return,m)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sR(r,s),cD(a,o);var c=cD(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?uR(r,h):u==="dangerouslySetInnerHTML"?lR(r,h):u==="children"?$p(r,h):$x(r,u,h,c)}switch(a){case"input":rD(r,s);break;case"textarea":oR(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Fd(r,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Fd(r,!!s.multiple,s.defaultValue,!0):Fd(r,!!s.multiple,s.multiple?[]:"",!1))}r[tg]=s}catch(m){Wt(n,n.return,m)}}break;case 6:if(Yr(e,n),Es(n),i&4){if(n.stateNode===null)throw Error(fe(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(m){Wt(n,n.return,m)}}break;case 3:if(Yr(e,n),Es(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Jp(e.containerInfo)}catch(m){Wt(n,n.return,m)}break;case 4:Yr(e,n),Es(n);break;case 13:Yr(e,n),Es(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(ET=Gt())),i&4&&CC(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Xn=(c=Xn)||u,Yr(e,n),Xn=c):Yr(e,n),Es(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(De=n,u=n.child;u!==null;){for(h=De=u;De!==null;){switch(f=De,g=f.child,f.tag){case 0:case 11:case 14:case 15:Hp(4,f,f.return);break;case 1:Dd(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(m){Wt(i,t,m)}}break;case 5:Dd(f,f.return);break;case 22:if(f.memoizedState!==null){UC(h);continue}}g!==null?(g.return=f,De=g):UC(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cR("display",o))}catch(m){Wt(n,n.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Wt(n,n.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yr(e,n),Es(n),i&4&&CC(n);break;case 21:break;default:Yr(e,n),Es(n)}}function Es(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(MF(t)){var i=t;break e}t=t.return}throw Error(fe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&($p(r,""),i.flags&=-33);var s=AC(n);OD(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=AC(n);BD(n,a,o);break;default:throw Error(fe(161))}}catch(l){Wt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function S4(n,e,t){De=n,BF(n)}function BF(n,e,t){for(var i=(n.mode&1)!==0;De!==null;){var r=De,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Zy;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Xn;a=Zy;var c=Xn;if(Zy=o,(Xn=l)&&!c)for(De=r;De!==null;)o=De,l=o.child,o.tag===22&&o.memoizedState!==null?IC(r):l!==null?(l.return=o,De=l):IC(r);for(;s!==null;)De=s,BF(s),s=s.sibling;De=r,Zy=a,Xn=c}SC(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,De=s):SC(n)}}function SC(n){for(;De!==null;){var e=De;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||K1(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Xn)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Qr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&hC(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}hC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Jp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Xn||e.flags&512&&LD(e)}catch(f){Wt(e,e.return,f)}}if(e===n){De=null;break}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}}function UC(n){for(;De!==null;){var e=De;if(e===n){De=null;break}var t=e.sibling;if(t!==null){t.return=e.return,De=t;break}De=e.return}}function IC(n){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{K1(4,e)}catch(l){Wt(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Wt(e,r,l)}}var s=e.return;try{LD(e)}catch(l){Wt(e,s,l)}break;case 5:var o=e.return;try{LD(e)}catch(l){Wt(e,o,l)}}}catch(l){Wt(e,e.return,l)}if(e===n){De=null;break}var a=e.sibling;if(a!==null){a.return=e.return,De=a;break}De=e.return}}var U4=Math.ceil,O0=va.ReactCurrentDispatcher,xT=va.ReactCurrentOwner,Br=va.ReactCurrentBatchConfig,Xe=0,vn=null,Qt=null,Rn=0,or=0,wd=ql(0),on=0,ag=null,ku=0,J1=0,TT=0,qp=null,Ai=null,ET=0,xf=1/0,mo=null,W0=!1,WD=null,kl=null,jy=!1,Tl=null,V0=0,zp=0,VD=null,Fv=-1,Pv=0;function ui(){return Xe&6?Gt():Fv!==-1?Fv:Fv=Gt()}function Rl(n){return n.mode&1?Xe&2&&Rn!==0?Rn&-Rn:h4.transition!==null?(Pv===0&&(Pv=wR()),Pv):(n=it,n!==0||(n=window.event,n=n===void 0?16:UR(n.type)),n):1}function gs(n,e,t,i){if(50<zp)throw zp=0,VD=null,Error(fe(185));vy(n,t,i),(!(Xe&2)||n!==vn)&&(n===vn&&(!(Xe&2)&&(J1|=t),on===4&&ka(n,Rn)),ki(n,i),t===1&&Xe===0&&!(e.mode&1)&&(xf=Gt()+500,$1&&zl()))}function ki(n,e){var t=n.callbackNode;hB(n,e);var i=T0(n,n===vn?Rn:0);if(i===0)t!==null&&OA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&OA(t),e===1)n.tag===0?d4(kC.bind(null,n)):YR(kC.bind(null,n)),a4(function(){!(Xe&6)&&zl()}),t=null;else{switch(xR(i)){case 1:t=Qx;break;case 4:t=_R;break;case 16:t=x0;break;case 536870912:t=DR;break;default:t=x0}t=$F(t,OF.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function OF(n,e){if(Fv=-1,Pv=0,Xe&6)throw Error(fe(327));var t=n.callbackNode;if(Bd()&&n.callbackNode!==t)return null;var i=T0(n,n===vn?Rn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=H0(n,i);else{e=i;var r=Xe;Xe|=2;var s=VF();(vn!==n||Rn!==e)&&(mo=null,xf=Gt()+500,Eu(n,e));do try{R4();break}catch(a){WF(n,a)}while(!0);uT(),O0.current=s,Xe=r,Qt!==null?e=0:(vn=null,Rn=0,e=on)}if(e!==0){if(e===2&&(r=pD(n),r!==0&&(i=r,e=HD(n,r))),e===1)throw t=ag,Eu(n,0),ka(n,i),ki(n,Gt()),t;if(e===6)ka(n,i);else{if(r=n.current.alternate,!(i&30)&&!I4(r)&&(e=H0(n,i),e===2&&(s=pD(n),s!==0&&(i=s,e=HD(n,s))),e===1))throw t=ag,Eu(n,0),ka(n,i),ki(n,Gt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(fe(345));case 2:jl(n,Ai,mo);break;case 3:if(ka(n,i),(i&130023424)===i&&(e=ET+500-Gt(),10<e)){if(T0(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){ui(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=wD(jl.bind(null,n,Ai,mo),e);break}jl(n,Ai,mo);break;case 4:if(ka(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-ps(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Gt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*U4(i/1960))-i,10<i){n.timeoutHandle=wD(jl.bind(null,n,Ai,mo),i);break}jl(n,Ai,mo);break;case 5:jl(n,Ai,mo);break;default:throw Error(fe(329))}}}return ki(n,Gt()),n.callbackNode===t?OF.bind(null,n):null}function HD(n,e){var t=qp;return n.current.memoizedState.isDehydrated&&(Eu(n,e).flags|=256),n=H0(n,e),n!==2&&(e=Ai,Ai=t,e!==null&&qD(e)),n}function qD(n){Ai===null?Ai=n:Ai.push.apply(Ai,n)}function I4(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!vs(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ka(n,e){for(e&=~TT,e&=~J1,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ps(e),i=1<<t;n[t]=-1,e&=~i}}function kC(n){if(Xe&6)throw Error(fe(327));Bd();var e=T0(n,0);if(!(e&1))return ki(n,Gt()),null;var t=H0(n,e);if(n.tag!==0&&t===2){var i=pD(n);i!==0&&(e=i,t=HD(n,i))}if(t===1)throw t=ag,Eu(n,0),ka(n,e),ki(n,Gt()),t;if(t===6)throw Error(fe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,jl(n,Ai,mo),ki(n,Gt()),null}function AT(n,e){var t=Xe;Xe|=1;try{return n(e)}finally{Xe=t,Xe===0&&(xf=Gt()+500,$1&&zl())}}function Ru(n){Tl!==null&&Tl.tag===0&&!(Xe&6)&&Bd();var e=Xe;Xe|=1;var t=Br.transition,i=it;try{if(Br.transition=null,it=1,n)return n()}finally{it=i,Br.transition=t,Xe=e,!(Xe&6)&&zl()}}function CT(){or=wd.current,Tt(wd)}function Eu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,o4(t)),Qt!==null)for(t=Qt.return;t!==null;){var i=t;switch(aT(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&U0();break;case 3:Df(),Tt(Ui),Tt(Jn),mT();break;case 5:gT(i);break;case 4:Df();break;case 13:Tt(kt);break;case 19:Tt(kt);break;case 10:dT(i.type._context);break;case 22:case 23:CT()}t=t.return}if(vn=n,Qt=n=Fl(n.current,null),Rn=or=e,on=0,ag=null,TT=J1=ku=0,Ai=qp=null,lc!==null){for(e=0;e<lc.length;e++)if(t=lc[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}lc=null}return n}function WF(n,e){do{var t=Qt;try{if(uT(),Iv.current=B0,L0){for(var i=Rt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}L0=!1}if(Iu=0,yn=sn=Rt=null,Vp=!1,rg=0,xT.current=null,t===null||t.return===null){on=1,ag=e,Qt=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Rn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=vC(o);if(g!==null){g.flags&=-257,bC(g,o,a,s,e),g.mode&1&&yC(s,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var m=new Set;m.add(l),e.updateQueue=m}else _.add(l);break e}else{if(!(e&1)){yC(s,c,e),ST();break e}l=Error(fe(426))}}else if(St&&a.mode&1){var D=vC(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),bC(D,o,a,s,e),lT(wf(l,a));break e}}s=l=wf(l,a),on!==4&&(on=2),qp===null?qp=[s]:qp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=xF(s,l,e);dC(s,y);break e;case 1:a=l;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(kl===null||!kl.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=TF(s,a,e);dC(s,x);break e}}s=s.return}while(s!==null)}qF(t)}catch(T){e=T,Qt===t&&t!==null&&(Qt=t=t.return);continue}break}while(!0)}function VF(){var n=O0.current;return O0.current=B0,n===null?B0:n}function ST(){(on===0||on===3||on===2)&&(on=4),vn===null||!(ku&268435455)&&!(J1&268435455)||ka(vn,Rn)}function H0(n,e){var t=Xe;Xe|=2;var i=VF();(vn!==n||Rn!==e)&&(mo=null,Eu(n,e));do try{k4();break}catch(r){WF(n,r)}while(!0);if(uT(),Xe=t,O0.current=i,Qt!==null)throw Error(fe(261));return vn=null,Rn=0,on}function k4(){for(;Qt!==null;)HF(Qt)}function R4(){for(;Qt!==null&&!iB();)HF(Qt)}function HF(n){var e=GF(n.alternate,n,or);n.memoizedProps=n.pendingProps,e===null?qF(n):Qt=e,xT.current=null}function qF(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=E4(t,e),t!==null){t.flags&=32767,Qt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{on=6,Qt=null;return}}else if(t=T4(t,e,or),t!==null){Qt=t;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=n}while(e!==null);on===0&&(on=5)}function jl(n,e,t){var i=it,r=Br.transition;try{Br.transition=null,it=1,F4(n,e,t,i)}finally{Br.transition=r,it=i}return null}function F4(n,e,t,i){do Bd();while(Tl!==null);if(Xe&6)throw Error(fe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(fe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(fB(n,s),n===vn&&(Qt=vn=null,Rn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||jy||(jy=!0,$F(x0,function(){return Bd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Br.transition,Br.transition=null;var o=it;it=1;var a=Xe;Xe|=4,xT.current=null,C4(n,t),LF(t,n),jB(_D),E0=!!bD,_D=bD=null,n.current=t,S4(t),rB(),Xe=a,it=o,Br.transition=s}else n.current=t;if(jy&&(jy=!1,Tl=n,V0=r),s=n.pendingLanes,s===0&&(kl=null),aB(t.stateNode),ki(n,Gt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(W0)throw W0=!1,n=WD,WD=null,n;return V0&1&&n.tag!==0&&Bd(),s=n.pendingLanes,s&1?n===VD?zp++:(zp=0,VD=n):zp=0,zl(),null}function Bd(){if(Tl!==null){var n=xR(V0),e=Br.transition,t=it;try{if(Br.transition=null,it=16>n?16:n,Tl===null)var i=!1;else{if(n=Tl,Tl=null,V0=0,Xe&6)throw Error(fe(331));var r=Xe;for(Xe|=4,De=n.current;De!==null;){var s=De,o=s.child;if(De.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(De=c;De!==null;){var u=De;switch(u.tag){case 0:case 11:case 15:Hp(8,u,s)}var h=u.child;if(h!==null)h.return=u,De=h;else for(;De!==null;){u=De;var f=u.sibling,g=u.return;if(PF(u),u===c){De=null;break}if(f!==null){f.return=g,De=f;break}De=g}}}var _=s.alternate;if(_!==null){var m=_.child;if(m!==null){_.child=null;do{var D=m.sibling;m.sibling=null,m=D}while(m!==null)}}De=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,De=o;else e:for(;De!==null;){if(s=De,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hp(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,De=y;break e}De=s.return}}var b=n.current;for(De=b;De!==null;){o=De;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,De=w;else e:for(o=b;De!==null;){if(a=De,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:K1(9,a)}}catch(T){Wt(a,a.return,T)}if(a===o){De=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,De=x;break e}De=a.return}}if(Xe=r,zl(),to&&typeof to.onPostCommitFiberRoot=="function")try{to.onPostCommitFiberRoot(V1,n)}catch{}i=!0}return i}finally{it=t,Br.transition=e}}return!1}function RC(n,e,t){e=wf(t,e),e=xF(n,e,1),n=Il(n,e,1),e=ui(),n!==null&&(vy(n,1,e),ki(n,e))}function Wt(n,e,t){if(n.tag===3)RC(n,n,t);else for(;e!==null;){if(e.tag===3){RC(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(kl===null||!kl.has(i))){n=wf(t,n),n=TF(e,n,1),e=Il(e,n,1),n=ui(),e!==null&&(vy(e,1,n),ki(e,n));break}}e=e.return}}function P4(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=ui(),n.pingedLanes|=n.suspendedLanes&t,vn===n&&(Rn&t)===t&&(on===4||on===3&&(Rn&130023424)===Rn&&500>Gt()-ET?Eu(n,0):TT|=t),ki(n,e)}function zF(n,e){e===0&&(n.mode&1?(e=qy,qy<<=1,!(qy&130023424)&&(qy=4194304)):e=1);var t=ui();n=ua(n,e),n!==null&&(vy(n,e,t),ki(n,t))}function M4(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),zF(n,t)}function N4(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(fe(314))}i!==null&&i.delete(e),zF(n,t)}var GF;GF=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ui.current)Si=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Si=!1,x4(n,e,t);Si=!!(n.flags&131072)}else Si=!1,St&&e.flags&1048576&&KR(e,R0,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Rv(n,e),n=e.pendingProps;var r=vf(e,Jn.current);Ld(e,t),r=vT(null,e,i,n,r,t);var s=bT();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ii(i)?(s=!0,I0(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,fT(e),r.updater=Y1,e.stateNode=r,r._reactInternals=e,UD(e,i,n,t),e=RD(null,e,i,!0,s,t)):(e.tag=0,St&&s&&oT(e),li(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Rv(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=B4(i),n=Qr(i,n),r){case 0:e=kD(null,e,i,n,t);break e;case 1:e=wC(null,e,i,n,t);break e;case 11:e=_C(null,e,i,n,t);break e;case 14:e=DC(null,e,i,Qr(i.type,n),t);break e}throw Error(fe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qr(i,r),kD(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qr(i,r),wC(n,e,i,r,t);case 3:e:{if(SF(e),n===null)throw Error(fe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,tF(n,e),M0(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=wf(Error(fe(423)),e),e=xC(n,e,i,t,r);break e}else if(i!==r){r=wf(Error(fe(424)),e),e=xC(n,e,i,t,r);break e}else for(cr=Ul(e.stateNode.containerInfo.firstChild),ur=e,St=!0,ds=null,t=jR(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(bf(),i===r){e=da(n,e,t);break e}li(n,e,i,t)}e=e.child}return e;case 5:return nF(e),n===null&&AD(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,DD(i,r)?o=null:s!==null&&DD(i,s)&&(e.flags|=32),CF(n,e),li(n,e,o,t),e.child;case 6:return n===null&&AD(e),null;case 13:return UF(n,e,t);case 4:return pT(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=_f(e,null,i,t):li(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qr(i,r),_C(n,e,i,r,t);case 7:return li(n,e,e.pendingProps,t),e.child;case 8:return li(n,e,e.pendingProps.children,t),e.child;case 12:return li(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,vt(F0,i._currentValue),i._currentValue=o,s!==null)if(vs(s.value,o)){if(s.children===r.children&&!Ui.current){e=da(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ia(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),CD(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(fe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),CD(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}li(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ld(e,t),r=qr(r),i=i(r),e.flags|=1,li(n,e,i,t),e.child;case 14:return i=e.type,r=Qr(i,e.pendingProps),r=Qr(i.type,r),DC(n,e,i,r,t);case 15:return EF(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qr(i,r),Rv(n,e),e.tag=1,Ii(i)?(n=!0,I0(e)):n=!1,Ld(e,t),wF(e,i,r),UD(e,i,r,t),RD(null,e,i,!0,n,t);case 19:return IF(n,e,t);case 22:return AF(n,e,t)}throw Error(fe(156,e.tag))};function $F(n,e){return bR(n,e)}function L4(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(n,e,t,i){return new L4(n,e,t,i)}function UT(n){return n=n.prototype,!(!n||!n.isReactComponent)}function B4(n){if(typeof n=="function")return UT(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Yx)return 11;if(n===Kx)return 14}return 2}function Fl(n,e){var t=n.alternate;return t===null?(t=Lr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Mv(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")UT(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case hd:return Au(t.children,r,s,e);case Xx:o=8,r|=8;break;case j_:return n=Lr(12,t,e,r|2),n.elementType=j_,n.lanes=s,n;case eD:return n=Lr(13,t,e,r),n.elementType=eD,n.lanes=s,n;case tD:return n=Lr(19,t,e,r),n.elementType=tD,n.lanes=s,n;case nR:return Q1(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case eR:o=10;break e;case tR:o=9;break e;case Yx:o=11;break e;case Kx:o=14;break e;case Ca:o=16,i=null;break e}throw Error(fe(130,n==null?n:typeof n,""))}return e=Lr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Au(n,e,t,i){return n=Lr(7,n,i,e),n.lanes=t,n}function Q1(n,e,t,i){return n=Lr(22,n,i,e),n.elementType=nR,n.lanes=t,n.stateNode={isHidden:!1},n}function C2(n,e,t){return n=Lr(6,n,null,e),n.lanes=t,n}function S2(n,e,t){return e=Lr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function O4(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=l2(0),this.expirationTimes=l2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=l2(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function IT(n,e,t,i,r,s,o,a,l){return n=new O4(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Lr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},fT(s),n}function W4(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dd,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function XF(n){if(!n)return Nl;n=n._reactInternals;e:{if(Vu(n)!==n||n.tag!==1)throw Error(fe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(n.tag===1){var t=n.type;if(Ii(t))return XR(n,t,e)}return e}function YF(n,e,t,i,r,s,o,a,l){return n=IT(t,i,!0,n,r,s,o,a,l),n.context=XF(null),t=n.current,i=ui(),r=Rl(t),s=ia(i,r),s.callback=e??null,Il(t,s,r),n.current.lanes=r,vy(n,r,i),ki(n,i),n}function Z1(n,e,t,i){var r=e.current,s=ui(),o=Rl(r);return t=XF(t),e.context===null?e.context=t:e.pendingContext=t,e=ia(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Il(r,e,o),n!==null&&(gs(n,r,o,s),Uv(n,r,o)),o}function q0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function FC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function kT(n,e){FC(n,e),(n=n.alternate)&&FC(n,e)}function V4(){return null}var KF=typeof reportError=="function"?reportError:function(n){console.error(n)};function RT(n){this._internalRoot=n}j1.prototype.render=RT.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(fe(409));Z1(n,e,null,null)};j1.prototype.unmount=RT.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ru(function(){Z1(null,n,null,null)}),e[ca]=null}};function j1(n){this._internalRoot=n}j1.prototype.unstable_scheduleHydration=function(n){if(n){var e=AR();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ia.length&&e!==0&&e<Ia[t].priority;t++);Ia.splice(t,0,n),t===0&&SR(n)}};function FT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function eb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function PC(){}function H4(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=q0(o);s.call(c)}}var o=YF(e,i,n,0,null,!1,!1,"",PC);return n._reactRootContainer=o,n[ca]=o.current,jp(n.nodeType===8?n.parentNode:n),Ru(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=q0(l);a.call(c)}}var l=IT(n,0,!1,null,null,!1,!1,"",PC);return n._reactRootContainer=l,n[ca]=l.current,jp(n.nodeType===8?n.parentNode:n),Ru(function(){Z1(e,l,t,i)}),l}function tb(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=q0(o);a.call(l)}}Z1(e,o,n,r)}else o=H4(t,e,n,r,i);return q0(o)}TR=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=dp(e.pendingLanes);t!==0&&(Zx(e,t|1),ki(e,Gt()),!(Xe&6)&&(xf=Gt()+500,zl()))}break;case 13:Ru(function(){var i=ua(n,1);if(i!==null){var r=ui();gs(i,n,1,r)}}),kT(n,1)}};jx=function(n){if(n.tag===13){var e=ua(n,134217728);if(e!==null){var t=ui();gs(e,n,134217728,t)}kT(n,134217728)}};ER=function(n){if(n.tag===13){var e=Rl(n),t=ua(n,e);if(t!==null){var i=ui();gs(t,n,e,i)}kT(n,e)}};AR=function(){return it};CR=function(n,e){var t=it;try{return it=n,e()}finally{it=t}};dD=function(n,e,t){switch(e){case"input":if(rD(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=G1(i);if(!r)throw Error(fe(90));rR(i),rD(i,r)}}}break;case"textarea":oR(n,t);break;case"select":e=t.value,e!=null&&Fd(n,!!t.multiple,e,!1)}};fR=AT;pR=Ru;var q4={usingClientEntryPoint:!1,Events:[_y,md,G1,dR,hR,AT]},Qf={findFiberByHostInstance:ac,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z4={bundleType:Qf.bundleType,version:Qf.version,rendererPackageName:Qf.rendererPackageName,rendererConfig:Qf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:va.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=yR(n),n===null?null:n.stateNode},findFiberByHostInstance:Qf.findFiberByHostInstance||V4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ev=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ev.isDisabled&&ev.supportsFiber)try{V1=ev.inject(z4),to=ev}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q4;fr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!FT(e))throw Error(fe(200));return W4(n,e,null,t)};fr.createRoot=function(n,e){if(!FT(n))throw Error(fe(299));var t=!1,i="",r=KF;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=IT(n,1,!1,null,null,t,!1,i,r),n[ca]=e.current,jp(n.nodeType===8?n.parentNode:n),new RT(e)};fr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(fe(188)):(n=Object.keys(n).join(","),Error(fe(268,n)));return n=yR(e),n=n===null?null:n.stateNode,n};fr.flushSync=function(n){return Ru(n)};fr.hydrate=function(n,e,t){if(!eb(e))throw Error(fe(200));return tb(null,n,e,!0,t)};fr.hydrateRoot=function(n,e,t){if(!FT(n))throw Error(fe(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=KF;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=YF(e,null,n,1,t??null,r,!1,s,o),n[ca]=e.current,jp(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new j1(e)};fr.render=function(n,e,t){if(!eb(e))throw Error(fe(200));return tb(null,n,e,!1,t)};fr.unmountComponentAtNode=function(n){if(!eb(n))throw Error(fe(40));return n._reactRootContainer?(Ru(function(){tb(null,null,n,!1,function(){n._reactRootContainer=null,n[ca]=null})}),!0):!1};fr.unstable_batchedUpdates=AT;fr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!eb(t))throw Error(fe(200));if(n==null||n._reactInternals===void 0)throw Error(fe(38));return tb(n,e,t,!1,i)};fr.version="18.3.1-next-f1338f8080-20240426";function JF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JF)}catch(n){console.error(n)}}JF(),Jk.exports=fr;var G4=Jk.exports,MC=G4;Q_.createRoot=MC.createRoot,Q_.hydrateRoot=MC.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),QF=(n,e)=>{const t=fs.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>fs.createElement("svg",{ref:u,...$4,width:r,height:r,stroke:i,strokeWidth:o?Number(s)*24/Number(r):s,className:["lucide",`lucide-${X4(n)}`,a].join(" "),...c},[...e.map(([h,f])=>fs.createElement(h,f)),...Array.isArray(l)?l:[l]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=QF("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=QF("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),oi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),zD=[.001,0,0,.001,0,0],U2=1.35,sr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ra={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},lg="pdfjs_internal_editor_",ke={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ge={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},J4={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},GD={TRIANGLES:1,LATTICE:2},en={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Nv={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Kt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},nd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},nb={ERRORS:0,WARNINGS:1,INFOS:5},cg={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Zf={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},Q4={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ib=nb.WARNINGS;function Z4(n){Number.isInteger(n)&&(ib=n)}function j4(){return ib}function rb(n){ib>=nb.INFOS&&console.info(`Info: ${n}`)}function Se(n){ib>=nb.WARNINGS&&console.warn(`Warning: ${n}`)}function pt(n){throw new Error(n)}function $e(n,e){n||pt(e)}function e6(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ZF(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=s6(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return e6(i)?i:null}function jF(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&ZF(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ue(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Hu=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class NC extends Hu{constructor(e,t){super(e,"PasswordException"),this.code=t}}class I2 extends Hu{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class $D extends Hu{constructor(e){super(e,"InvalidPDFException")}}class z0 extends Hu{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}}class t6 extends Hu{constructor(e){super(e,"FormatError")}}class Ll extends Hu{constructor(e){super(e,"AbortException")}}function e3(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&pt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function wy(n){typeof n!="string"&&pt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function n6(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function i6(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function r6(){try{return new Function(""),!0}catch{return!1}}class ln{static get isLittleEndian(){return Ue(this,"isLittleEndian",i6())}static get isEvalSupported(){return Ue(this,"isEvalSupported",r6())}static get isOffscreenCanvasSupported(){return Ue(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ue(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ue(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ue(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ue(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Ue(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const k2=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var sa,Lv,XD;class ye{static makeHexColor(e,t,i){return`#${k2[e]}${k2[t]}${k2[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let u=0;u<6;u+=2){const h=e[i+u],f=e[i+u+1];e[i+u]=h*r+f*o+l,e[i+u+1]=h*s+f*a+c}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5],u=e[0],h=e[1],f=e[2],g=e[3];let _=r*u+l,m=_,D=r*f+l,y=D,b=a*h+c,w=b,x=a*g+c,T=x;if(s!==0||o!==0){const E=s*u,C=s*f,F=o*h,P=o*g;_+=F,y+=F,D+=P,m+=P,b+=E,T+=E,x+=C,w+=C}i[0]=Math.min(i[0],_,D,m,y),i[1]=Math.min(i[1],b,x,w,T),i[2]=Math.max(i[2],_,D,m,y),i[3]=Math.max(i[3],b,x,w,T)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],o=e[3],a=i**2+r**2,l=i*s+r*o,c=s**2+o**2,u=(a+c)/2,h=Math.sqrt(u**2-(a*c-l**2));t[0]=Math.sqrt(u+h||1),t[1]=Math.sqrt(u-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static bezierBoundingBox(e,t,i,r,s,o,a,l,c){c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l),k(this,sa,XD).call(this,e,i,s,a,t,r,o,l,3*(-e+3*(i-s)+a),6*(e-2*i+s),3*(i-e),c),k(this,sa,XD).call(this,e,i,s,a,t,r,o,l,3*(-t+3*(r-o)+l),6*(t-2*r+o),3*(r-t),c)}}sa=new WeakSet,Lv=function(e,t,i,r,s,o,a,l,c,u){if(c<=0||c>=1)return;const h=1-c,f=c*c,g=f*c,_=h*(h*(h*e+3*c*t)+3*f*i)+g*r,m=h*(h*(h*s+3*c*o)+3*f*a)+g*l;u[0]=Math.min(u[0],_),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],_),u[3]=Math.max(u[3],m)},XD=function(e,t,i,r,s,o,a,l,c,u,h,f){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&k(this,sa,Lv).call(this,e,t,i,r,s,o,a,l,-h/u,f);return}const g=u**2-4*h*c;if(g<0)return;const _=Math.sqrt(g),m=2*c;k(this,sa,Lv).call(this,e,t,i,r,s,o,a,l,(-u+_)/m,f),k(this,sa,Lv).call(this,e,t,i,r,s,o,a,l,(-u-_)/m,f)},I(ye,sa);function s6(n){return decodeURIComponent(escape(n))}let R2=null,LC=null;function o6(n){return R2||(R2=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,LC=new Map([["","t"]])),n.replaceAll(R2,(e,t,i)=>t?t.normalize("NFKC"):LC.get(i))}function t3(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),e3(n)}const xd="pdfjs_internal_id_";function a6(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const o=s.length;let a=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function ai(n,e,t){return Math.min(Math.max(n,e),t)}function n3(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(e3(n))}function l6(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):wy(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class ug{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(ug.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)r(c)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class i3{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var h,f;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=g}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(r.children.length===0){if(r.value){const g=document.createTextNode(r.value);o.append(g),a&&ug.shouldBuildText(r.name)&&c.push(g)}return{textDivs:c}}const u=[[r,-1,o]];for(;u.length>0;){const[g,_,m]=u.at(-1);if(_+1===g.children.length){u.pop();continue}const D=g.children[++u.at(-1)[1]];if(D===null)continue;const{name:y}=D;if(y==="#text"){const w=document.createTextNode(D.value);c.push(w),m.append(w);continue}const b=(h=D==null?void 0:D.attributes)!=null&&h.xmlns?document.createElementNS(D.attributes.xmlns,y):document.createElement(y);if(m.append(b),D.attributes&&this.setAttributes({html:b,element:D,storage:t,intent:s,linkService:i}),((f=D.children)==null?void 0:f.length)>0)u.push([D,-1,b]);else if(D.value){const w=document.createTextNode(D.value);a&&ug.shouldBuildText(y)&&c.push(w),b.append(w)}}for(const g of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const fo="http://www.w3.org/2000/svg",rc=class rc{};he(rc,"CSS",96),he(rc,"PDF",72),he(rc,"PDF_TO_CSS_UNITS",rc.CSS/rc.PDF);let Bl=rc;async function xy(n,e="text"){if(fp(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Ty{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=o,i*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,h,f,g;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,h=0,f=0,g=1;break;case 90:u=0,h=1,f=1,g=0;break;case 270:u=0,h=-1,f=-1,g=0;break;case 0:u=1,h=0,f=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,g=-g);let _,m,D,y;u===0?(_=Math.abs(c-e[1])*i+s,m=Math.abs(l-e[0])*i+o,D=(e[3]-e[1])*i,y=(e[2]-e[0])*i):(_=Math.abs(l-e[0])*i+s,m=Math.abs(c-e[1])*i+o,D=(e[2]-e[0])*i,y=(e[3]-e[1])*i),this.transform=[u*i,h*i,f*i,g*i,_-u*i*l-f*i*c,m-h*i*l-g*i*c],this.width=D,this.height=y}get rawDims(){const e=this.viewBox;return Ue(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Ty({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return ye.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];ye.applyTransform(t,this.transform);const i=[e[2],e[3]];return ye.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return ye.applyInverseTransform(i,this.transform),i}}class PT extends Hu{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function sb(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function MT(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function c6(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function u6(n,e="document.pdf"){if(typeof n!="string")return e;if(sb(n))return Se('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=a=>{try{let l=decodeURIComponent(a);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:a):l}catch{return a}},s=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(s.test(o))return r(o);if(i.searchParams.size>0){const a=Array.from(i.searchParams.values()).reverse();for(const c of a)if(s.test(c))return r(c);const l=Array.from(i.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return r(c)}if(i.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(l)return r(l[0])}return e}class BC{constructor(){he(this,"started",Object.create(null));he(this,"times",[])}time(e){e in this.started&&Se(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Se(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function fp(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Gr(n){n.preventDefault()}function Vt(n){n.preventDefault(),n.stopPropagation()}function d6(n){console.log("Deprecated API usage: "+n)}var Cg;class G0{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;d(this,Cg)||A(this,Cg,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=d(this,Cg).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(o+=u,a+=h):c==="+"&&(o-=u,a-=h),new Date(Date.UTC(i,r,s,o,a,l))}}Cg=new WeakMap,I(G0,Cg);function h6(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new Ty({viewBox:s,userUnit:1,scale:e,rotation:t})}function Ey(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Se(`Not a valid color format: "${n}"`),[0,0,0])}function f6(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,Ey(i))}e.remove()}function It(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function As(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function Fu(n,e,t=!1,i=!0){if(e instanceof Ty){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,a=ln.isCSSRoundSupported,l=`var(--total-scale-factor) * ${r}px`,c=`var(--total-scale-factor) * ${s}px`,u=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=h):(o.width=h,o.height=u)}i&&n.setAttribute("data-main-rotation",e.rotation)}class so{constructor(){const{pixelRatio:e}=so;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let o=1/0,a=1/0,l=1/0;i=so.capPixels(i,s),i>0&&(o=Math.sqrt(i/(e*t))),r!==-1&&(a=r/e,l=r/t);const c=Math.min(o,a,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}}const YD=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class p6{static get isDarkMode(){var e;return Ue(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class g6{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),Ue(this,"commentForegroundColor",Ey(i))}}function m6(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function OC(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),o=Math.min(t,i,r),a=(s+o)/2;if(s===o)e[0]=e[1]=0;else{const l=s-o;switch(e[1]=a<.5?l/(s+o):l/(2-s-o),s){case t:e[0]=((i-r)/l+(i<r?6:0))*60;break;case i:e[0]=((r-t)/l+2)*60;break;case r:e[0]=((t-i)/l+4)*60;break}}e[2]=a}function KD(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,o=s*(1-Math.abs(t/60%2-1)),a=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+a,e[1]=o+a,e[2]=a;break;case 1:e[0]=o+a,e[1]=s+a,e[2]=a;break;case 2:e[0]=a,e[1]=s+a,e[2]=o+a;break;case 3:e[0]=a,e[1]=o+a,e[2]=s+a;break;case 4:e[0]=o+a,e[1]=a,e[2]=s+a;break;case 5:case 6:e[0]=s+a,e[1]=a,e[2]=o+a;break}}function WC(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function VC(n,e,t){KD(n,t),t.map(WC);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];KD(e,t),t.map(WC);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const HC=new Map;function y6(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=HC.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),o=r.subarray(3,6);OC(n,o);const a=r.subarray(6,9);OC(e,a);const l=a[2]<.5,c=l?12:4.5;if(o[2]=l?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),VC(o,a,s)<c){let u,h;l?(u=o[2],h=1):(u=0,h=o[2]);const f=.005;for(;h-u>f;){const g=o[2]=(u+h)/2;l===VC(o,a,s)<c?u=g:h=g}o[2]=l?h:u}return KD(o,s),i=ye.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),HC.set(t,i),i}function r3({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let a=0,l=o.length;a<l;++a){const c=o[a];s.append(document.createTextNode(c)),a<l-1&&s.append(document.createElement("br"))}r.append(s)}else i3.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function s3(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case Zf.moveTo:e.moveTo(n[t++],n[t++]);break;case Zf.lineTo:e.lineTo(n[t++],n[t++]);break;case Zf.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case Zf.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case Zf.closePath:e.closePath();break;default:Se(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var Fa,Pa,Dr,wr,Sg,Ma,zd,Gd,Ug,D1,o3,kn,a3,l3,id,pp;const yo=class yo{constructor(e){I(this,kn);I(this,Fa,null);I(this,Pa,null);I(this,Dr);I(this,wr,null);I(this,Sg,null);I(this,Ma,null);I(this,zd,null);I(this,Gd,null);A(this,Dr,e),d(yo,Ug)||A(yo,Ug,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=A(this,Fa,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=d(this,Dr)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Gr,{signal:t}),e.addEventListener("pointerdown",k(yo,D1,o3),{signal:t}));const i=A(this,wr,document.createElement("div"));i.className="buttons",e.append(i);const r=d(this,Dr).toolbarPosition;if(r){const{style:s}=e,o=d(this,Dr)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return d(this,Fa)}hide(){var e;d(this,Fa).classList.add("hidden"),(e=d(this,Pa))==null||e.hideDropdown()}show(){var e,t;d(this,Fa).classList.remove("hidden"),(e=d(this,Sg))==null||e.shown(),(t=d(this,Ma))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=d(this,Dr),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",d(yo,Ug)[e]),k(this,kn,id).call(this,i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),d(this,wr).append(i)}async addAltText(e){const t=await e.render();k(this,kn,id).call(this,t),d(this,wr).append(t,d(this,kn,pp)),A(this,Sg,e)}addComment(e,t=null){if(d(this,Ma))return;const i=e.renderForToolbar();if(!i)return;k(this,kn,id).call(this,i);const r=A(this,zd,d(this,kn,pp));t?(d(this,wr).insertBefore(i,t),d(this,wr).insertBefore(r,t)):d(this,wr).append(i,r),A(this,Ma,e),e.toolbar=this}addColorPicker(e){if(d(this,Pa))return;A(this,Pa,e);const t=e.renderButton();k(this,kn,id).call(this,t),d(this,wr).append(t,d(this,kn,pp))}async addEditSignatureButton(e){const t=A(this,Gd,await e.renderEditButton(d(this,Dr)));k(this,kn,id).call(this,t),d(this,wr).append(t,d(this,kn,pp))}removeButton(e){var t,i;switch(e){case"comment":(t=d(this,Ma))==null||t.removeToolbarCommentButton(),A(this,Ma,null),(i=d(this,zd))==null||i.remove(),A(this,zd,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=d(this,wr).querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){d(this,Gd)&&(d(this,Gd).title=e)}remove(){var e;d(this,Fa).remove(),(e=d(this,Pa))==null||e.destroy(),A(this,Pa,null)}};Fa=new WeakMap,Pa=new WeakMap,Dr=new WeakMap,wr=new WeakMap,Sg=new WeakMap,Ma=new WeakMap,zd=new WeakMap,Gd=new WeakMap,Ug=new WeakMap,D1=new WeakSet,o3=function(e){e.stopPropagation()},kn=new WeakSet,a3=function(e){d(this,Dr)._focusEventsAllowed=!1,Vt(e)},l3=function(e){d(this,Dr)._focusEventsAllowed=!0,Vt(e)},id=function(e){const t=d(this,Dr)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",k(this,kn,a3).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",k(this,kn,l3).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Gr,{signal:t}),!0)},pp=function(){const e=document.createElement("div");return e.className="divider",e},I(yo,D1),I(yo,Ug,null);let JD=yo;var Ig,uc,_o,ma,c3,u3,QD;class v6{constructor(e){I(this,ma);I(this,Ig,null);I(this,uc,null);I(this,_o);A(this,_o,e)}show(e,t,i){const[r,s]=k(this,ma,u3).call(this,t,i),{style:o}=d(this,uc)||A(this,uc,k(this,ma,c3).call(this));e.append(d(this,uc)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,uc).remove()}}Ig=new WeakMap,uc=new WeakMap,_o=new WeakMap,ma=new WeakSet,c3=function(){const e=A(this,uc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=d(this,_o)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Gr,{signal:t});const i=A(this,Ig,document.createElement("div"));return i.className="buttons",e.append(i),d(this,_o).hasCommentManager()&&k(this,ma,QD).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{d(this,_o).commentSelection("floating_button")}),k(this,ma,QD).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{d(this,_o).highlightSelection("floating_button")}),e},u3=function(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const a=s.x+(t?s.width:0);if(o>i){r=a,i=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,i]},QD=function(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const o=document.createElement("span");s.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",i);const a=d(this,_o)._signal;a instanceof AbortSignal&&!a.aborted&&(s.addEventListener("contextmenu",Gr,{signal:a}),s.addEventListener("click",r,{signal:a})),d(this,Ig).append(s)};function d3(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var dc,hc,$d,fc;const st=class st{static initializeAndAddPointerId(e){(d(st,hc)||A(st,hc,new Set)).add(e)}static setPointer(e,t){d(st,dc)||A(st,dc,t),d(st,fc)??A(st,fc,e)}static setTimeStamp(e){A(st,$d,e)}static isSamePointerId(e){return d(st,dc)===e}static isSamePointerIdOrRemove(e){var t;return d(st,dc)===e?!0:((t=d(st,hc))==null||t.delete(e),!1)}static isSamePointerType(e){return d(st,fc)===e}static isInitializedAndDifferentPointerType(e){return d(st,fc)!==null&&!st.isSamePointerType(e)}static isSameTimeStamp(e){return d(st,$d)===e}static isUsingMultiplePointers(){var e;return((e=d(st,hc))==null?void 0:e.size)>=1}static clearPointerType(){A(st,fc,null)}static clearPointerIds(){A(st,dc,NaN),A(st,hc,null)}static clearTimeStamp(){A(st,$d,NaN)}};dc=new WeakMap,hc=new WeakMap,$d=new WeakMap,fc=new WeakMap,I(st,dc,NaN),I(st,hc,null),I(st,$d,NaN),I(st,fc,null);let Vn=st;var w1;class b6{constructor(){I(this,w1,0)}get id(){return`${lg}${jt(this,w1)._++}`}}w1=new WeakMap;var Xd,kg,Hn,Yd,Bv;const vA=class vA{constructor(){I(this,Yd);I(this,Xd,t3());I(this,kg,0);I(this,Hn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ue(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return k(this,Yd,Bv).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return k(this,Yd,Bv).call(this,e,e)}async getFromBlob(e,t){const i=await t;return k(this,Yd,Bv).call(this,e,i)}async getFromId(e){d(this,Hn)||A(this,Hn,new Map);const t=d(this,Hn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){d(this,Hn)||A(this,Hn,new Map);let i=d(this,Hn).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${d(this,Xd)}_${jt(this,kg)._++}`,refCounter:1,isSvg:!1},d(this,Hn).set(e,i),d(this,Hn).set(i.id,i),i}getSvgUrl(e){const t=d(this,Hn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;d(this,Hn)||A(this,Hn,new Map);const t=d(this,Hn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${d(this,Xd)}_`)}};Xd=new WeakMap,kg=new WeakMap,Hn=new WeakMap,Yd=new WeakSet,Bv=async function(e,t){d(this,Hn)||A(this,Hn,new Map);let i=d(this,Hn).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${d(this,Xd)}_${jt(this,kg)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await xy(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=vA._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,c()},o.onload=async()=>{const h=i.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=u});o.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){Se(r),i=null}return d(this,Hn).set(e,i),i&&d(this,Hn).set(i.id,i),i};let ZD=vA;var Ht,Na,Rg,Ut;class _6{constructor(e=128){I(this,Ht,[]);I(this,Na,!1);I(this,Rg);I(this,Ut,-1);A(this,Rg,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),d(this,Na))return;const l={cmd:e,undo:t,post:i,type:s};if(d(this,Ut)===-1){d(this,Ht).length>0&&(d(this,Ht).length=0),A(this,Ut,0),d(this,Ht).push(l);return}if(o&&d(this,Ht)[d(this,Ut)].type===s){a&&(l.undo=d(this,Ht)[d(this,Ut)].undo),d(this,Ht)[d(this,Ut)]=l;return}const c=d(this,Ut)+1;c===d(this,Rg)?d(this,Ht).splice(0,1):(A(this,Ut,c),c<d(this,Ht).length&&d(this,Ht).splice(c)),d(this,Ht).push(l)}undo(){if(d(this,Ut)===-1)return;A(this,Na,!0);const{undo:e,post:t}=d(this,Ht)[d(this,Ut)];e(),t==null||t(),A(this,Na,!1),A(this,Ut,d(this,Ut)-1)}redo(){if(d(this,Ut)<d(this,Ht).length-1){A(this,Ut,d(this,Ut)+1),A(this,Na,!0);const{cmd:e,post:t}=d(this,Ht)[d(this,Ut)];e(),t==null||t(),A(this,Na,!1)}}hasSomethingToUndo(){return d(this,Ut)!==-1}hasSomethingToRedo(){return d(this,Ut)<d(this,Ht).length-1}cleanType(e){if(d(this,Ut)!==-1){for(let t=d(this,Ut);t>=0;t--)if(d(this,Ht)[t].type!==e){d(this,Ht).splice(t+1,d(this,Ut)-t),A(this,Ut,t);return}d(this,Ht).length=0,A(this,Ut,-1)}}destroy(){A(this,Ht,null)}}Ht=new WeakMap,Na=new WeakMap,Rg=new WeakMap,Ut=new WeakMap;var x1,h3;class Ay{constructor(e){I(this,x1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ln.platform;for(const[i,r,s={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(k(this,x1,h3).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(r.bind(e,...o,t)(),s||Vt(t))}}x1=new WeakSet,h3=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const T1=class T1{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return f6(e),Ue(this,"_colors",e)}convert(e){const t=Ey(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return T1._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?ye.makeHexColor(...t):e}};he(T1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let jD=T1;var Kd,Wi,Jd,Mt,nn,Qd,xr,Zd,Tr,qn,La,Ba,jd,Oa,Is,Er,pc,Fg,Pg,eh,Mg,ks,Wa,th,Va,Rs,E1,Ha,nh,Ng,qa,gc,ih,za,Lg,Jt,tt,Do,Ga,$a,Bg,rh,Og,Xa,Fs,wo,Wg,Vg,Ar,ge,Ov,ew,f3,p3,gp,g3,m3,y3,tw,v3,b3,_3,D3,ei,po,w3,x3,nw,T3,mp,iw;const Ud=class Ud{constructor(e,t,i,r,s,o,a,l,c,u,h,f,g,_,m,D){I(this,ge);I(this,Kd,new AbortController);I(this,Wi,null);I(this,Jd,null);I(this,Mt,new Map);I(this,nn,new Map);I(this,Qd,null);I(this,xr,null);I(this,Zd,null);I(this,Tr,new _6);I(this,qn,null);I(this,La,null);I(this,Ba,null);I(this,jd,0);I(this,Oa,new Set);I(this,Is,null);I(this,Er,null);I(this,pc,new Set);he(this,"_editorUndoBar",null);I(this,Fg,!1);I(this,Pg,!1);I(this,eh,!1);I(this,Mg,null);I(this,ks,null);I(this,Wa,null);I(this,th,null);I(this,Va,!1);I(this,Rs,null);I(this,E1,new b6);I(this,Ha,!1);I(this,nh,!1);I(this,Ng,!1);I(this,qa,null);I(this,gc,null);I(this,ih,null);I(this,za,null);I(this,Lg,null);I(this,Jt,ke.NONE);I(this,tt,new Set);I(this,Do,null);I(this,Ga,null);I(this,$a,null);I(this,Bg,null);I(this,rh,null);I(this,Og,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});I(this,Xa,[0,0]);I(this,Fs,null);I(this,wo,null);I(this,Wg,null);I(this,Vg,null);I(this,Ar,null);const y=this._signal=d(this,Kd).signal;A(this,wo,e),A(this,Wg,t),A(this,Vg,i),A(this,Qd,r),A(this,qn,s),A(this,Ga,o),A(this,rh,l),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:y}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),a._on("setpreference",this.onSetPreference.bind(this),{signal:y}),a._on("switchannotationeditorparams",b=>this.updateParams(b.type,b.value),{signal:y}),window.addEventListener("pointerdown",()=>{A(this,nh,!0)},{capture:!0,signal:y}),window.addEventListener("pointerup",()=>{A(this,nh,!1)},{capture:!0,signal:y}),k(this,ge,g3).call(this),k(this,ge,D3).call(this),k(this,ge,tw).call(this),A(this,xr,l.annotationStorage),A(this,Mg,l.filterFactory),A(this,$a,c),A(this,th,u||null),A(this,Fg,h),A(this,Pg,f),A(this,eh,g),A(this,Lg,_||null),this.viewParameters={realScale:Bl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=D!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=Ud.prototype,t=o=>d(o,wo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ue(this,"_keyboardManager",new Ay([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&d(o,wo).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&d(o,wo).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r,s,o,a,l,c;(e=d(this,Ar))==null||e.resolve(),A(this,Ar,null),(t=d(this,Kd))==null||t.abort(),A(this,Kd,null),this._signal=null;for(const u of d(this,nn).values())u.destroy();d(this,nn).clear(),d(this,Mt).clear(),d(this,pc).clear(),(i=d(this,za))==null||i.clear(),A(this,Wi,null),d(this,tt).clear(),d(this,Tr).destroy(),(r=d(this,Qd))==null||r.destroy(),(s=d(this,qn))==null||s.destroy(),(o=d(this,Ga))==null||o.destroy(),(a=d(this,Rs))==null||a.hide(),A(this,Rs,null),(l=d(this,ih))==null||l.destroy(),A(this,ih,null),A(this,Jd,null),d(this,ks)&&(clearTimeout(d(this,ks)),A(this,ks,null)),d(this,Fs)&&(clearTimeout(d(this,Fs)),A(this,Fs,null)),(c=this._editorUndoBar)==null||c.destroy(),A(this,rh,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return d(this,Lg)}get useNewAltTextFlow(){return d(this,Pg)}get useNewAltTextWhenAddingImage(){return d(this,eh)}get hcmFilter(){return Ue(this,"hcmFilter",d(this,$a)?d(this,Mg).addHCMFilter(d(this,$a).foreground,d(this,$a).background):"none")}get direction(){return Ue(this,"direction",getComputedStyle(d(this,wo)).direction)}get _highlightColors(){return Ue(this,"_highlightColors",d(this,th)?new Map(d(this,th).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ue(this,"highlightColors",null);const t=new Map,i=!!d(this,$a);for(const[r,s]of e){const o=r.endsWith("_HCM");if(i&&o){t.set(r.replace("_HCM",""),s);continue}!i&&!o&&t.set(r,s)}return Ue(this,"highlightColors",t)}get highlightColorNames(){return Ue(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),A(this,Ba,e)}setMainHighlightColorPicker(e){A(this,ih,e)}editAltText(e,t=!1){var i;(i=d(this,Qd))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!d(this,qn)}editComment(e,t,i,r){var s;(s=d(this,qn))==null||s.showDialog(this,e,t,i,r)}selectComment(e,t){const i=d(this,nn).get(e),r=i==null?void 0:i.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=d(this,qn))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=d(this,qn))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=d(this,qn))==null||t.removeComments([e.uid])}toggleComment(e,t,i=void 0){var r;(r=d(this,qn))==null||r.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){var i;return e&&((i=d(this,qn))==null?void 0:i.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=d(this,qn))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(d(this,nn).has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var t;(t=d(this,Ga))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return d(this,Ga)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":A(this,eh,t);break}}onPageChanging({pageNumber:e}){A(this,jd,e-1)}focusMainContainer(){d(this,wo).focus()}findParent(e,t){for(const i of d(this,nn).values()){const{x:r,y:s,width:o,height:a}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+a)return i}return null}disableUserSelect(e=!1){d(this,Wg).classList.toggle("noUserSelect",e)}addShouldRescale(e){d(this,pc).add(e)}removeShouldRescale(e){d(this,pc).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Bl.PDF_TO_CSS_UNITS;for(const i of d(this,pc))i.onScaleChanging();(t=d(this,Ba))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a}=i,l=i.toString(),u=k(this,ge,Ov).call(this,i).closest(".textLayer"),h=this.getSelectionBoxes(u);if(!h)return;i.empty();const f=k(this,ge,ew).call(this,u),g=d(this,Jt)===ke.NONE,_=()=>{const m=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a,text:l});g&&this.showAllEditors("highlight",!0,!0),t&&(m==null||m.editComment())};if(g){this.switchToMode(ke.HIGHLIGHT,_);return}_()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!d(this,xr))return null;const t=`${lg}${e}`,i=d(this,xr).getRawValue(t);return i&&d(this,xr).remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&d(this,xr)&&!d(this,xr).has(e.id)&&d(this,xr).setValue(e.id,e)}a11yAlert(e,t=null){const i=d(this,Vg);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,d(this,Va)&&(A(this,Va,!1),k(this,ge,gp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of d(this,tt))if(t.div.contains(e)){A(this,gc,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!d(this,gc))return;const[e,t]=d(this,gc);A(this,gc,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){k(this,ge,tw).call(this),this.setEditingState(!0)}removeEditListeners(){k(this,ge,v3).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of d(this,Er))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of d(this,Er))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=d(this,Wi))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of d(this,tt)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of d(this,Er))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){Se(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const c=await r.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)k(this,ge,nw).call(this,l);k(this,ge,iw).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Se(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,Jt)!==ke.NONE&&!this.isEditorHandlingKeyboard&&Ud._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,Va)&&(A(this,Va,!1),k(this,ge,gp).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(k(this,ge,m3).call(this),k(this,ge,b3).call(this),k(this,ge,ei).call(this,{isEditing:d(this,Jt)!==ke.NONE,isEmpty:k(this,ge,mp).call(this),hasSomethingToUndo:d(this,Tr).hasSomethingToUndo(),hasSomethingToRedo:d(this,Tr).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,ge,y3).call(this),k(this,ge,_3).call(this),k(this,ge,ei).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!d(this,Er)){A(this,Er,e);for(const t of d(this,Er))k(this,ge,po).call(this,t.defaultPropertiesToUpdate)}}getId(){return d(this,E1).id}get currentLayer(){return d(this,nn).get(d(this,jd))}getLayer(e){return d(this,nn).get(e)}get currentPageIndex(){return d(this,jd)}addLayer(e){d(this,nn).set(e.pageIndex,e),d(this,Ha)?e.enable():e.disable()}removeLayer(e){d(this,nn).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1,o=!1){var a,l,c,u,h,f;if(d(this,Jt)!==e&&!(d(this,Ar)&&(await d(this,Ar).promise,!d(this,Ar)))){if(A(this,Ar,Promise.withResolvers()),(a=d(this,Ba))==null||a.commitOrRemove(),d(this,Jt)===ke.POPUP&&((l=d(this,qn))==null||l.hideSidebar()),(c=d(this,qn))==null||c.destroyPopup(),A(this,Jt,e),e===ke.NONE){this.setEditingState(!1),k(this,ge,x3).call(this);for(const g of d(this,Mt).values())g.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),d(this,Ar).resolve();return}for(const g of d(this,Mt).values())g.addStandaloneCommentButton();e===ke.SIGNATURE&&await((h=d(this,Ga))==null?void 0:h.loadSignatures()),i&&Vn.clearPointerType(),this.setEditingState(!0),await k(this,ge,w3).call(this),this.unselectAll();for(const g of d(this,nn).values())g.updateMode(e);if(e===ke.POPUP){d(this,Jd)||A(this,Jd,await d(this,rh).getAnnotationsByType(new Set(d(this,Er).map(m=>m._editorType))));const g=new Set,_=[];for(const m of d(this,Mt).values()){const{annotationElementId:D,hasComment:y,deleted:b}=m;D&&g.add(D),y&&!b&&_.push(m.getData())}for(const m of d(this,Jd)){const{id:D,popupRef:y,contentsObj:b}=m;y&&(b!=null&&b.str)&&!g.has(D)&&!d(this,Oa).has(D)&&_.push(m)}(f=d(this,qn))==null||f.showSidebar(_)}if(!t){r&&this.addNewEditorFromKeyboard(),d(this,Ar).resolve();return}for(const g of d(this,Mt).values())g.uid===t?(this.setSelected(g),o?g.editComment():s?g.enterInEditMode():g.focus()):g.unselect();d(this,Ar).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==d(this,Jt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(d(this,Er)){switch(e){case Ge.CREATE:this.currentLayer.addNewEditor(t);return;case Ge.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,Bg)||A(this,Bg,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of d(this,tt))i.updateParams(e,t);else for(const i of d(this,Er))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const o of d(this,Mt).values())o.editorType===e&&o.show(t);(((s=d(this,Bg))==null?void 0:s.get(Ge.HIGHLIGHT_SHOW_ALL))??!0)!==t&&k(this,ge,po).call(this,[[Ge.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(d(this,Ng)!==e){A(this,Ng,e);for(const t of d(this,nn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of d(this,Mt).values())t.pageIndex===e&&(yield t)}getEditor(e){return d(this,Mt).get(e)}addEditor(e){d(this,Mt).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(d(this,ks)&&clearTimeout(d(this,ks)),A(this,ks,setTimeout(()=>{this.focusMainContainer(),A(this,ks,null)},0))),d(this,Mt).delete(e.id),e.annotationElementId&&((t=d(this,za))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!d(this,Oa).has(e.annotationElementId))&&((i=d(this,xr))==null||i.remove(e.id))}addDeletedAnnotationElement(e){d(this,Oa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return d(this,Oa).has(e)}removeDeletedAnnotationElement(e){d(this,Oa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){d(this,Wi)!==e&&(A(this,Wi,e),e&&k(this,ge,po).call(this,e.propertiesToUpdate))}updateUI(e){d(this,ge,T3)===e&&k(this,ge,po).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){k(this,ge,po).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(d(this,tt).has(e)){d(this,tt).delete(e),e.unselect(),k(this,ge,ei).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,tt).add(e),e.select(),k(this,ge,po).call(this,e.propertiesToUpdate),k(this,ge,ei).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=d(this,Ba))==null||t.commitOrRemove();for(const i of d(this,tt))i!==e&&i.unselect();d(this,tt).clear(),d(this,tt).add(e),e.select(),k(this,ge,po).call(this,e.propertiesToUpdate),k(this,ge,ei).call(this,{hasSelectedEditor:!0})}isSelected(e){return d(this,tt).has(e)}get firstSelectedEditor(){return d(this,tt).values().next().value}unselect(e){e.unselect(),d(this,tt).delete(e),k(this,ge,ei).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,tt).size!==0}get isEnterHandled(){return d(this,tt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;d(this,Tr).undo(),k(this,ge,ei).call(this,{hasSomethingToUndo:d(this,Tr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,ge,mp).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){d(this,Tr).redo(),k(this,ge,ei).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,Tr).hasSomethingToRedo(),isEmpty:k(this,ge,mp).call(this)})}addCommands(e){d(this,Tr).add(e),k(this,ge,ei).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,ge,mp).call(this)})}cleanUndoStack(e){d(this,Tr).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...d(this,tt)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(r,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},r=()=>{for(const o of t)k(this,ge,nw).call(this,o)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=d(this,Wi))==null||e.commitOrRemove()}hasSomethingToControl(){return d(this,Wi)||this.hasSelection}selectAll(){for(const e of d(this,tt))e.commit();k(this,ge,iw).call(this,d(this,Mt).values())}unselectAll(){var e;if(!(d(this,Wi)&&(d(this,Wi).commitOrRemove(),d(this,Jt)!==ke.NONE))&&!((e=d(this,Ba))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of d(this,tt))t.unselect();d(this,tt).clear(),k(this,ge,ei).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;d(this,Xa)[0]+=e,d(this,Xa)[1]+=t;const[r,s]=d(this,Xa),o=[...d(this,tt)],a=1e3;d(this,Fs)&&clearTimeout(d(this,Fs)),A(this,Fs,setTimeout(()=>{A(this,Fs,null),d(this,Xa)[0]=d(this,Xa)[1]=0,this.addCommands({cmd:()=>{for(const l of o)d(this,Mt).has(l.id)&&(l.translateInPage(r,s),l.translationDone())},undo:()=>{for(const l of o)d(this,Mt).has(l.id)&&(l.translateInPage(-r,-s),l.translationDone())},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),A(this,Is,new Map);for(const e of d(this,tt))d(this,Is).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,Is))return!1;this.disableUserSelect(!1);const e=d(this,Is);A(this,Is,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},a]of e)a.newX=r,a.newY=s,a.newPageIndex=o,t||(t=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const i=(r,s,o,a)=>{if(d(this,Mt).has(r.id)){const l=d(this,nn).get(a);l?r._setParentAndPosition(l,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of e)i(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of e)i(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(d(this,Is))for(const i of d(this,Is).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||d(this,tt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return d(this,Wi)===e}getActive(){return d(this,Wi)}getMode(){return d(this,Jt)}isEditingMode(){return d(this,Jt)!==ke.NONE}get imageManager(){return Ue(this,"imageManager",new ZD)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,h,f)=>({x:(u-r)/o,y:1-(c+h-i)/s,width:f/o,height:h/s});break;case"180":a=(c,u,h,f)=>({x:1-(c+h-i)/s,y:1-(u+f-r)/o,width:h/s,height:f/o});break;case"270":a=(c,u,h,f)=>({x:1-(u+f-r)/o,y:(c-i)/s,width:f/o,height:h/s});break;default:a=(c,u,h,f)=>({x:(c-i)/s,y:(u-r)/o,width:h/s,height:f/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:f,y:g,width:_,height:m}of h.getClientRects())_===0||m===0||l.push(a(f,g,_,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(d(this,Zd)||A(this,Zd,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=d(this,Zd))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=d(this,Zd))==null?void 0:r.get(e.data.id);if(!t)return;const i=d(this,xr).getRawValue(t);i&&(d(this,Jt)===ke.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var s;const r=(s=d(this,za))==null?void 0:s.get(e);r&&(r.setCanvas(t,i),d(this,za).delete(e))}addMissingCanvas(e,t){(d(this,za)||A(this,za,new Map)).set(e,t)}};Kd=new WeakMap,Wi=new WeakMap,Jd=new WeakMap,Mt=new WeakMap,nn=new WeakMap,Qd=new WeakMap,xr=new WeakMap,Zd=new WeakMap,Tr=new WeakMap,qn=new WeakMap,La=new WeakMap,Ba=new WeakMap,jd=new WeakMap,Oa=new WeakMap,Is=new WeakMap,Er=new WeakMap,pc=new WeakMap,Fg=new WeakMap,Pg=new WeakMap,eh=new WeakMap,Mg=new WeakMap,ks=new WeakMap,Wa=new WeakMap,th=new WeakMap,Va=new WeakMap,Rs=new WeakMap,E1=new WeakMap,Ha=new WeakMap,nh=new WeakMap,Ng=new WeakMap,qa=new WeakMap,gc=new WeakMap,ih=new WeakMap,za=new WeakMap,Lg=new WeakMap,Jt=new WeakMap,tt=new WeakMap,Do=new WeakMap,Ga=new WeakMap,$a=new WeakMap,Bg=new WeakMap,rh=new WeakMap,Og=new WeakMap,Xa=new WeakMap,Fs=new WeakMap,wo=new WeakMap,Wg=new WeakMap,Vg=new WeakMap,Ar=new WeakMap,ge=new WeakSet,Ov=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},ew=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of d(this,nn).values())if(i.hasTextLayer(e))return i;return null},f3=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=k(this,ge,Ov).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(d(this,Rs)||A(this,Rs,new v6(this)),d(this,Rs).show(i,r,this.direction==="ltr"))},p3=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){d(this,Do)&&((s=d(this,Rs))==null||s.hide(),A(this,Do,null),k(this,ge,ei).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===d(this,Do))return;const r=k(this,ge,Ov).call(this,e).closest(".textLayer");if(!r){d(this,Do)&&((o=d(this,Rs))==null||o.hide(),A(this,Do,null),k(this,ge,ei).call(this,{hasSelectedText:!1}));return}if((a=d(this,Rs))==null||a.hide(),A(this,Do,t),k(this,ge,ei).call(this,{hasSelectedText:!0}),!(d(this,Jt)!==ke.HIGHLIGHT&&d(this,Jt)!==ke.NONE)&&(d(this,Jt)===ke.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),A(this,Va,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=d(this,Jt)===ke.HIGHLIGHT?k(this,ge,ew).call(this,r):null;if(l==null||l.toggleDrawing(),d(this,nh)){const c=new AbortController,u=this.combinedSignal(c),h=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&k(this,ge,gp).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}else l==null||l.toggleDrawing(!0),k(this,ge,gp).call(this,"main_toolbar")}},gp=function(e=""){d(this,Jt)===ke.HIGHLIGHT?this.highlightSelection(e):d(this,Fg)&&k(this,ge,f3).call(this)},g3=function(){document.addEventListener("selectionchange",k(this,ge,p3).bind(this),{signal:this._signal})},m3=function(){if(d(this,Wa))return;A(this,Wa,new AbortController);const e=this.combinedSignal(d(this,Wa));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},y3=function(){var e;(e=d(this,Wa))==null||e.abort(),A(this,Wa,null)},tw=function(){if(d(this,qa))return;A(this,qa,new AbortController);const e=this.combinedSignal(d(this,qa));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},v3=function(){var e;(e=d(this,qa))==null||e.abort(),A(this,qa,null)},b3=function(){if(d(this,La))return;A(this,La,new AbortController);const e=this.combinedSignal(d(this,La));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},_3=function(){var e;(e=d(this,La))==null||e.abort(),A(this,La,null)},D3=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ei=function(e){Object.entries(e).some(([i,r])=>d(this,Og)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,Og),e)}),d(this,Jt)===ke.HIGHLIGHT&&e.hasSelectedEditor===!1&&k(this,ge,po).call(this,[[Ge.HIGHLIGHT_FREE,!0]]))},po=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},w3=async function(){if(!d(this,Ha)){A(this,Ha,!0);const e=[];for(const t of d(this,nn).values())e.push(t.enable());await Promise.all(e);for(const t of d(this,Mt).values())t.enable()}},x3=function(){if(this.unselectAll(),d(this,Ha)){A(this,Ha,!1);for(const e of d(this,nn).values())e.disable();for(const e of d(this,Mt).values())e.disable()}},nw=function(e){const t=d(this,nn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},T3=function(){let e=null;for(e of d(this,tt));return e},mp=function(){if(d(this,Mt).size===0)return!0;if(d(this,Mt).size===1)for(const e of d(this,Mt).values())return e.isEmpty();return!1},iw=function(e){for(const t of d(this,tt))t.unselect();d(this,tt).clear();for(const t of e)t.isEmpty()||(d(this,tt).add(t),t.select());k(this,ge,ei).call(this,{hasSelectedEditor:this.hasSelection})},he(Ud,"TRANSLATE_SMALL",1),he(Ud,"TRANSLATE_BIG",10);let Pu=Ud;var un,Ps,Zr,sh,Ms,Vi,oh,Ns,bi,xo,mc,Ls,Ya,hs,yp,Wv;const ti=class ti{constructor(e){I(this,hs);I(this,un,null);I(this,Ps,!1);I(this,Zr,null);I(this,sh,null);I(this,Ms,null);I(this,Vi,null);I(this,oh,!1);I(this,Ns,null);I(this,bi,null);I(this,xo,null);I(this,mc,null);I(this,Ls,!1);A(this,bi,e),A(this,Ls,e._uiManager.useNewAltTextFlow),d(ti,Ya)||A(ti,Ya,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ti._l10n??(ti._l10n=e)}async render(){const e=A(this,Zr,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=A(this,sh,document.createElement("span"));e.append(t),d(this,Ls)?(e.classList.add("new"),e.setAttribute("data-l10n-id",d(ti,Ya).missing),t.setAttribute("data-l10n-id",d(ti,Ya)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=d(this,bi)._uiManager._signal;e.addEventListener("contextmenu",Gr,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),d(this,bi)._uiManager.editAltText(d(this,bi)),d(this,Ls)&&d(this,bi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,hs,yp)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(A(this,oh,!0),r(s))},{signal:i}),await k(this,hs,Wv).call(this),e}finish(){d(this,Zr)&&(d(this,Zr).focus({focusVisible:d(this,oh)}),A(this,oh,!1))}isEmpty(){return d(this,Ls)?d(this,un)===null:!d(this,un)&&!d(this,Ps)}hasData(){return d(this,Ls)?d(this,un)!==null||!!d(this,xo):this.isEmpty()}get guessedText(){return d(this,xo)}async setGuessedText(e){d(this,un)===null&&(A(this,xo,e),A(this,mc,await ti._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),k(this,hs,Wv).call(this))}toggleAltTextBadge(e=!1){var t;if(!d(this,Ls)||d(this,un)){(t=d(this,Ns))==null||t.remove(),A(this,Ns,null);return}if(!d(this,Ns)){const i=A(this,Ns,document.createElement("div"));i.className="noAltTextBadge",d(this,bi).div.append(i)}d(this,Ns).classList.toggle("hidden",!e)}serialize(e){let t=d(this,un);return!e&&d(this,xo)===t&&(t=d(this,mc)),{altText:t,decorative:d(this,Ps),guessedText:d(this,xo),textWithDisclaimer:d(this,mc)}}get data(){return{altText:d(this,un),decorative:d(this,Ps)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(A(this,xo,i),A(this,mc,r)),!(d(this,un)===e&&d(this,Ps)===t)&&(s||(A(this,un,e),A(this,Ps,t)),k(this,hs,Wv).call(this))}toggle(e=!1){d(this,Zr)&&(!e&&d(this,Vi)&&(clearTimeout(d(this,Vi)),A(this,Vi,null)),d(this,Zr).disabled=!e)}shown(){d(this,bi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,hs,yp)}})}destroy(){var e,t;(e=d(this,Zr))==null||e.remove(),A(this,Zr,null),A(this,sh,null),A(this,Ms,null),(t=d(this,Ns))==null||t.remove(),A(this,Ns,null)}};un=new WeakMap,Ps=new WeakMap,Zr=new WeakMap,sh=new WeakMap,Ms=new WeakMap,Vi=new WeakMap,oh=new WeakMap,Ns=new WeakMap,bi=new WeakMap,xo=new WeakMap,mc=new WeakMap,Ls=new WeakMap,Ya=new WeakMap,hs=new WeakSet,yp=function(){return d(this,un)&&"added"||d(this,un)===null&&this.guessedText&&"review"||"missing"},Wv=async function(){var r,s,o;const e=d(this,Zr);if(!e)return;if(d(this,Ls)){if(e.classList.toggle("done",!!d(this,un)),e.setAttribute("data-l10n-id",d(ti,Ya)[d(this,hs,yp)]),(r=d(this,sh))==null||r.setAttribute("data-l10n-id",d(ti,Ya)[`${d(this,hs,yp)}-label`]),!d(this,un)){(s=d(this,Ms))==null||s.remove();return}}else{if(!d(this,un)&&!d(this,Ps)){e.classList.remove("done"),(o=d(this,Ms))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=d(this,Ms);if(!t){A(this,Ms,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${d(this,bi).id}`;const a=100,l=d(this,bi)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(d(this,Vi)),A(this,Vi,null)},{once:!0}),e.addEventListener("mouseenter",()=>{A(this,Vi,setTimeout(()=>{A(this,Vi,null),d(this,Ms).classList.add("show"),d(this,bi)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;d(this,Vi)&&(clearTimeout(d(this,Vi)),A(this,Vi,null)),(c=d(this,Ms))==null||c.classList.remove("show")},{signal:l})}d(this,Ps)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=d(this,un)),t.parentNode||e.append(t);const i=d(this,bi).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},I(ti,Ya,null),he(ti,"_l10n",null);let $0=ti;var xn,Cr,yc,yt,Hg,vc,jr,bc,_c,Dc,qg,rw,Lk;let tv=(Lk=class{constructor(e){I(this,qg);I(this,xn,null);I(this,Cr,null);I(this,yc,!1);I(this,yt,null);I(this,Hg,null);I(this,vc,null);I(this,jr,null);I(this,bc,null);I(this,_c,!1);I(this,Dc,null);A(this,yt,e)}renderForToolbar(){const e=A(this,Cr,document.createElement("button"));return e.className="comment",k(this,qg,rw).call(this,e,!1)}renderForStandalone(){const e=A(this,xn,document.createElement("button"));e.className="annotationCommentButton";const t=d(this,yt).commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(d(this,yt)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=d(this,yt).commentButtonColor;r&&(i.backgroundColor=r)}return k(this,qg,rw).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=d(this,xn)??d(this,Cr))==null||e.focus()},0)}onUpdatedColor(){if(!d(this,xn))return;const e=d(this,yt).commentButtonColor;e&&(d(this,xn).style.backgroundColor=e),d(this,yt)._uiManager.updatePopupColor(d(this,yt))}get commentButtonWidth(){var e;return(((e=d(this,xn))==null?void 0:e.getBoundingClientRect().width)??0)/d(this,yt).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(d(this,Dc))return d(this,Dc);if(!d(this,xn))return null;const{x:e,y:t,height:i}=d(this,xn).getBoundingClientRect(),{x:r,y:s,width:o,height:a}=d(this,yt).parent.boundingClientRect;return[(e-r)/o,(t+i-s)/a]}set commentPopupPositionInLayer(e){A(this,Dc,e)}hasDefaultPopupPosition(){return d(this,Dc)===null}removeStandaloneCommentButton(){var e;(e=d(this,xn))==null||e.remove(),A(this,xn,null)}removeToolbarCommentButton(){var e;(e=d(this,Cr))==null||e.remove(),A(this,Cr,null)}setCommentButtonStates({selected:e,hasPopup:t}){d(this,xn)&&(d(this,xn).classList.toggle("selected",e),d(this,xn).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=d(this,yt).commentButtonPosition;const{width:u,height:h,x:f,y:g}=d(this,yt);i=f+i*u,r=g+r*h}const s=d(this,yt).parent.boundingClientRect,{x:o,y:a,width:l,height:c}=s;d(this,yt)._uiManager.editComment(d(this,yt),o+i*l,a+r*c,{...e,parentDimensions:s})}finish(){d(this,Cr)&&(d(this,Cr).focus({focusVisible:d(this,yc)}),A(this,yc,!1))}isDeleted(){return d(this,_c)||d(this,jr)===""}isEmpty(){return d(this,jr)===null}hasBeenEdited(){return this.isDeleted()||d(this,jr)!==d(this,Hg)}serialize(){return this.data}get data(){return{text:d(this,jr),richText:d(this,vc),date:d(this,bc),deleted:this.isDeleted()}}set data(e){if(e!==d(this,jr)&&A(this,vc,null),e===null){A(this,jr,""),A(this,_c,!0);return}A(this,jr,e),A(this,bc,new Date),A(this,_c,!1)}setInitialText(e,t=null){A(this,Hg,e),this.data=e,A(this,bc,null),A(this,vc,t)}shown(){}destroy(){var e,t;(e=d(this,Cr))==null||e.remove(),A(this,Cr,null),(t=d(this,xn))==null||t.remove(),A(this,xn,null),A(this,jr,""),A(this,vc,null),A(this,bc,null),A(this,yt,null),A(this,yc,!1),A(this,_c,!1)}},xn=new WeakMap,Cr=new WeakMap,yc=new WeakMap,yt=new WeakMap,Hg=new WeakMap,vc=new WeakMap,jr=new WeakMap,bc=new WeakMap,_c=new WeakMap,Dc=new WeakMap,qg=new WeakSet,rw=function(e,t){if(!d(this,yt)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[d(this,yt)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=d(this,yt)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",Gr,{signal:i}),t&&(e.addEventListener("focusin",s=>{d(this,yt)._focusEventsAllowed=!1,Vt(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{d(this,yt)._focusEventsAllowed=!0,Vt(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===d(this,Cr)?this.edit():d(this,yt).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(A(this,yc,!0),r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{d(this,yt).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{d(this,yt).toggleComment(!1,!1)},{signal:i}),e},Lk);var ah,wc,zg,Gg,$g,Xg,Yg,To,xc,Eo,Tc,Ao,Vl,E3,A3,C3;const bA=class bA{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){I(this,Vl);I(this,ah);I(this,wc,!1);I(this,zg,null);I(this,Gg);I(this,$g);I(this,Xg);I(this,Yg);I(this,To,null);I(this,xc);I(this,Eo,null);I(this,Tc);I(this,Ao,null);A(this,ah,e),A(this,zg,i),A(this,Gg,t),A(this,$g,r),A(this,Xg,s),A(this,Yg,o),A(this,Tc,new AbortController),A(this,xc,AbortSignal.any([a,d(this,Tc).signal])),e.addEventListener("touchstart",k(this,Vl,E3).bind(this),{passive:!1,signal:d(this,xc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/so.pixelRatio}destroy(){var e,t;(e=d(this,Tc))==null||e.abort(),A(this,Tc,null),(t=d(this,To))==null||t.abort(),A(this,To,null)}};ah=new WeakMap,wc=new WeakMap,zg=new WeakMap,Gg=new WeakMap,$g=new WeakMap,Xg=new WeakMap,Yg=new WeakMap,To=new WeakMap,xc=new WeakMap,Eo=new WeakMap,Tc=new WeakMap,Ao=new WeakMap,Vl=new WeakSet,E3=function(e){var r,s,o;if((r=d(this,Gg))!=null&&r.call(this))return;if(e.touches.length===1){if(d(this,To))return;const a=A(this,To,new AbortController),l=AbortSignal.any([d(this,xc),a.signal]),c=d(this,ah),u={capture:!0,signal:l,passive:!1},h=f=>{var g;f.pointerType==="touch"&&((g=d(this,To))==null||g.abort(),A(this,To,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Vt(f),h(f))},u),c.addEventListener("pointerup",h,u),c.addEventListener("pointercancel",h,u);return}if(!d(this,Ao)){A(this,Ao,new AbortController);const a=AbortSignal.any([d(this,xc),d(this,Ao).signal]),l=d(this,ah),c={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",k(this,Vl,A3).bind(this),c);const u=k(this,Vl,C3).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",Vt,c),l.addEventListener("pointermove",Vt,c),l.addEventListener("pointercancel",Vt,c),l.addEventListener("pointerup",Vt,c),(s=d(this,$g))==null||s.call(this)}if(Vt(e),e.touches.length!==2||(o=d(this,zg))!=null&&o.call(this)){A(this,Eo,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),A(this,Eo,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},A3=function(e){var x;if(!d(this,Eo)||e.touches.length!==2)return;Vt(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:o,screenY:a}=i,l=d(this,Eo),{touch0X:c,touch0Y:u,touch1X:h,touch1Y:f}=l,g=h-c,_=f-u,m=o-r,D=a-s,y=Math.hypot(m,D)||1,b=Math.hypot(g,_)||1;if(!d(this,wc)&&Math.abs(b-y)<=bA.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,!d(this,wc)){A(this,wc,!0);return}const w=[(r+o)/2,(s+a)/2];(x=d(this,Xg))==null||x.call(this,w,b,y)},C3=function(e){var t;e.touches.length>=2||(d(this,Ao)&&(d(this,Ao).abort(),A(this,Ao,null),(t=d(this,Yg))==null||t.call(this)),d(this,Eo)&&(Vt(e),A(this,Eo,null),A(this,wc,!1)))};let X0=bA;var Ec,es,At,dt,Co,lh,Ka,Kg,Tn,Ac,So,Sr,Ja,Jg,Cc,Hi,Qg,Sc,Uo,Bs,ch,uh,Ur,Uc,Zg,A1,Ee,sw,jg,ow,Vv,S3,U3,aw,Hv,lw,I3,k3,R3,cw,F3,uw,P3,M3,N3,dw,vp;const Ie=class Ie{constructor(e){I(this,Ee);I(this,Ec,null);I(this,es,null);I(this,At,null);I(this,dt,null);I(this,Co,null);I(this,lh,!1);I(this,Ka,null);I(this,Kg,"");I(this,Tn,null);I(this,Ac,null);I(this,So,null);I(this,Sr,null);I(this,Ja,null);I(this,Jg,"");I(this,Cc,!1);I(this,Hi,null);I(this,Qg,!1);I(this,Sc,!1);I(this,Uo,!1);I(this,Bs,null);I(this,ch,0);I(this,uh,0);I(this,Ur,null);I(this,Uc,null);he(this,"isSelected",!1);he(this,"_isCopy",!1);he(this,"_editToolbar",null);he(this,"_initialOptions",Object.create(null));he(this,"_initialData",null);he(this,"_isVisible",!0);he(this,"_uiManager",null);he(this,"_focusEventsAllowed",!0);I(this,Zg,!1);I(this,A1,Ie._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ie.prototype._resizeWithKeyboard,t=Pu.TRANSLATE_SMALL,i=Pu.TRANSLATE_BIG;return Ue(this,"_resizerKeyboardManager",new Ay([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Ie.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ue(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new D6({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ie._l10n??(Ie._l10n=e),Ie._l10nResizer||(Ie._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ie._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Ie._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){pt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,Zg)}set _isDraggable(e){var t;A(this,Zg,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,A1)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(k(this,Ee,vp).call(this),(t=d(this,Sr))==null||t.remove(),A(this,Sr,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(d(this,Cc)?A(this,Cc,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}translate(e,t){k(this,Ee,sw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){d(this,Hi)||A(this,Hi,[this.x,this.y,this.width,this.height]),k(this,Ee,sw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){d(this,Hi)||A(this,Hi,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,c]=this.getBaseTranslation();o+=l,a+=c;const{style:u}=i;u.left=`${(100*o).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!d(this,Hi)&&(d(this,Hi)[0]!==this.x||d(this,Hi)[1]!==this.y)}get _hasBeenResized(){return!!d(this,Hi)&&(d(this,Hi)[2]!==this.width||d(this,Hi)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Ie,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:o,width:a,height:l}=this;if(a*=i,l*=r,s*=i,o*=r,this._mustFixPosition)switch(e){case 0:s=ai(s,0,i-a),o=ai(o,0,r-l);break;case 90:s=ai(s,0,i-l),o=ai(o,a,r);break;case 180:s=ai(s,a,i),o=ai(o,l,r);break;case 270:s=ai(s,l,i),o=ai(o,0,r-a);break}this.x=s/=i,this.y=o/=r;const[c,u]=this.getBaseTranslation();s+=c,o+=u,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return k(i=Ie,jg,ow).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return k(i=Ie,jg,ow).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=d(this,At))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||d(this,Sc))return this._editToolbar;this._editToolbar=new JD(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=d(this,At))==null||t.destroy()}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return d(this,At)||($0.initialize(Ie._l10n),A(this,At,new $0(this)),d(this,Ec)&&(d(this,At).data=d(this,Ec),A(this,Ec,null))),d(this,At)}get altTextData(){var e;return(e=d(this,At))==null?void 0:e.data}set altTextData(e){d(this,At)&&(d(this,At).data=e)}get guessedAltText(){var e;return(e=d(this,At))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=d(this,At))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=d(this,At))==null?void 0:t.serialize(e)}hasAltText(){return!!d(this,At)&&!d(this,At).isEmpty()}hasAltTextData(){var e;return((e=d(this,At))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=d(this,dt))==null||e.focusButton()}addCommentButton(){return this.canAddComment?d(this,dt)||A(this,dt,new tv(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(d(this,Co)){this._uiManager.isEditingMode()&&d(this,Co).classList.remove("hidden");return}this.hasComment&&(A(this,Co,d(this,dt).renderForStandalone()),this.div.append(d(this,Co)))}}removeStandaloneCommentButton(){d(this,dt).removeStandaloneCommentButton(),A(this,Co,null)}hideStandaloneCommentButton(){var e;(e=d(this,Co))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=d(this,dt);return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){d(this,dt)||A(this,dt,new tv(this)),d(this,dt).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(d(this,dt)||A(this,dt,new tv(this)),d(this,dt).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=d(this,dt))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=d(this,dt))==null?void 0:e.isDeleted()}get hasComment(){return!!d(this,dt)&&!d(this,dt).isEmpty()&&!d(this,dt).isDeleted()}async editComment(e){d(this,dt)||A(this,dt,new tv(this)),d(this,dt).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){d(this,dt).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[o]=this.pageTranslation,a=o+s+1,l=r-100,c=a+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,l,c,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){d(this,dt).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=d(this,lh)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),k(this,Ee,uw).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),d3(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(d(this,Uc)||A(this,Uc,new X0({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:k(this,Ee,I3).bind(this),onPinching:k(this,Ee,k3).bind(this),onPinchEnd:k(this,Ee,R3).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(A(this,Cc,!0),this._isDraggable){k(this,Ee,F3).call(this,e);return}k(this,Ee,cw).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){d(this,Bs)&&clearTimeout(d(this,Bs)),A(this,Bs,setTimeout(()=>{var e;A(this,Bs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/r,u=t/r,h=this.x*s,f=this.y*o,g=this.width*s,_=this.height*o;switch(i){case 0:return[h+c+a,o-f-u-_+l,h+c+g+a,o-f-u+l];case 90:return[h+u+a,o-f+c+l,h+u+_+a,o-f+c+g+l];case 180:return[h-c-g+a,o-f+u+l,h-c+a,o-f+u+_+l];case 270:return[h-u-_+a,o-f-c-g+l,h-u+a,o-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,t-o,a,l];case 90:return[i,t-r,l,a];case 180:return[s,t-r,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Ie._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=d(this,dt))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:o},uid:a,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:a,pageIndex:l,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:c,modificationDate:i||u,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),A(this,Sc,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),A(this,Sc,!1),!0):!1}isInEditMode(){return d(this,Sc)}shouldGetKeyboardEvents(){return d(this,Uo)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&r>0&&e<s&&i>0}rebuild(){k(this,Ee,uw).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,A(r,Ec,e.accessibilityData),r._isCopy=e.isCopy||!1;const[s,o]=r.pageDimensions,[a,l,c,u]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=c/s,r.height=u/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,i;if((e=d(this,Ja))==null||e.abort(),A(this,Ja,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),d(this,Bs)&&(clearTimeout(d(this,Bs)),A(this,Bs,null)),k(this,Ee,vp).call(this),this.removeEditToolbar(),d(this,Ur)){for(const r of d(this,Ur).values())clearTimeout(r);A(this,Ur,null)}this.parent=null,(t=d(this,Uc))==null||t.destroy(),A(this,Uc,null),(i=d(this,Sr))==null||i.remove(),A(this,Sr,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,Ee,S3).call(this),d(this,Tn).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,o]=this.getPDFRect();return[Ie._round(i+(s-i)*e),Ie._round(r+(o-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return d(this,dt).commentPopupPositionInLayer}set commentPopupPosition(e){d(this,dt).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return d(this,dt).hasDefaultPopupPosition()}get commentButtonWidth(){return d(this,dt).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=d(this,dt))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),A(this,So,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=d(this,Tn).children;if(!d(this,es)){A(this,es,Array.from(t));const o=k(this,Ee,P3).bind(this),a=k(this,Ee,M3).bind(this),l=this._uiManager._signal;for(const c of d(this,es)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",k(this,Ee,N3).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Ie._l10nResizer[u])}}const i=d(this,es)[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(d(this,es).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)d(this,Tn).append(d(this,Tn).firstElementChild);else if(s>r)for(let a=0;a<s-r;a++)d(this,Tn).firstElementChild.before(d(this,Tn).lastElementChild);let o=0;for(const a of t){const c=d(this,es)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",Ie._l10nResizer[c])}}k(this,Ee,dw).call(this,0),A(this,Uo,!0),d(this,Tn).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){d(this,Uo)&&k(this,Ee,lw).call(this,d(this,Jg),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){k(this,Ee,vp).call(this),this.div.focus()}select(){var e,t,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=d(this,At))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,i,r,s;this.isSelected&&(this.isSelected=!1,(e=d(this,Tn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=d(this,At))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return d(this,Qg)}set isEditing(e){A(this,Qg,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){d(this,Ur)||A(this,Ur,new Map);const{action:i}=e;let r=d(this,Ur).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),d(this,Ur).delete(i),d(this,Ur).size===0&&A(this,Ur,null)},Ie._telemetryTimeout),d(this,Ur).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),A(this,lh,!1)}disable(){this.div&&(this.div.tabIndex=-1),A(this,lh,!0)}updateFakeAnnotationElement(e){if(!d(this,Sr)&&!this.deleted){A(this,Sr,e.addFakeAnnotation(this));return}if(this.deleted){d(this,Sr).remove(),A(this,Sr,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&d(this,Sr).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ec=new WeakMap,es=new WeakMap,At=new WeakMap,dt=new WeakMap,Co=new WeakMap,lh=new WeakMap,Ka=new WeakMap,Kg=new WeakMap,Tn=new WeakMap,Ac=new WeakMap,So=new WeakMap,Sr=new WeakMap,Ja=new WeakMap,Jg=new WeakMap,Cc=new WeakMap,Hi=new WeakMap,Qg=new WeakMap,Sc=new WeakMap,Uo=new WeakMap,Bs=new WeakMap,ch=new WeakMap,uh=new WeakMap,Ur=new WeakMap,Uc=new WeakMap,Zg=new WeakMap,A1=new WeakMap,Ee=new WeakSet,sw=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},jg=new WeakSet,ow=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Vv=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},S3=function(){if(d(this,Tn))return;A(this,Tn,document.createElement("div")),d(this,Tn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");d(this,Tn).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",k(this,Ee,U3).bind(this,i),{signal:t}),r.addEventListener("contextmenu",Gr,{signal:t}),r.tabIndex=-1}this.div.prepend(d(this,Tn))},U3=function(e,t){var u;t.preventDefault();const{isMac:i}=ln.platform;if(t.button!==0||t.ctrlKey&&i)return;(u=d(this,At))==null||u.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,A(this,Ac,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,Ee,lw).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Vt,{passive:!1,signal:o}),window.addEventListener("contextmenu",Gr,{signal:o}),A(this,So,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=d(this,At))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=a,this.div.style.cursor=l,k(this,Ee,Hv).call(this)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},aw=function(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Hv=function(){if(!d(this,So))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=d(this,So);A(this,So,null);const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===i&&l===r||this.addCommands({cmd:k(this,Ee,aw).bind(this,s,o,a,l),undo:k(this,Ee,aw).bind(this,e,t,i,r),mustExec:!0})},lw=function(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=Ie.MIN_SIZE/i,u=Ie.MIN_SIZE/r,h=k(this,Ee,Vv).call(this,this.rotation),f=(N,B)=>[h[0]*N+h[2]*B,h[1]*N+h[3]*B],g=k(this,Ee,Vv).call(this,360-this.rotation),_=(N,B)=>[g[0]*N+g[2]*B,g[1]*N+g[3]*B];let m,D,y=!1,b=!1;switch(e){case"topLeft":y=!0,m=(N,B)=>[0,0],D=(N,B)=>[N,B];break;case"topMiddle":m=(N,B)=>[N/2,0],D=(N,B)=>[N/2,B];break;case"topRight":y=!0,m=(N,B)=>[N,0],D=(N,B)=>[0,B];break;case"middleRight":b=!0,m=(N,B)=>[N,B/2],D=(N,B)=>[0,B/2];break;case"bottomRight":y=!0,m=(N,B)=>[N,B],D=(N,B)=>[0,0];break;case"bottomMiddle":m=(N,B)=>[N/2,B],D=(N,B)=>[N/2,0];break;case"bottomLeft":y=!0,m=(N,B)=>[0,B],D=(N,B)=>[N,0];break;case"middleLeft":b=!0,m=(N,B)=>[0,B/2],D=(N,B)=>[N,B/2];break}const w=m(a,l),x=D(a,l);let T=f(...x);const E=Ie._round(s+T[0]),C=Ie._round(o+T[1]);let F=1,P=1,O,Y;if(t.fromKeyboard)({deltaX:O,deltaY:Y}=t);else{const{screenX:N,screenY:B}=t,[M,L]=d(this,Ac);[O,Y]=this.screenToPageTranslation(N-M,B-L),d(this,Ac)[0]=N,d(this,Ac)[1]=B}if([O,Y]=_(O/i,Y/r),y){const N=Math.hypot(a,l);F=P=Math.max(Math.min(Math.hypot(x[0]-w[0]-O,x[1]-w[1]-Y)/N,1/a,1/l),c/a,u/l)}else b?F=ai(Math.abs(x[0]-w[0]-O),c,1)/a:P=ai(Math.abs(x[1]-w[1]-Y),u,1)/l;const R=Ie._round(a*F),V=Ie._round(l*P);T=f(...D(R,V));const S=E-T[0],K=C-T[1];d(this,Hi)||A(this,Hi,[this.x,this.y,this.width,this.height]),this.width=R,this.height=V,this.x=S,this.y=K,this.setDims(),this.fixAndSetPosition(),this._onResizing()},I3=function(){var e;A(this,So,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=d(this,At))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},k3=function(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const o=k(this,Ee,Vv).call(this,this.rotation),a=(E,C)=>[o[0]*E+o[2]*C,o[1]*E+o[3]*C],[l,c]=this.parentDimensions,u=this.x,h=this.y,f=this.width,g=this.height,_=Ie.MIN_SIZE/l,m=Ie.MIN_SIZE/c;s=Math.max(Math.min(s,1/f,1/g),_/f,m/g);const D=Ie._round(f*s),y=Ie._round(g*s);if(D===f&&y===g)return;d(this,Hi)||A(this,Hi,[u,h,f,g]);const b=a(f/2,g/2),w=Ie._round(u+b[0]),x=Ie._round(h+b[1]),T=a(D/2,y/2);this.x=w-T[0],this.y=x-T[1],this.width=D,this.height=y,this.setDims(),this.fixAndSetPosition(),this._onResizing()},R3=function(){var e;(e=d(this,At))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),k(this,Ee,Hv).call(this)},cw=function(e){const{isMac:t}=ln.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},F3=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},a=c=>{r.abort(),A(this,Ka,null),A(this,Cc,!1),this._uiManager.endDragSession()||k(this,Ee,cw).call(this,c),i&&this._onStopDragging()};t&&(A(this,ch,e.clientX),A(this,uh,e.clientY),A(this,Ka,e.pointerId),A(this,Kg,e.pointerType),window.addEventListener("pointermove",c=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:h,pointerId:f}=c;if(f!==d(this,Ka)){Vt(c);return}const[g,_]=this.screenToPageTranslation(u-d(this,ch),h-d(this,uh));A(this,ch,u),A(this,uh,h),this._uiManager.dragSelectedEditors(g,_)},o),window.addEventListener("touchmove",Vt,o),window.addEventListener("pointerdown",c=>{c.pointerType===d(this,Kg)&&(d(this,Uc)||c.isPrimary)&&a(c),Vt(c)},o));const l=c=>{if(!d(this,Ka)||d(this,Ka)===c.pointerId){a(c);return}Vt(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},uw=function(){if(d(this,Ja)||!this.div)return;A(this,Ja,new AbortController);const e=this._uiManager.combinedSignal(d(this,Ja));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},P3=function(e){Ie._resizerKeyboardManager.exec(this,e)},M3=function(e){var t;d(this,Uo)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==d(this,Tn)&&k(this,Ee,vp).call(this)},N3=function(e){A(this,Jg,d(this,Uo)?e:"")},dw=function(e){if(d(this,es))for(const t of d(this,es))t.tabIndex=e},vp=function(){A(this,Uo,!1),k(this,Ee,dw).call(this,-1),k(this,Ee,Hv).call(this)},I(Ie,jg),he(Ie,"_l10n",null),he(Ie,"_l10nResizer",null),he(Ie,"_borderLineWidth",-1),he(Ie,"_colorManager",new jD),he(Ie,"_zIndex",1),he(Ie,"_telemetryTimeout",1e3);let bt=Ie;class D6 extends bt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const qC=3285377520,yr=4294901760,Cs=65535;class L3{constructor(e){this.h1=e?e&4294967295:qC,this.h2=e?e&4294967295:qC}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let m=0,D=e.length;m<D;m++){const y=e.charCodeAt(m);y<=255?t[i++]=y:(t[i++]=y>>>8,t[i++]=y&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,l=0,c=this.h1,u=this.h2;const h=3432918353,f=461845907,g=h&Cs,_=f&Cs;for(let m=0;m<r;m++)m&1?(a=o[m],a=a*h&yr|a*g&Cs,a=a<<15|a>>>17,a=a*f&yr|a*_&Cs,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[m],l=l*h&yr|l*g&Cs,l=l<<15|l>>>17,l=l*f&yr|l*_&Cs,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*h&yr|a*g&Cs,a=a<<15|a>>>17,a=a*f&yr|a*_&Cs,r&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&yr|e*36045&Cs,t=t*4283543511&yr|((t<<16|e>>>16)*2950163797&yr)>>>16,e^=t>>>1,e=e*444984403&yr|e*60499&Cs,t=t*3301882366&yr|((t<<16|e>>>16)*3120437893&yr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const hw=Object.freeze({map:null,hash:"",transfer:void 0});var Ic,kc,Io,En,C1,B3;class NT{constructor(){I(this,C1);I(this,Ic,!1);I(this,kc,null);I(this,Io,null);I(this,En,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=d(this,En).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return d(this,En).get(e)}remove(e){const t=d(this,En).get(e);if(t!==void 0&&(t instanceof bt&&d(this,Io).delete(t.annotationElementId),d(this,En).delete(e),d(this,En).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of d(this,En).values())if(i instanceof bt)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=d(this,En).get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,d(this,En).set(e,t);r&&k(this,C1,B3).call(this),t instanceof bt&&((d(this,Io)||A(this,Io,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return d(this,En).has(e)}get size(){return d(this,En).size}resetModified(){d(this,Ic)&&(A(this,Ic,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new O3(this)}get serializable(){if(d(this,En).size===0)return hw;const e=new Map,t=new L3,i=[],r=Object.create(null);let s=!1;for(const[o,a]of d(this,En)){const l=a instanceof bt?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:hw}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of d(this,En).values()){if(!(s instanceof bt)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:a}=o;t.has(a)||t.set(a,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[a]||(e[a]=new Map);for(const[c,u]of Object.entries(o)){if(c==="type")continue;let h=l.get(c);h||(h=new Map,l.set(c,h));const f=h.get(u)??0;h.set(u,f+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,o]of t)e[s]=o.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){A(this,kc,null)}updateEditor(e,t){var r;const i=(r=d(this,Io))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=d(this,Io))==null?void 0:t.get(e))||null}get modifiedIds(){if(d(this,kc))return d(this,kc);const e=[];if(d(this,Io))for(const t of d(this,Io).values())t.serialize()&&e.push(t.annotationElementId);return A(this,kc,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return d(this,En).entries()}}Ic=new WeakMap,kc=new WeakMap,Io=new WeakMap,En=new WeakMap,C1=new WeakSet,B3=function(){d(this,Ic)||(A(this,Ic,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var em;class O3 extends NT{constructor(t){super();I(this,em);const{map:i,hash:r,transfer:s}=t.serializable,o=structuredClone(i,s?{transfer:s}:null);A(this,em,{map:o,hash:r,transfer:s})}get print(){pt("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,em)}get modifiedIds(){return Ue(this,"modifiedIds",{ids:new Set,hash:""})}}em=new WeakMap;var dh;class w6{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){I(this,dh,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),d(this,dh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||d(this,dh).has(e.loadedName))){if($e(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:o}=e,a=new FontFace(r,s,o);this.addNativeFontFace(a);try{await a.load(),d(this,dh).add(r),i==null||i(e)}catch{Se(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}pt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Se(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ue(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ue(this,"isSyncFontLoadingSupported",oi||ln.platform.isFirefox)}_queueLoadingCallback(e){function t(){for($e(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ue(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(x,T){return x.charCodeAt(T)<<24|x.charCodeAt(T+1)<<16|x.charCodeAt(T+2)<<8|x.charCodeAt(T+3)&255}function r(x,T,E,C){const F=x.substring(0,T),P=x.substring(T+E);return F+C+P}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(x,T){if(++c>30){Se("Load test font never loaded."),T();return}if(l.font="30px "+x,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(u.bind(null,x,T))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,h.length,h);const _=16,m=1482184792;let D=i(f,_);for(s=0,o=h.length-3;s<o;s+=4)D=D-m+i(h,s)|0;s<h.length&&(D=D-m+i(h+"XXX",s)|0),f=r(f,_,4,n6(D));const y=`url(data:font/opentype;base64,${btoa(f)});`,b=`@font-face {font-family:"${h}";src:${y}}`;this.insertRule(b);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const x of[e.loadedName,h]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=x,w.append(T)}this._document.body.append(w),u(h,()=>{w.remove(),t.complete()})}}dh=new WeakMap;var ot;class x6{constructor(e,t=null,i,r){I(this,ot);this.compiledGlyphs=Object.create(null),A(this,ot,e),this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${n3(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(o){Se(`getPathGenerator - ignoring character: "${o}".`)}const s=s3(r==null?void 0:r.path);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return d(this,ot).black}get bold(){return d(this,ot).bold}get disableFontFace(){return d(this,ot).disableFontFace??!1}set disableFontFace(e){Ue(this,"disableFontFace",!!e)}get fontExtraProperties(){return d(this,ot).fontExtraProperties??!1}get isInvalidPDFjsFont(){return d(this,ot).isInvalidPDFjsFont}get isType3Font(){return d(this,ot).isType3Font}get italic(){return d(this,ot).italic}get missingFile(){return d(this,ot).missingFile}get remeasure(){return d(this,ot).remeasure}get vertical(){return d(this,ot).vertical}get ascent(){return d(this,ot).ascent}get defaultWidth(){return d(this,ot).defaultWidth}get descent(){return d(this,ot).descent}get bbox(){return d(this,ot).bbox}set bbox(e){Ue(this,"bbox",e)}get fontMatrix(){return d(this,ot).fontMatrix}get fallbackName(){return d(this,ot).fallbackName}get loadedName(){return d(this,ot).loadedName}get mimetype(){return d(this,ot).mimetype}get name(){return d(this,ot).name}get data(){return d(this,ot).data}clearData(){d(this,ot).clearData()}get cssFontInfo(){return d(this,ot).cssFontInfo}get systemFontInfo(){return d(this,ot).systemFontInfo}get defaultVMetrics(){return d(this,ot).defaultVMetrics}}ot=new WeakMap;var hh,fh,tm,ph,qv;const Id=class Id{constructor(e){I(this,ph);I(this,hh);I(this,fh);I(this,tm);A(this,hh,e),A(this,fh,new DataView(d(this,hh))),A(this,tm,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const c of Id.strings){const u=t.encode(e[c]);i[c]=u,r+=4+u.length}const s=new ArrayBuffer(r),o=new Uint8Array(s),a=new DataView(s);let l=0;for(const c of Id.strings){const u=i[c],h=u.length;a.setUint32(l,h),o.set(u,l+4),l+=4+h}return $e(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return k(this,ph,qv).call(this,0)}get fontWeight(){return k(this,ph,qv).call(this,1)}get italicAngle(){return k(this,ph,qv).call(this,2)}};hh=new WeakMap,fh=new WeakMap,tm=new WeakMap,ph=new WeakSet,qv=function(e){$e(e<Id.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=d(this,fh).getUint32(t)+4;const i=d(this,fh).getUint32(t);return d(this,tm).decode(new Uint8Array(d(this,hh),t+4,i))},he(Id,"strings",["fontFamily","fontWeight","italicAngle"]);let Y0=Id;var Qa,Os,Rc,Fc,bp;const kd=class kd{constructor(e){I(this,Fc);I(this,Qa);I(this,Os);I(this,Rc);A(this,Qa,e),A(this,Os,new DataView(d(this,Qa))),A(this,Rc,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const f of kd.strings){const g=t.encode(e[f]);i[f]=g,r+=4+g.length}r+=4;let s,o,a=1+r;e.style&&(s=t.encode(e.style.style),o=t.encode(e.style.weight),a+=4+s.length+4+o.length);const l=new ArrayBuffer(a),c=new Uint8Array(l),u=new DataView(l);let h=0;u.setUint8(h++,e.guessFallback?1:0),u.setUint32(h,0),h+=4,r=0;for(const f of kd.strings){const g=i[f],_=g.length;r+=4+_,u.setUint32(h,_),c.set(g,h+4),h+=4+_}return u.setUint32(h-r-4,r),e.style&&(u.setUint32(h,s.length),c.set(s,h+4),h+=4+s.length,u.setUint32(h,o.length),c.set(o,h+4),h+=4+o.length),$e(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return d(this,Os).getUint8(0)!==0}get css(){return k(this,Fc,bp).call(this,0)}get loadedName(){return k(this,Fc,bp).call(this,1)}get baseFontName(){return k(this,Fc,bp).call(this,2)}get src(){return k(this,Fc,bp).call(this,3)}get style(){let e=1;e+=4+d(this,Os).getUint32(e);const t=d(this,Os).getUint32(e),i=d(this,Rc).decode(new Uint8Array(d(this,Qa),e+4,t));e+=4+t;const r=d(this,Os).getUint32(e),s=d(this,Rc).decode(new Uint8Array(d(this,Qa),e+4,r));return{style:i,weight:s}}};Qa=new WeakMap,Os=new WeakMap,Rc=new WeakMap,Fc=new WeakSet,bp=function(e){$e(e<kd.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=d(this,Os).getUint32(t)+4;const i=d(this,Os).getUint32(t);return d(this,Rc).decode(new Uint8Array(d(this,Qa),t+4,i))},he(kd,"strings",["css","loadedName","baseFontName","src"]);let K0=kd;var gh,mh,yh,vh,qi,Ws,nm,at,Ot,Kr,zv,_p;const Re=class Re{constructor({data:e,extra:t}){I(this,Ot);I(this,Ws);I(this,nm);I(this,at);A(this,Ws,e),A(this,nm,new TextDecoder),A(this,at,new DataView(d(this,Ws))),t&&Object.assign(this,t)}get black(){return k(this,Ot,Kr).call(this,0)}get bold(){return k(this,Ot,Kr).call(this,1)}get disableFontFace(){return k(this,Ot,Kr).call(this,2)}get fontExtraProperties(){return k(this,Ot,Kr).call(this,3)}get isInvalidPDFjsFont(){return k(this,Ot,Kr).call(this,4)}get isType3Font(){return k(this,Ot,Kr).call(this,5)}get italic(){return k(this,Ot,Kr).call(this,6)}get missingFile(){return k(this,Ot,Kr).call(this,7)}get remeasure(){return k(this,Ot,Kr).call(this,8)}get vertical(){return k(this,Ot,Kr).call(this,9)}get ascent(){return k(this,Ot,zv).call(this,0)}get defaultWidth(){return k(this,Ot,zv).call(this,1)}get descent(){return k(this,Ot,zv).call(this,2)}get bbox(){let e=d(Re,mh);if(d(this,at).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(d(this,at).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=d(Re,yh);if(d(this,at).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(d(this,at).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=d(Re,vh);if(d(this,at).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(d(this,at).getInt16(e,!0)),e+=2;return i}get fallbackName(){return k(this,Ot,_p).call(this,0)}get loadedName(){return k(this,Ot,_p).call(this,1)}get mimetype(){return k(this,Ot,_p).call(this,2)}get name(){return k(this,Ot,_p).call(this,3)}get data(){let e=d(Re,qi);const t=d(this,at).getUint32(e);e+=4+t;const i=d(this,at).getUint32(e);e+=4+i;const r=d(this,at).getUint32(e);e+=4+r;const s=d(this,at).getUint32(e);if(s!==0)return new Uint8Array(d(this,Ws),e+4,s)}clearData(){let e=d(Re,qi);const t=d(this,at).getUint32(e);e+=4+t;const i=d(this,at).getUint32(e);e+=4+i;const r=d(this,at).getUint32(e);e+=4+r;const s=d(this,at).getUint32(e);new Uint8Array(d(this,Ws),e+4,s).fill(0),d(this,at).setUint32(e,0)}get cssFontInfo(){let e=d(Re,qi);const t=d(this,at).getUint32(e);e+=4+t;const i=d(this,at).getUint32(e);e+=4+i;const r=d(this,at).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(d(this,Ws),e+4,r)),new Y0(s.buffer)}get systemFontInfo(){let e=d(Re,qi);const t=d(this,at).getUint32(e);e+=4+t;const i=d(this,at).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(d(this,Ws),e+4,i)),new K0(r.buffer)}static write(e){const t=e.systemFontInfo?K0.write(e.systemFontInfo):null,i=e.cssFontInfo?Y0.write(e.cssFontInfo):null,r=new TextEncoder,s={};let o=0;for(const m of Re.strings)s[m]=r.encode(e[m]),o+=4+s[m].length;const a=d(Re,qi)+4+o+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(a),c=new Uint8Array(l),u=new DataView(l);let h=0;const f=Re.bools.length;let g=0,_=0;for(let m=0;m<f;m++){const D=e[Re.bools[m]];g|=(D===void 0?0:D?2:1)<<_,_+=2,(_===8||m===f-1)&&(u.setUint8(h++,g),g=0,_=0)}$e(h===d(Re,gh),"FontInfo.write: Boolean properties offset mismatch");for(const m of Re.numbers)u.setFloat64(h,e[m]),h+=8;if($e(h===d(Re,mh),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(h++,4);for(const m of e.bbox)u.setInt16(h,m,!0),h+=2}else u.setUint8(h++,0),h+=2*4;if($e(h===d(Re,yh),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(h++,6);for(const m of e.fontMatrix)u.setFloat64(h,m,!0),h+=8}else u.setUint8(h++,0),h+=8*6;if($e(h===d(Re,vh),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(h++,1);for(const m of e.defaultVMetrics)u.setInt16(h,m,!0),h+=2}else u.setUint8(h++,0),h+=3*2;$e(h===d(Re,qi),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(d(Re,qi),0),h+=4;for(const m of Re.strings){const D=s[m],y=D.length;u.setUint32(h,y),c.set(D,h+4),h+=4+y}if(u.setUint32(d(Re,qi),h-d(Re,qi)-4),!t)u.setUint32(h,0),h+=4;else{const m=t.byteLength;u.setUint32(h,m),$e(h+4+m<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(t),h+4),h+=4+m}if(!i)u.setUint32(h,0),h+=4;else{const m=i.byteLength;u.setUint32(h,m),$e(h+4+m<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(i),h+4),h+=4+m}return e.data===void 0?(u.setUint32(h,0),h+=4):(u.setUint32(h,e.data.length),c.set(e.data,h+4),h+=4+e.data.length),$e(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};gh=new WeakMap,mh=new WeakMap,yh=new WeakMap,vh=new WeakMap,qi=new WeakMap,Ws=new WeakMap,nm=new WeakMap,at=new WeakMap,Ot=new WeakSet,Kr=function(e){$e(e<Re.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=d(this,at).getUint8(t)>>i&3;return r===0?void 0:r===2},zv=function(e){return $e(e<Re.numbers.length,"Invalid number index"),d(this,at).getFloat64(d(Re,gh)+e*8)},_p=function(e){$e(e<Re.strings.length,"Invalid string index");let t=d(Re,qi)+4;for(let s=0;s<e;s++)t+=d(this,at).getUint32(t)+4;const i=d(this,at).getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(d(this,Ws),t+4,i)),d(this,nm).decode(r)},he(Re,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),he(Re,"numbers",["ascent","defaultWidth","descent"]),he(Re,"strings",["fallbackName","loadedName","mimetype","name"]),I(Re,gh,Math.ceil(Re.bools.length*2/8)),I(Re,mh,d(Re,gh)+Re.numbers.length*8),I(Re,yh,d(Re,mh)+1+2*4),I(Re,vh,d(Re,yh)+1+8*6),I(Re,qi,d(Re,vh)+1+2*3);let fw=Re;var im,rm,sm,om,am,lm,cm,um;const mt=class mt{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],o=[],a=[],l=null,c=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],o=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],r=e[2],s=e[3],a=e[4]||[],i=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const u=Math.floor(r.length/2),h=Math.floor(s.length/3),f=o.length,g=a.length;let _=0;for(const T of a)_+=1,_=Math.ceil(_/4)*4,_+=4+T.coords.length*4,_+=4+T.colors.length*4,T.verticesPerRow!==void 0&&(_+=4);const m=20+u*8+h*3+f*8+(i?16:0)+(c?3:0)+_,D=new ArrayBuffer(m),y=new DataView(D),b=new Uint8Array(D);y.setUint8(d(mt,im),t),y.setUint8(d(mt,rm),i?1:0),y.setUint8(d(mt,sm),c?1:0),y.setUint8(d(mt,om),l),y.setUint32(d(mt,am),u,!0),y.setUint32(d(mt,lm),h,!0),y.setUint32(d(mt,cm),f,!0),y.setUint32(d(mt,um),g,!0);let w=20;new Float32Array(D,w,u*2).set(r),w+=u*8,b.set(s,w),w+=h*3;for(const[T,E]of o)y.setFloat32(w,T,!0),w+=4,y.setUint32(w,parseInt(E.slice(1),16),!0),w+=4;if(i)for(const T of i)y.setFloat32(w,T,!0),w+=4;c&&(b.set(c,w),w+=3);for(let T=0;T<a.length;T++){const E=a[T];y.setUint8(w,E.type),w+=1,w=Math.ceil(w/4)*4,y.setUint32(w,E.coords.length,!0),w+=4,new Int32Array(D,w,E.coords.length).set(E.coords),w+=E.coords.length*4,y.setUint32(w,E.colors.length,!0),w+=4,new Int32Array(D,w,E.colors.length).set(E.colors),w+=E.colors.length*4,E.verticesPerRow!==void 0&&(y.setUint32(w,E.verticesPerRow,!0),w+=4)}return D}getIR(){const e=this.view,t=this.data[d(mt,im)],i=!!this.data[d(mt,rm)],r=!!this.data[d(mt,sm)],s=e.getUint32(d(mt,am),!0),o=e.getUint32(d(mt,lm),!0),a=e.getUint32(d(mt,cm),!0),l=e.getUint32(d(mt,um),!0);let c=20;const u=new Float32Array(this.buffer,c,s*2);c+=s*8;const h=new Uint8Array(this.buffer,c,o*3);c+=o*3;const f=[];for(let D=0;D<a;++D){const y=e.getFloat32(c,!0);c+=4;const b=e.getUint32(c,!0);c+=4,f.push([y,`#${b.toString(16).padStart(6,"0")}`])}let g=null;if(i){g=[];for(let D=0;D<4;++D)g.push(e.getFloat32(c,!0)),c+=4}let _=null;r&&(_=new Uint8Array(this.buffer,c,3),c+=3);const m=[];for(let D=0;D<l;++D){const y=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const b=e.getUint32(c,!0);c+=4;const w=new Int32Array(this.buffer,c,b);c+=b*4;const x=e.getUint32(c,!0);c+=4;const T=new Int32Array(this.buffer,c,x);c+=x*4;const E={type:y,coords:w,colors:T};y===GD.LATTICE&&(E.verticesPerRow=e.getUint32(c,!0),c+=4),m.push(E)}if(t===1)return["RadialAxial","axial",g,f,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",g,f,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(t===3){const D=this.data[d(mt,om)];let y=null;if(u.length>0){let b=u[0],w=u[0],x=u[1],T=u[1];for(let E=0;E<u.length;E+=2){const C=u[E],F=u[E+1];b=b>C?C:b,x=x>F?F:x,w=w<C?C:w,T=T<F?F:T}y=[b,x,w,T]}return["Mesh",D,u,h,m,y,g,_]}throw new Error(`Unsupported pattern kind: ${t}`)}};im=new WeakMap,rm=new WeakMap,sm=new WeakMap,om=new WeakMap,am=new WeakMap,lm=new WeakMap,cm=new WeakMap,um=new WeakMap,I(mt,im,0),I(mt,rm,1),I(mt,sm,2),I(mt,om,3),I(mt,am,4),I(mt,lm,8),I(mt,cm,12),I(mt,um,16);let pw=mt;var bh;class T6{constructor(e){I(this,bh);A(this,bh,e)}static write(e){let t,i;return ln.isFloat16ArraySupported?(i=new ArrayBuffer(e.length*2),t=new Float16Array(i)):(i=new ArrayBuffer(e.length*4),t=new Float32Array(i)),t.set(e),i}get path(){return ln.isFloat16ArraySupported?new Float16Array(d(this,bh)):new Float32Array(d(this,bh))}}bh=new WeakMap;function E6(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(oi)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function A6(n){if(oi&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return wy(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function nv(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const gw=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,C6=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",S6=a6.bind(null,gw,C6);var ko,S1;class U6{constructor(){I(this,ko,new Map);I(this,S1,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};d(this,S1).then(()=>{for(const[r]of d(this,ko))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){Se("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}d(this,ko).set(t,r)}removeEventListener(e,t){const i=d(this,ko).get(t);i==null||i(),d(this,ko).delete(t)}terminate(){for(const[,e]of d(this,ko))e==null||e();d(this,ko).clear()}}ko=new WeakMap,S1=new WeakMap;const iv={DATA:1,ERROR:2},Yt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function zC(){}function yi(n){if(n instanceof Ll||n instanceof $D||n instanceof NC||n instanceof z0||n instanceof I2)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||pt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ll(n.message);case"InvalidPDFException":return new $D(n.message);case"PasswordException":return new NC(n.message,n.code);case"ResponseException":return new z0(n.message,n.status,n.missing);case"UnknownErrorException":return new I2(n.message,n.details)}return new I2(n.message,n.toString())}var _h,Hr,W3,V3,H3,Gv;class Dp{constructor(e,t,i){I(this,Hr);I(this,_h,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",k(this,Hr,W3).bind(this),{signal:d(this,_h).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},r),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:Yt.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{$e(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:Yt.CANCEL,streamId:s,reason:yi(c)}),u.promise}},i)}destroy(){var e;(e=d(this,_h))==null||e.abort(),A(this,_h,null)}}_h=new WeakMap,Hr=new WeakSet,W3=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){k(this,Hr,H3).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===iv.DATA)r.resolve(e.data);else if(e.callback===iv.ERROR)r.reject(yi(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:i,targetName:r,callback:iv.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:i,targetName:r,callback:iv.ERROR,callbackId:e.callbackId,reason:yi(o)})});return}if(e.streamId){k(this,Hr,V3).call(this,e);return}t(e.data)},V3=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Yt.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Yt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){$e(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Yt.ERROR,streamId:t,reason:yi(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(a,e.data,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Yt.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:Yt.START_COMPLETE,streamId:t,reason:yi(c)})})},H3=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Yt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(yi(e.reason));break;case Yt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(yi(e.reason));break;case Yt.PULL:if(!a){s.postMessage({sourceName:i,targetName:r,stream:Yt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||zC).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Yt.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:Yt.PULL_COMPLETE,streamId:t,reason:yi(c)})});break;case Yt.ENQUEUE:if($e(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Yt.CLOSE:if($e(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),k(this,Hr,Gv).call(this,o,t);break;case Yt.ERROR:$e(o,"error should have stream controller"),o.controller.error(yi(e.reason)),k(this,Hr,Gv).call(this,o,t);break;case Yt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(yi(e.reason)),k(this,Hr,Gv).call(this,o,t);break;case Yt.CANCEL:if(!a)break;const l=yi(e.reason);Promise.try(a.onCancel||zC,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Yt.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:Yt.CANCEL_COMPLETE,streamId:t,reason:yi(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Gv=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var dm;class q3{constructor({enableHWA:e=!1}){I(this,dm,!1);A(this,dm,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!d(this,dm)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){pt("Abstract method `_createCanvas` called.")}}dm=new WeakMap;class I6 extends q3{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class z3{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){pt("Abstract method `_fetch` called.")}}class GC extends z3{async _fetch(e){const t=await xy(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):wy(t)}}class G3{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var Pc,Dh,Ro,Fo,zn,Mc,Nc,ve,Wn,wp,rd,$v,sd,$3,mw,od,xp,Tp,yw,Ep;class k6 extends G3{constructor({docId:t,ownerDocument:i=globalThis.document}){super();I(this,ve);I(this,Pc);I(this,Dh);I(this,Ro);I(this,Fo);I(this,zn);I(this,Mc);I(this,Nc,0);A(this,Fo,t),A(this,zn,i)}addFilter(t){if(!t)return"none";let i=d(this,ve,Wn).get(t);if(i)return i;const[r,s,o]=k(this,ve,$v).call(this,t),a=t.length===1?r:`${r}${s}${o}`;if(i=d(this,ve,Wn).get(a),i)return d(this,ve,Wn).set(t,i),i;const l=`g_${d(this,Fo)}_transfer_map_${jt(this,Nc)._++}`,c=k(this,ve,sd).call(this,l);d(this,ve,Wn).set(t,c),d(this,ve,Wn).set(a,c);const u=k(this,ve,od).call(this,l);return k(this,ve,Tp).call(this,r,s,o,u),c}addHCMFilter(t,i){var _;const r=`${t}-${i}`,s="base";let o=d(this,ve,wp).get(s);if((o==null?void 0:o.key)===r||(o?((_=o.filter)==null||_.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},d(this,ve,wp).set(s,o)),!t||!i))return o.url;const a=k(this,ve,Ep).call(this,t);t=ye.makeHexColor(...a);const l=k(this,ve,Ep).call(this,i);if(i=ye.makeHexColor(...l),d(this,ve,rd).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const c=new Array(256);for(let m=0;m<=255;m++){const D=m/255;c[m]=D<=.03928?D/12.92:((D+.055)/1.055)**2.4}const u=c.join(","),h=`g_${d(this,Fo)}_hcm_filter`,f=o.filter=k(this,ve,od).call(this,h);k(this,ve,Tp).call(this,u,u,u,f),k(this,ve,mw).call(this,f);const g=(m,D)=>{const y=a[m]/255,b=l[m]/255,w=new Array(D+1);for(let x=0;x<=D;x++)w[x]=y+x/D*(b-y);return w.join(",")};return k(this,ve,Tp).call(this,g(0,5),g(1,5),g(2,5),f),o.url=k(this,ve,sd).call(this,h),o.url}addAlphaFilter(t){let i=d(this,ve,Wn).get(t);if(i)return i;const[r]=k(this,ve,$v).call(this,[t]),s=`alpha_${r}`;if(i=d(this,ve,Wn).get(s),i)return d(this,ve,Wn).set(t,i),i;const o=`g_${d(this,Fo)}_alpha_map_${jt(this,Nc)._++}`,a=k(this,ve,sd).call(this,o);d(this,ve,Wn).set(t,a),d(this,ve,Wn).set(s,a);const l=k(this,ve,od).call(this,o);return k(this,ve,yw).call(this,r,l),a}addLuminosityFilter(t){let i=d(this,ve,Wn).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=k(this,ve,$v).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=d(this,ve,Wn).get(s),i)return d(this,ve,Wn).set(t,i),i;const o=`g_${d(this,Fo)}_luminosity_map_${jt(this,Nc)._++}`,a=k(this,ve,sd).call(this,o);d(this,ve,Wn).set(t,a),d(this,ve,Wn).set(s,a);const l=k(this,ve,od).call(this,o);return k(this,ve,$3).call(this,l),t&&k(this,ve,yw).call(this,r,l),a}addHighlightHCMFilter(t,i,r,s,o){var b;const a=`${i}-${r}-${s}-${o}`;let l=d(this,ve,wp).get(t);if((l==null?void 0:l.key)===a||(l?((b=l.filter)==null||b.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},d(this,ve,wp).set(t,l)),!i||!r))return l.url;const[c,u]=[i,r].map(k(this,ve,Ep).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[g,_]=[s,o].map(k(this,ve,Ep).bind(this));f<h&&([h,f,g,_]=[f,h,_,g]),d(this,ve,rd).style.color="";const m=(w,x,T)=>{const E=new Array(256),C=(f-h)/T,F=w/255,P=(x-w)/(255*T);let O=0;for(let Y=0;Y<=T;Y++){const R=Math.round(h+Y*C),V=F+Y*P;for(let S=O;S<=R;S++)E[S]=V;O=R+1}for(let Y=O;Y<256;Y++)E[Y]=E[O-1];return E.join(",")},D=`g_${d(this,Fo)}_hcm_${t}_filter`,y=l.filter=k(this,ve,od).call(this,D);return k(this,ve,mw).call(this,y),k(this,ve,Tp).call(this,m(g[0],_[0],5),m(g[1],_[1],5),m(g[2],_[2],5),y),l.url=k(this,ve,sd).call(this,D),l.url}destroy(t=!1){var i,r,s,o;t&&((i=d(this,Mc))!=null&&i.size)||((r=d(this,Ro))==null||r.parentNode.parentNode.remove(),A(this,Ro,null),(s=d(this,Dh))==null||s.clear(),A(this,Dh,null),(o=d(this,Mc))==null||o.clear(),A(this,Mc,null),A(this,Nc,0))}}Pc=new WeakMap,Dh=new WeakMap,Ro=new WeakMap,Fo=new WeakMap,zn=new WeakMap,Mc=new WeakMap,Nc=new WeakMap,ve=new WeakSet,Wn=function(){return d(this,Dh)||A(this,Dh,new Map)},wp=function(){return d(this,Mc)||A(this,Mc,new Map)},rd=function(){if(!d(this,Ro)){const t=d(this,zn).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=d(this,zn).createElementNS(fo,"svg");r.setAttribute("width",0),r.setAttribute("height",0),A(this,Ro,d(this,zn).createElementNS(fo,"defs")),t.append(r),r.append(d(this,Ro)),d(this,zn).body.append(t)}return d(this,Ro)},$v=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=c[f]/255;const h=u.join(",");return[h,h,h]}const[i,r,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=i[c]/255,a[c]=r[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},sd=function(t){if(d(this,Pc)===void 0){A(this,Pc,"");const i=d(this,zn).URL;i!==d(this,zn).baseURI&&(sb(i)?Se('#createUrl: ignore "data:"-URL for performance reasons.'):A(this,Pc,jF(i,"")))}return`url(${d(this,Pc)}#${t})`},$3=function(t){const i=d(this,zn).createElementNS(fo,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},mw=function(t){const i=d(this,zn).createElementNS(fo,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},od=function(t){const i=d(this,zn).createElementNS(fo,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),d(this,ve,rd).append(i),i},xp=function(t,i,r){const s=d(this,zn).createElementNS(fo,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},Tp=function(t,i,r,s){const o=d(this,zn).createElementNS(fo,"feComponentTransfer");s.append(o),k(this,ve,xp).call(this,o,"feFuncR",t),k(this,ve,xp).call(this,o,"feFuncG",i),k(this,ve,xp).call(this,o,"feFuncB",r)},yw=function(t,i){const r=d(this,zn).createElementNS(fo,"feComponentTransfer");i.append(r),k(this,ve,xp).call(this,r,"feFuncA",t)},Ep=function(t){return d(this,ve,rd).style.color=t,Ey(getComputedStyle(d(this,ve,rd)).getPropertyValue("color"))};class X3{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){pt("Abstract method `_fetch` called.")}}class $C extends X3{async _fetch(e){const t=await xy(e,"arraybuffer");return new Uint8Array(t)}}class Y3{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){pt("Abstract method `_fetch` called.")}}class XC extends Y3{async _fetch(e){const t=await xy(e,"arraybuffer");return new Uint8Array(t)}}oi&&Se("Please use the `legacy` build in Node.js environments.");async function LT(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class R6 extends G3{}class F6 extends q3{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class P6 extends z3{async _fetch(e){return LT(e)}}class M6 extends X3{async _fetch(e){return LT(e)}}class N6 extends Y3{async _fetch(e){return LT(e)}}const Ku="__forcedDependency",{floor:YC,ceil:KC}=Math;function rv(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const vw=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var wh,Za;class L6{constructor(e,t){I(this,wh);I(this,Za);A(this,wh,e),A(this,Za,t)}get length(){return d(this,wh).length}isEmpty(e){return d(this,wh)[e]===vw}minX(e){return d(this,Za)[e*4+0]/256}minY(e){return d(this,Za)[e*4+1]/256}maxX(e){return(d(this,Za)[e*4+2]+1)/256}maxY(e){return(d(this,Za)[e*4+3]+1)/256}}wh=new WeakMap,Za=new WeakMap;const sv=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var _i,Di,Lc,ts,Bc,Po,nt,lt,Mo,wi,hm,xh,Oc,Wc,No,Gn,Vs,fm,bw;class B6{constructor(e,t,i=!1){I(this,fm);I(this,_i,{__proto__:null});I(this,Di,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Ku]:[]});I(this,Lc,new Map);I(this,ts,[]);I(this,Bc,[]);I(this,Po,[[1,0,0,1,0,0]]);I(this,nt,[-1/0,-1/0,1/0,1/0]);I(this,lt,new Float64Array([1/0,1/0,-1/0,-1/0]));I(this,Mo,-1);I(this,wi,new Set);I(this,hm,new Map);I(this,xh,new Map);I(this,Oc);I(this,Wc);I(this,No);I(this,Gn);I(this,Vs);A(this,Oc,e.width),A(this,Wc,e.height),k(this,fm,bw).call(this,t),i&&A(this,Vs,new Map)}growOperationsCount(e){e>=d(this,Gn).length&&k(this,fm,bw).call(this,e,d(this,Gn))}save(e){return A(this,_i,{__proto__:d(this,_i)}),A(this,Di,{__proto__:d(this,Di),transform:{__proto__:d(this,Di).transform},moveText:{__proto__:d(this,Di).moveText},sameLineText:{__proto__:d(this,Di).sameLineText},[Ku]:{__proto__:d(this,Di)[Ku]}}),A(this,nt,{__proto__:d(this,nt)}),d(this,ts).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(d(this,_i));if(t===null)return this;A(this,_i,t),A(this,Di,Object.getPrototypeOf(d(this,Di))),A(this,nt,Object.getPrototypeOf(d(this,nt)));const i=d(this,ts).pop();return i!==void 0&&((r=sv(d(this,Vs),e))==null||r.dependencies.add(i),d(this,Gn)[e]=d(this,Gn)[i]),this}recordOpenMarker(e){return d(this,ts).push(e),this}getOpenMarker(){return d(this,ts).length===0?null:d(this,ts).at(-1)}recordCloseMarker(e){var i;const t=d(this,ts).pop();return t!==void 0&&((i=sv(d(this,Vs),e))==null||i.dependencies.add(t),d(this,Gn)[e]=d(this,Gn)[t]),this}beginMarkedContent(e){return d(this,Bc).push(e),this}endMarkedContent(e){var i;const t=d(this,Bc).pop();return t!==void 0&&((i=sv(d(this,Vs),e))==null||i.dependencies.add(t),d(this,Gn)[e]=d(this,Gn)[t]),this}pushBaseTransform(e){return d(this,Po).push(ye.multiplyByDOMMatrix(d(this,Po).at(-1),e.getTransform())),this}popBaseTransform(){return d(this,Po).length>1&&d(this,Po).pop(),this}recordSimpleData(e,t){return d(this,_i)[e]=t,this}recordIncrementalData(e,t){return d(this,Di)[e].push(t),this}resetIncrementalData(e,t){return d(this,Di)[e].length=0,this}recordNamedData(e,t){return d(this,Lc).set(e,t),this}recordSimpleDataFromNamed(e,t,i){d(this,_i)[e]=d(this,Lc).get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Ku,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in d(this,_i)&&this.recordFutureForcedDependency(t,d(this,_i)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of d(this,wi))this.recordFutureForcedDependency(Ku,e);return this}resetBBox(e){return d(this,Mo)!==e&&(A(this,Mo,e),d(this,lt)[0]=1/0,d(this,lt)[1]=1/0,d(this,lt)[2]=-1/0,d(this,lt)[3]=-1/0),this}recordClipBox(e,t,i,r,s,o){const a=ye.multiplyByDOMMatrix(d(this,Po).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];ye.axialAlignedBoundingBox([i,s,r,o],a,l);const c=ye.intersect(d(this,nt),l);return c?(d(this,nt)[0]=c[0],d(this,nt)[1]=c[1],d(this,nt)[2]=c[2],d(this,nt)[3]=c[3]):(d(this,nt)[0]=d(this,nt)[1]=1/0,d(this,nt)[2]=d(this,nt)[3]=-1/0),this}recordBBox(e,t,i,r,s,o){const a=d(this,nt);if(a[0]===1/0)return this;const l=ye.multiplyByDOMMatrix(d(this,Po).at(-1),t.getTransform());if(a[0]===-1/0)return ye.axialAlignedBoundingBox([i,s,r,o],l,d(this,lt)),this;const c=[1/0,1/0,-1/0,-1/0];return ye.axialAlignedBoundingBox([i,s,r,o],l,c),d(this,lt)[0]=Math.min(d(this,lt)[0],Math.max(c[0],a[0])),d(this,lt)[1]=Math.min(d(this,lt)[1],Math.max(c[1],a[1])),d(this,lt)[2]=Math.max(d(this,lt)[2],Math.min(c[2],a[2])),d(this,lt)[3]=Math.max(d(this,lt)[3],Math.min(c[3],a[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,o=0,a){const l=i.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&d(this,xh).get(i),c!==!1&&(u=[0,0,0,0],ye.axialAlignedBoundingBox(l,i.fontMatrix,u),(r!==1||s!==0||o!==0)&&ye.scaleMinMax([r,0,0,-r,s,o],u),c)))return this.recordBBox(e,t,u[0],u[2],u[1],u[3]);if(!a)return this.recordFullPageBBox(e);const h=a();return l&&u&&c===void 0&&(c=u[0]<=s-h.actualBoundingBoxLeft&&u[2]>=s+h.actualBoundingBoxRight&&u[1]<=o-h.actualBoundingBoxAscent&&u[3]>=o+h.actualBoundingBoxDescent,d(this,xh).set(i,c),c)?this.recordBBox(e,t,u[0],u[2],u[1],u[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,o-h.actualBoundingBoxAscent,o+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return d(this,lt)[0]=Math.max(0,d(this,nt)[0]),d(this,lt)[1]=Math.max(0,d(this,nt)[1]),d(this,lt)[2]=Math.min(d(this,Oc),d(this,nt)[2]),d(this,lt)[3]=Math.min(d(this,Wc),d(this,nt)[3]),this}getSimpleIndex(e){return d(this,_i)[e]}recordDependencies(e,t){const i=d(this,wi),r=d(this,_i),s=d(this,Di);for(const o of t)o in d(this,_i)?i.add(r[o]):o in s&&s[o].forEach(i.add,i);return this}recordNamedDependency(e,t){return d(this,Lc).has(t)&&d(this,wi).add(d(this,Lc).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Ku]),d(this,Vs)){const i=sv(d(this,Vs),e),{dependencies:r}=i;d(this,wi).forEach(r.add,r),d(this,ts).forEach(r.add,r),d(this,Bc).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(d(this,Mo)===e){const i=YC(d(this,lt)[0]*256/d(this,Oc)),r=YC(d(this,lt)[1]*256/d(this,Wc)),s=KC(d(this,lt)[2]*256/d(this,Oc)),o=KC(d(this,lt)[3]*256/d(this,Wc));rv(d(this,No),e,i,r,s,o);for(const a of d(this,wi))a!==e&&rv(d(this,No),a,i,r,s,o);for(const a of d(this,ts))a!==e&&rv(d(this,No),a,i,r,s,o);for(const a of d(this,Bc))a!==e&&rv(d(this,No),a,i,r,s,o);t||(d(this,wi).clear(),A(this,Mo,-1))}return this}recordShowTextOperation(e,t=!1){const i=Array.from(d(this,wi));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return d(this,Mo)===e&&(A(this,Mo,-1),d(this,nt)[0]=Math.max(d(this,nt)[0],d(this,lt)[0]),d(this,nt)[1]=Math.max(d(this,nt)[1],d(this,lt)[1]),d(this,nt)[2]=Math.min(d(this,nt)[2],d(this,lt)[2]),d(this,nt)[3]=Math.min(d(this,nt)[3],d(this,lt)[3]),t||d(this,wi).clear()),this}_takePendingDependencies(){const e=d(this,wi);return A(this,wi,new Set),e}_extractOperation(e){const t=d(this,hm).get(e);return d(this,hm).delete(e),t}_pushPendingDependencies(e){for(const t of e)d(this,wi).add(t)}take(){return d(this,xh).clear(),new L6(d(this,Gn),d(this,No))}takeDebugMetadata(){return d(this,Vs)}}_i=new WeakMap,Di=new WeakMap,Lc=new WeakMap,ts=new WeakMap,Bc=new WeakMap,Po=new WeakMap,nt=new WeakMap,lt=new WeakMap,Mo=new WeakMap,wi=new WeakMap,hm=new WeakMap,xh=new WeakMap,Oc=new WeakMap,Wc=new WeakMap,No=new WeakMap,Gn=new WeakMap,Vs=new WeakMap,fm=new WeakSet,bw=function(e,t){const i=new ArrayBuffer(e*4);A(this,No,new Uint8ClampedArray(i)),A(this,Gn,new Uint32Array(i)),t&&t.length>0?(d(this,Gn).set(t),d(this,Gn).fill(vw,t.length)):d(this,Gn).fill(vw)};var ht,Nt,ns,Th,Eh;const _A=class _A{constructor(e,t,i){I(this,ht);I(this,Nt);I(this,ns);I(this,Th,0);I(this,Eh,0);if(e instanceof _A&&d(e,ns)===!!i)return e;A(this,ht,e),A(this,Nt,t),A(this,ns,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return jt(this,Eh)._++,d(this,ht).save(d(this,Nt)),this}restore(e){return d(this,Eh)>0&&(d(this,ht).restore(d(this,Nt)),jt(this,Eh)._--),this}recordOpenMarker(e){return jt(this,Th)._++,this}getOpenMarker(){return d(this,Th)>0?d(this,Nt):d(this,ht).getOpenMarker()}recordCloseMarker(e){return jt(this,Th)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return d(this,ht).pushBaseTransform(e),this}popBaseTransform(){return d(this,ht).popBaseTransform(),this}recordSimpleData(e,t){return d(this,ht).recordSimpleData(e,d(this,Nt)),this}recordIncrementalData(e,t){return d(this,ht).recordIncrementalData(e,d(this,Nt)),this}resetIncrementalData(e,t){return d(this,ht).resetIncrementalData(e,d(this,Nt)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return d(this,ht).recordSimpleDataFromNamed(e,t,d(this,Nt)),this}recordFutureForcedDependency(e,t){return d(this,ht).recordFutureForcedDependency(e,d(this,Nt)),this}inheritSimpleDataAsFutureForcedDependencies(e){return d(this,ht).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return d(this,ht).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return d(this,ns)||d(this,ht).resetBBox(d(this,Nt)),this}recordClipBox(e,t,i,r,s,o){return d(this,ns)||d(this,ht).recordClipBox(d(this,Nt),t,i,r,s,o),this}recordBBox(e,t,i,r,s,o){return d(this,ns)||d(this,ht).recordBBox(d(this,Nt),t,i,r,s,o),this}recordCharacterBBox(e,t,i,r,s,o,a){return d(this,ns)||d(this,ht).recordCharacterBBox(d(this,Nt),t,i,r,s,o,a),this}recordFullPageBBox(e){return d(this,ns)||d(this,ht).recordFullPageBBox(d(this,Nt)),this}getSimpleIndex(e){return d(this,ht).getSimpleIndex(e)}recordDependencies(e,t){return d(this,ht).recordDependencies(d(this,Nt),t),this}recordNamedDependency(e,t){return d(this,ht).recordNamedDependency(d(this,Nt),t),this}recordOperation(e){return d(this,ht).recordOperation(d(this,Nt),!0),this}recordShowTextOperation(e){return d(this,ht).recordShowTextOperation(d(this,Nt),!0),this}bboxToClipBoxDropOperation(e){return d(this,ns)||d(this,ht).bboxToClipBoxDropOperation(d(this,Nt),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};ht=new WeakMap,Nt=new WeakMap,ns=new WeakMap,Th=new WeakMap,Eh=new WeakMap;let J0=_A;const vr={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Un={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function _w(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class BT{isModifyingCurrentTransform(){return!1}getPattern(){pt("Abstract method `getPattern` called.")}}class O6 extends BT{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,t=null){let i,r=this._p0,s=this._p1;if(t&&(r=r.slice(),s=s.slice(),ye.applyTransform(r,t),ye.applyTransform(s,t)),this._type==="axial")i=e.createLinearGradient(r[0],r[1],s[0],s[1]);else if(this._type==="radial"){let o=this._r0,a=this._r1;if(t){const l=new Float32Array(2);ye.singularValueDecompose2dScale(t,l),o*=l[0],a*=l[0]}i=e.createRadialGradient(r[0],r[1],o,s[0],s[1],a)}for(const o of this._colorStops)i.addColorStop(o[0],o[1]);return i}getPattern(e,t,i,r){let s;if(r===Un.STROKE||r===Un.FILL){if(this.isOriginBased()){let f=ye.transform(i,t.baseTransform);this.matrix&&(f=ye.transform(f,this.matrix));const g=.001,_=Math.hypot(f[0],f[1]),m=Math.hypot(f[2],f[3]),D=(f[0]*f[2]+f[1]*f[3])/(_*m);if(Math.abs(D)<g)if(this.isRadial()){if(Math.abs(_-m)<g)return this._createGradient(e,f)}else return this._createGradient(e,f)}const o=t.current.getClippedPathBoundingBox(r,It(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),i=ye.transform(i,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),_w(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(i);s.setTransform(h)}else _w(e,this._bbox),s=this._createGradient(e);return s}}function F2(n,e,t,i,r,s,o,a){const l=e.coords,c=e.colors,u=n.data,h=n.width*4;let f;l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f),l[i+1]>l[r+1]&&(f=i,i=r,r=f,f=o,o=a,a=f),l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f);const g=(l[t]+e.offsetX)*e.scaleX,_=(l[t+1]+e.offsetY)*e.scaleY,m=(l[i]+e.offsetX)*e.scaleX,D=(l[i+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY;if(_>=b)return;const w=c[s],x=c[s+1],T=c[s+2],E=c[o],C=c[o+1],F=c[o+2],P=c[a],O=c[a+1],Y=c[a+2],R=Math.round(_),V=Math.round(b);let S,K,N,B,M,L,X,H;for(let z=R;z<=V;z++){if(z<D){const de=z<_?0:(_-z)/(_-D);S=g-(g-m)*de,K=w-(w-E)*de,N=x-(x-C)*de,B=T-(T-F)*de}else{let de;z>b?de=1:D===b?de=0:de=(D-z)/(D-b),S=m-(m-y)*de,K=E-(E-P)*de,N=C-(C-O)*de,B=F-(F-Y)*de}let G;z<_?G=0:z>b?G=1:G=(_-z)/(_-b),M=g-(g-y)*G,L=w-(w-P)*G,X=x-(x-O)*G,H=T-(T-Y)*G;const ie=Math.round(Math.min(S,M)),re=Math.round(Math.max(S,M));let ce=h*z+ie*4;for(let de=ie;de<=re;de++)G=(S-de)/(S-M),G<0?G=0:G>1&&(G=1),u[ce++]=K-(K-L)*G|0,u[ce++]=N-(N-X)*G|0,u[ce++]=B-(B-H)*G|0,u[ce++]=255}}function W6(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case GD.LATTICE:const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let h=0;h<c;h++,u++)F2(n,t,i[u],i[u+1],i[u+a],r[u],r[u+1],r[u+a]),F2(n,t,i[u+a+1],i[u+1],i[u+a],r[u+a+1],r[u+1],r[u+a])}break;case GD.TRIANGLES:for(s=0,o=i.length;s<o;s+=3)F2(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class V6 extends BT{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),g=c/h,_=u/f,m={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/g,scaleY:1/_},D=h+2*2,y=f+2*2,b=i.getCanvas("mesh",D,y),w=b.context,x=w.createImageData(h,f);if(t){const E=x.data;for(let C=0,F=E.length;C<F;C+=4)E[C]=t[0],E[C+1]=t[1],E[C+2]=t[2],E[C+3]=255}for(const E of this._figures)W6(x,E,m);return w.putImageData(x,2,2),{canvas:b.canvas,offsetX:a-2*g,offsetY:l-2*_,scaleX:g,scaleY:_}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){_w(e,this._bbox);const s=new Float32Array(2);if(r===Un.SHADING)ye.singularValueDecompose2dScale(It(e),s);else if(this.matrix){ye.singularValueDecompose2dScale(this.matrix,s);const[a,l]=s;ye.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=a,s[1]*=l}else ye.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,r===Un.SHADING?null:this._background,t.cachedCanvases);return r!==Un.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class H6 extends BT{getPattern(){return"hotpink"}}function q6(n){switch(n[0]){case"RadialAxial":return new O6(n);case"Mesh":return new V6(n);case"Dummy":return new H6}throw new Error(`Unknown IR type: ${n[0]}`)}const JC={COLORED:1,UNCOLORED:2},U1=class U1{constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){var L,X;const{bbox:i,operatorList:r,paintType:s,tilingType:o,color:a,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),rb("TilingType: "+o);const h=i[0],f=i[1],g=i[2],_=i[3],m=g-h,D=_-f,y=new Float32Array(2);ye.singularValueDecompose2dScale(this.matrix,y);const[b,w]=y;ye.singularValueDecompose2dScale(this.baseTransform,y);const x=b*y[0],T=w*y[1];let E=m,C=D,F=!1,P=!1;const O=Math.ceil(c*x),Y=Math.ceil(u*T),R=Math.ceil(m*x),V=Math.ceil(D*T);O>=R?E=c:F=!0,Y>=V?C=u:P=!0;const S=this.getSizeAndScale(E,this.ctx.canvas.width,x),K=this.getSizeAndScale(C,this.ctx.canvas.height,T),N=e.cachedCanvases.getCanvas("pattern",S.size,K.size),B=N.context,M=l.createCanvasGraphics(B,t);if(M.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(M,s,a),B.translate(-S.scale*h,-K.scale*f),M.transform(0,S.scale,0,0,K.scale,0,0),B.save(),(L=M.dependencyTracker)==null||L.save(),this.clipBbox(M,h,f,g,_),M.baseTransform=It(M.ctx),M.executeOperatorList(r),M.endDrawing(),(X=M.dependencyTracker)==null||X.restore(),B.restore(),F||P){const H=N.canvas;F&&(E=c),P&&(C=u);const z=this.getSizeAndScale(E,this.ctx.canvas.width,x),G=this.getSizeAndScale(C,this.ctx.canvas.height,T),ie=z.size,re=G.size,ce=e.cachedCanvases.getCanvas("pattern-workaround",ie,re),de=ce.context,_e=F?Math.floor(m/c):0,Te=P?Math.floor(D/u):0;for(let Me=0;Me<=_e;Me++)for(let Le=0;Le<=Te;Le++)de.drawImage(H,ie*Me,re*Le,ie,re,0,0,ie,re);return{canvas:ce.canvas,scaleX:z.scale,scaleY:G.scale,offsetX:h,offsetY:f}}return{canvas:N.canvas,scaleX:S.scale,scaleY:K.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,t,i){const r=Math.max(U1.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const o=r-t,a=s-i;e.ctx.rect(t,i,o,a),ye.axialAlignedBoundingBox([t,i,r,s],It(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case JC.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;r.fillStyle=s.fillColor=o,r.strokeStyle=s.strokeColor=a;break;case JC.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new t6(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let o=i;r!==Un.SHADING&&(o=ye.transform(o,t.baseTransform),this.matrix&&(o=ye.transform(o,this.matrix)));const a=this.createPatternCanvas(t,s);let l=new DOMMatrix(o);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(l),c}};he(U1,"MAX_PATTERN_SIZE",3e3);let Dw=U1;function z6({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=ln.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=i>>3,h=i&7,f=n.length;t=new Uint32Array(t.buffer);let g=0;for(let _=0;_<r;_++){for(const D=e+u;e<D;e++){const y=e<f?n[e]:255;t[g++]=y&128?c:l,t[g++]=y&64?c:l,t[g++]=y&32?c:l,t[g++]=y&16?c:l,t[g++]=y&8?c:l,t[g++]=y&4?c:l,t[g++]=y&2?c:l,t[g++]=y&1?c:l}if(h===0)continue;const m=e<f?n[e++]:255;for(let D=0;D<h;D++)t[g++]=m&1<<7-D?c:l}return{srcPos:e,destPos:g}}const QC=16,ZC=100,G6=15,jC=10,Ei=16,P2=new DOMMatrix,ar=new Float32Array(2),Td=new Float32Array([1/0,1/0,-1/0,-1/0]);function $6(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,o,a){e.transform(t,i,r,s,o,a),this.__originalTransform(t,i,r,s,o,a)},n.setTransform=function(t,i,r,s,o,a){e.setTransform(t,i,r,s,o,a),this.__originalSetTransform(t,i,r,s,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,a){e.bezierCurveTo(t,i,r,s,o,a),this.__originalBezierCurveTo(t,i,r,s,o,a)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class X6{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function ov(n,e,t,i,r,s,o,a,l,c){const[u,h,f,g,_,m]=It(n);if(h===0&&f===0){const b=o*u+_,w=Math.round(b),x=a*g+m,T=Math.round(x),E=(o+l)*u+_,C=Math.abs(Math.round(E)-w)||1,F=(a+c)*g+m,P=Math.abs(Math.round(F)-T)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(g),w,T),n.drawImage(e,t,i,r,s,0,0,C,P),n.setTransform(u,h,f,g,_,m),[C,P]}if(u===0&&g===0){const b=a*f+_,w=Math.round(b),x=o*h+m,T=Math.round(x),E=(a+c)*f+_,C=Math.abs(Math.round(E)-w)||1,F=(o+l)*h+m,P=Math.abs(Math.round(F)-T)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,w,T),n.drawImage(e,t,i,r,s,0,0,P,C),n.setTransform(u,h,f,g,_,m),[P,C]}n.drawImage(e,t,i,r,s,o,a,l,c);const D=Math.hypot(u,h),y=Math.hypot(f,g);return[D*l,y*c]}class eS{constructor(e,t,i){he(this,"alphaIsShape",!1);he(this,"fontSize",0);he(this,"fontSizeScale",1);he(this,"textMatrix",null);he(this,"textMatrixScale",1);he(this,"fontMatrix",zD);he(this,"leading",0);he(this,"x",0);he(this,"y",0);he(this,"lineX",0);he(this,"lineY",0);he(this,"charSpacing",0);he(this,"wordSpacing",0);he(this,"textHScale",1);he(this,"textRenderingMode",en.FILL);he(this,"textRise",0);he(this,"fillColor","#000000");he(this,"strokeColor","#000000");he(this,"patternFill",!1);he(this,"patternStroke",!1);he(this,"fillAlpha",1);he(this,"strokeAlpha",1);he(this,"lineWidth",1);he(this,"activeSMask",null);he(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Td.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Un.FILL,t=null){const i=this.minMax.slice();if(e===Un.STROKE){t||pt("Stroke bounding box must include transform."),ye.singularValueDecompose2dScale(t,ar);const r=ar[0]*this.lineWidth/2,s=ar[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=ye.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Td,0)}getClippedPathBoundingBox(e=Un.FILL,t=null){return ye.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function tS(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%Ei,s=(t-r)/Ei,o=r===0?s:s+1,a=n.createImageData(i,Ei);let l=0,c;const u=e.data,h=a.data;let f,g,_,m;if(e.kind===Nv.GRAYSCALE_1BPP){const D=u.byteLength,y=new Uint32Array(h.buffer,0,h.byteLength>>2),b=y.length,w=i+7>>3,x=4294967295,T=ln.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(_=f<s?Ei:r,c=0,g=0;g<_;g++){const E=D-l;let C=0;const F=E>w?i:E*8-7,P=F&-8;let O=0,Y=0;for(;C<P;C+=8)Y=u[l++],y[c++]=Y&128?x:T,y[c++]=Y&64?x:T,y[c++]=Y&32?x:T,y[c++]=Y&16?x:T,y[c++]=Y&8?x:T,y[c++]=Y&4?x:T,y[c++]=Y&2?x:T,y[c++]=Y&1?x:T;for(;C<F;C++)O===0&&(Y=u[l++],O=128),y[c++]=Y&O?x:T,O>>=1}for(;c<b;)y[c++]=0;n.putImageData(a,0,f*Ei)}}else if(e.kind===Nv.RGBA_32BPP){for(g=0,m=i*Ei*4,f=0;f<s;f++)h.set(u.subarray(l,l+m)),l+=m,n.putImageData(a,0,g),g+=Ei;f<o&&(m=i*r*4,h.set(u.subarray(l,l+m)),n.putImageData(a,0,g))}else if(e.kind===Nv.RGB_24BPP)for(_=Ei,m=i*_,f=0;f<o;f++){for(f>=s&&(_=r,m=i*_),c=0,g=m;g--;)h[c++]=u[l++],h[c++]=u[l++],h[c++]=u[l++],h[c++]=255;n.putImageData(a,0,f*Ei)}else throw new Error(`bad image kind: ${e.kind}`)}function nS(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%Ei,s=(t-r)/Ei,o=r===0?s:s+1,a=n.createImageData(i,Ei);let l=0;const c=e.data,u=a.data;for(let h=0;h<o;h++){const f=h<s?Ei:r;({srcPos:l}=z6({src:c,srcPos:l,dest:u,width:i,height:f,nonBlackColor:0})),n.putImageData(a,0,h*Ei)}}function jf(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function av(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function iS(n,e){if(e)return!0;ye.singularValueDecompose2dScale(n,ar);const t=Math.fround(so.pixelRatio*Bl.PDF_TO_CSS_UNITS);return ar[0]<=t&&ar[1]<=t}const Y6=["butt","round","square"],K6=["miter","round","bevel"],J6={},rS={};var _s,ww,xw,Tw;const DA=class DA{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,c,u){I(this,_s);this.ctx=e,this.current=new eS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new X6(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,t,i=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...It(this.compositeCtx))}this.ctx.save(),av(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=It(this.ctx)}executeOperatorList(e,t,i,r,s){var y;const o=e.argsArray,a=e.fnArray;let l=t||0;const c=o.length;if(c===l)return l;const u=c-l>jC&&typeof i=="function",h=u?Date.now()+G6:0;let f=0;const g=this.commonObjs,_=this.objs;let m,D;for(;;){if(r!==void 0&&l===r.nextBreakPoint)return r.breakIt(l,i),l;if(!s||s(l))if(m=a[l],D=o[l]??null,m!==cg.dependency)D===null?this[m](l):this[m](l,...D);else for(const b of D){(y=this.dependencyTracker)==null||y.recordNamedData(b,l);const w=b.startsWith("g_")?g:_;if(!w.has(b))return w.get(b,i),l}if(l++,l===c)return l;if(u&&++f>jC){if(Date.now()>h)return i(),l;f=0}}}endDrawing(){k(this,_s,ww).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),k(this,_s,xw).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,l=r,c="prescale1",u,h;for(;s>2&&a>1||o>2&&l>1;){let f=a,g=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/g),u=this.cachedCanvases.getCanvas(c,f,g),h=u.context,h.clearRect(0,0,f,g),h.drawImage(e,0,0,a,l,0,0,f,g),e=u.canvas,a=f,l=g,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e,t){var O,Y;const i=this.ctx,{width:r,height:s}=t,o=this.current.fillColor,a=this.current.patternFill,l=It(i);let c,u,h,f;if((t.bitmap||t.data)&&t.count>1){const R=t.bitmap||t.data.buffer;u=JSON.stringify(a?l:[l.slice(0,4),o]),c=this._cachedBitmapsMap.get(R),c||(c=new Map,this._cachedBitmapsMap.set(R,c));const V=c.get(u);if(V&&!a){const S=Math.round(Math.min(l[0],l[2])+l[4]),K=Math.round(Math.min(l[1],l[3])+l[5]);return(O=this.dependencyTracker)==null||O.recordDependencies(e,vr.transformAndFill),{canvas:V,offsetX:S,offsetY:K}}h=V}h||(f=this.cachedCanvases.getCanvas("maskCanvas",r,s),nS(f.context,t));let g=ye.transform(l,[1/r,0,0,-1/s,0,0]);g=ye.transform(g,[1,0,0,1,0,-s]);const _=Td.slice();ye.axialAlignedBoundingBox([0,0,r,s],g,_);const[m,D,y,b]=_,w=Math.round(y-m)||1,x=Math.round(b-D)||1,T=this.cachedCanvases.getCanvas("fillCanvas",w,x),E=T.context,C=m,F=D;E.translate(-C,-F),E.transform(...g),h||(h=this._scaleImage(f.canvas,As(E)),h=h.img,c&&a&&c.set(u,h)),E.imageSmoothingEnabled=iS(It(E),t.interpolate),ov(E,h,0,0,h.width,h.height,0,0,r,s),E.globalCompositeOperation="source-in";const P=ye.transform(As(E),[1,0,0,1,-C,-F]);return E.fillStyle=a?o.getPattern(i,this,P,Un.FILL,e):o,E.fillRect(0,0,r,s),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,T.canvas)),(Y=this.dependencyTracker)==null||Y.recordDependencies(e,vr.transformAndFill),{canvas:T.canvas,offsetX:Math.round(C),offsetY:Math.round(F)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=Y6[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=K6[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,r,s,o,a;for(const[l,c]of t)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(a=this.dependencyTracker)==null||a.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),jf(this.suspendedCtx,o),$6(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),jf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,i,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,a,l,c,u,h){let f=e.canvas,g=l-u,_=c-h;if(o)if(g<0||_<0||g+i>f.width||_+r>f.height){const D=this.cachedCanvases.getCanvas("maskExtension",i,r),y=D.context;y.drawImage(f,-g,-_),y.globalCompositeOperation="destination-atop",y.fillStyle=o,y.fillRect(0,0,i,r),y.globalCompositeOperation="source-over",f=D.canvas,g=_=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const D=new Path2D;D.rect(g,_,i,r),e.clip(D),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(g,_,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(l,c,i,r),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(f,g,_,i,r,l,c,i,r),t.restore()}save(e){var i;this.inSMaskMode&&jf(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&jf(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,o,a){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,o,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const o=t===cg.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-o,r[2]+o,r[1]-o,r[3]+o).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=s3(s)),ye.axialAlignedBoundingBox(r,It(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var o;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const a=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,As(r),Un.STROKE,e),a){const l=new Path2D;l.addPath(t,r.getTransform().invertSelf().multiplySelf(a)),t=l}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,vr.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Un.STROKE,It(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var c,u,h;const r=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let a=!1;if(o){const f=s.isModifyingCurrentTransform()?r.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),r.save(),r.fillStyle=s.getPattern(r,this,As(r),Un.FILL,e),f){const g=new Path2D;g.addPath(t,r.getTransform().invertSelf().multiplySelf(f)),t=g}a=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(u=this.dependencyTracker)==null||u.recordDependencies(e,vr.fill),a&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(e)),i&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,vr.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=J6}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=rS}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:o,x:a,y:l,fontSize:c,path:u}of t)u&&r.addPath(u,new DOMMatrix(o).preMultiplySelf(s).translate(a,l).scale(c,-c));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||zD,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Se("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const o=r.loadedName||"sans-serif",a=((f=r.systemFontInfo)==null?void 0:f.css)||`"${o}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const c=r.italic?"italic":"normal";let u=i;i<QC?u=QC:i>ZC&&(u=ZC),this.current.fontSizeScale=i/u,this.ctx.font=`${c} ${l} ${u}px ${a}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,r,s,o){var y,b,w,x;const a=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,f=u&en.FILL_STROKE_MASK,g=!!(u&en.ADD_TO_PATH_FLAG),_=l.patternFill&&!c.missingFile,m=l.patternStroke&&!c.missingFile;let D;if((c.disableFontFace||g||_||m)&&!c.missingFile&&(D=c.getPathGenerator(this.commonObjs,t)),D&&(c.disableFontFace||_||m)){a.save(),a.translate(i,r),a.scale(h,-h),(y=this.dependencyTracker)==null||y.recordCharacterBBox(e,a,c);let T;if(f===en.FILL||f===en.FILL_STROKE)if(s){T=a.getTransform(),a.setTransform(...s);const E=k(this,_s,Tw).call(this,D,T,s);a.fill(E)}else a.fill(D);if(f===en.STROKE||f===en.FILL_STROKE)if(o){T||(T=a.getTransform()),a.setTransform(...o);const{a:E,b:C,c:F,d:P}=T,O=ye.inverseTransform(o),Y=ye.transform([E,C,F,P,0,0],O);ye.singularValueDecompose2dScale(Y,ar),a.lineWidth*=Math.max(ar[0],ar[1])/h,a.stroke(k(this,_s,Tw).call(this,D,T,o))}else a.lineWidth/=h,a.stroke(D);a.restore()}else(f===en.FILL||f===en.FILL_STROKE)&&(a.fillText(t,i,r),(b=this.dependencyTracker)==null||b.recordCharacterBBox(e,a,c,h,i,r,()=>a.measureText(t))),(f===en.STROKE||f===en.FILL_STROKE)&&(this.dependencyTracker&&((w=this.dependencyTracker)==null||w.recordCharacterBBox(e,a,c,h,i,r,()=>a.measureText(t)).recordDependencies(e,vr.stroke)),a.strokeText(t,i,r));g&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:It(a),x:i,y:r,fontSize:h,path:D}),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,a,c,h,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return Ue(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var Y,R,V,S;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,vr.showText).resetBBox(e),this.current.textRenderingMode&en.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),(Y=this.dependencyTracker)==null||Y.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){(R=this.dependencyTracker)==null||R.recordOperation(e);return}const o=this.ctx,a=i.fontSizeScale,l=i.charSpacing,c=i.wordSpacing,u=i.fontDirection,h=i.textHScale*u,f=t.length,g=r.vertical,_=g?1:-1,m=r.defaultVMetrics,D=s*i.fontMatrix[0],y=i.textRenderingMode===en.FILL&&!r.disableFontFace&&!i.patternFill;o.save(),i.textMatrix&&o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),u>0?o.scale(h,-1):o.scale(h,1);let b,w;const x=i.textRenderingMode&en.FILL_STROKE_MASK,T=x===en.FILL||x===en.FILL_STROKE,E=x===en.STROKE||x===en.FILL_STROKE;if(T&&i.patternFill){o.save();const K=i.fillColor.getPattern(o,this,As(o),Un.FILL,e);b=It(o),o.restore(),o.fillStyle=K}if(E&&i.patternStroke){o.save();const K=i.strokeColor.getPattern(o,this,As(o),Un.STROKE,e);w=It(o),o.restore(),o.strokeStyle=K}let C=i.lineWidth;const F=i.textMatrixScale;if(F===0||C===0?E&&(C=this.getSinglePixelWidth()):C/=F,a!==1&&(o.scale(a,a),C/=a),o.lineWidth=C,r.isInvalidPDFjsFont){const K=[];let N=0;for(const M of t)K.push(M.unicode),N+=M.width;const B=K.join("");if(o.fillText(B,0,0),this.dependencyTracker!==null){const M=o.measureText(B);this.dependencyTracker.recordBBox(e,this.ctx,-M.actualBoundingBoxLeft,M.actualBoundingBoxRight,-M.actualBoundingBoxAscent,M.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=N*D*h,o.restore(),this.compose();return}let P=0,O;for(O=0;O<f;++O){const K=t[O];if(typeof K=="number"){P+=_*K*s/1e3;continue}let N=!1;const B=(K.isSpace?c:0)+l,M=K.fontChar,L=K.accent;let X,H,z=K.width;if(g){const re=K.vmetric||m,ce=-(K.vmetric?re[1]:z*.5)*D,de=re[2]*D;z=re?-re[0]:z,X=ce/a,H=(P+de)/a}else X=P/a,H=0;let G;if(r.remeasure&&z>0){G=o.measureText(M);const re=G.width*1e3/s*a;if(z<re&&this.isFontSubpixelAAEnabled){const ce=z/re;N=!0,o.save(),o.scale(ce,1),X/=ce}else z!==re&&(X+=(z-re)/2e3*s/a)}if(this.contentVisible&&(K.isInFont||r.missingFile)){if(y&&!L)o.fillText(M,X,H),(V=this.dependencyTracker)==null||V.recordCharacterBBox(e,o,G?{bbox:null}:r,s/a,X,H,()=>G??o.measureText(M));else if(this.paintChar(e,M,X,H,b,w),L){const re=X+s*L.offset.x/a,ce=H-s*L.offset.y/a;this.paintChar(e,L.fontChar,re,ce,b,w)}}const ie=g?z*D-B*u:z*D+B*u;P+=ie,N&&o.restore()}g?i.y-=P:i.x+=P*h,o.restore(),this.compose(),(S=this.dependencyTracker)==null||S.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,o=r.fontSize,a=r.fontDirection,l=s.vertical?1:-1,c=r.charSpacing,u=r.wordSpacing,h=r.textHScale*a,f=r.fontMatrix||zD,g=t.length,_=r.textRenderingMode===en.INVISIBLE;let m,D,y,b;if(_||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(h,a);const w=this.dependencyTracker;for(this.dependencyTracker=w?new J0(w,e):null,m=0;m<g;++m){if(D=t[m],typeof D=="number"){b=l*D*o/1e3,this.ctx.translate(b,0),r.x+=b*h;continue}const x=(D.isSpace?u:0)+c,T=s.charProcOperatorList[D.operatorListId];T?this.contentVisible&&(this.save(),i.scale(o,o),i.transform(...f),this.executeOperatorList(T),this.restore()):Se(`Type3 character "${D.operatorListId}" is not available.`);const E=[D.width,0];ye.applyTransform(E,f),y=E[0]*o+x,i.translate(y,0),r.x+=y*h}i.restore(),w&&(this.dependencyTracker=w)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,o,a){var c;const l=new Path2D;l.rect(r,s,o-r,a-s),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,r,o,s,a).recordClipBox(e,this.ctx,r,o,s,a),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||It(this.ctx),s={createCanvasGraphics:(o,a)=>new DA(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new J0(this.dependencyTracker,a,!0):null)};i=new Dw(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=q6(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){var o;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,As(i),Un.SHADING,e);const s=As(i);if(s){const{width:a,height:l}=i.canvas,c=Td.slice();ye.axialAlignedBoundingBox([0,0,a,l],s,c);const[u,h,f,g]=c;this.ctx.fillRect(u,h,f-u,g-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,vr.transform).recordDependencies(e,vr.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){pt("Should not call beginInlineImage")}beginImageData(){pt("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=It(this.ctx),i)){ye.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,o,a,l]=i,c=new Path2D;c.rect(s,o,a-s,l-o),this.ctx.clip(c),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,s,a,o,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var w;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||rb("TODO: Support non-isolated groups."),t.knockout&&Se("Knockout groups not supported.");const r=It(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Td.slice();ye.axialAlignedBoundingBox(t.bbox,It(i),s);const o=[0,0,i.canvas.width,i.canvas.height];s=ye.intersect(s,o)||[0,0,0,0];const a=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-a,1),u=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,c,u),g=f.context;g.translate(-a,-l),g.transform(...r);let _=new Path2D;const[m,D,y,b]=t.bbox;if(_.rect(m,D,y-m,b-D),t.matrix){const x=new Path2D;x.addPath(_,new DOMMatrix(t.matrix)),_=x}g.clip(_),t.smask&&this.smaskStack.push({canvas:f.canvas,context:g,offsetX:a,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(a,l),i.save()),jf(i,g),this.ctx=g,(w=this.dependencyTracker)==null||w.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=It(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const a=Td.slice();ye.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,a),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,i,r,s,o){if(k(this,_s,ww).call(this),av(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const a=i[2]-i[0],l=i[3]-i[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=a,i[3]=l,ye.singularValueDecompose2dScale(It(this.ctx),ar);const{viewportScale:c}=this,u=Math.ceil(a*this.outputScaleX*c),h=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,h);const{canvas:f,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(ar[0],0,0,-ar[1],0,l*ar[1]),av(this.ctx)}else{av(this.ctx),this.endPath(e);const c=new Path2D;c.rect(i[0],i[1],a,l),this.ctx.clip(c)}}this.current=new eS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),k(this,_s,xw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var a;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),(a=this.dependencyTracker)==null||a.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+o.width,s.offsetY,s.offsetY+o.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,o,a){var h,f,g;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const c=It(l);l.transform(i,r,s,o,0,0);const u=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let _=0,m=a.length;_<m;_+=2){const D=ye.transform(c,[i,r,s,o,a[_],a[_+1]]);l.drawImage(u.canvas,D[4],D[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,D[4],D[4]+u.canvas.width,D[5],D[5]+u.canvas.height)}l.restore(),this.compose(),(g=this.dependencyTracker)==null||g.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,a,l;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,vr.transformAndFill);for(const c of t){const{data:u,width:h,height:f,transform:g}=c,_=this.cachedCanvases.getCanvas("maskCanvas",h,f),m=_.context;m.save();const D=this.getObject(e,u,c);nS(m,D),m.globalCompositeOperation="source-in",m.fillStyle=s?r.getPattern(m,this,As(i),Un.FILL,e):r,m.fillRect(0,0,h,f),m.restore(),i.save(),i.transform(...g),i.scale(1,-1),ov(i,_.canvas,0,0,h,f,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,i,0,h,0,f),i.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){Se("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){Se("Dependent image isn't ready yet");return}const a=o.width,l=o.height,c=[];for(let u=0,h=s.length;u<h;u+=2)c.push({transform:[i,0,0,r,s[u],s[u+1]],x:0,y:0,w:a,h:l});this.paintInlineImageXObjectGroup(e,o,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e,t){var c;if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/i,-1/r);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;tS(h,t),a=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(a,As(s));s.imageSmoothingEnabled=iS(It(s),t.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,vr.imageXObject).recordOperation(e),ov(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var o,a,l;if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const c=t.width,u=t.height,f=this.cachedCanvases.getCanvas("inlineImage",c,u).context;tS(f,t),s=this.applyTransferMapsToCanvas(f)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const c of i)r.save(),r.transform(...c.transform),r.scale(1,-1),ov(r,s,c.x,c.y,c.w,c.h,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,r,0,1,-1,0),r.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,vr.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var o,a;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===rS?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(a=this.dependencyTracker)==null||a.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=It(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(i===0&&r===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,h=c*e;o=u<1?1/u:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-i*r),c=Math.hypot(t,i),u=Math.hypot(r,s);if(e===0)o=u/l,a=c/l;else{const h=e*l;o=u>h?u/h:1,a=c>h?c/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,o]=this.getScaleForStroking();if(s===o){i.lineWidth=(r||1)*s,i.stroke(e);return}const a=i.getLineDash();t&&i.save(),i.scale(s,o),P2.a=1/s,P2.d=1/o;const l=new Path2D;if(l.addPath(e,P2),a.length>0){const c=Math.max(s,o);i.setLineDash(a.map(u=>u/c)),i.lineDashOffset/=c}i.lineWidth=r||1,i.stroke(l),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};_s=new WeakSet,ww=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},xw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Tw=function(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r};let Od=DA;for(const n in cg)Od.prototype[n]!==void 0&&(Od.prototype[cg[n]]=Od.prototype[n]);var pm,gm;class js{static get workerPort(){return d(this,pm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");A(this,pm,e)}static get workerSrc(){return d(this,gm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");A(this,gm,e)}}pm=new WeakMap,gm=new WeakMap,I(js,pm,null),I(js,gm,"");var Ah,mm;class Q6{constructor({parsedData:e,rawData:t}){I(this,Ah);I(this,mm);A(this,Ah,e),A(this,mm,t)}getRaw(){return d(this,mm)}get(e){return d(this,Ah).get(e)??null}[Symbol.iterator](){return d(this,Ah).entries()}}Ah=new WeakMap,mm=new WeakMap;const ad=Symbol("INTERNAL");var ym,vm,bm,Ch;class Z6{constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){I(this,ym,!1);I(this,vm,!1);I(this,bm,!1);I(this,Ch,!0);A(this,ym,!!(e&sr.DISPLAY)),A(this,vm,!!(e&sr.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(d(this,bm))return d(this,Ch);if(!d(this,Ch))return!1;const{print:e,view:t}=this.usage;return d(this,ym)?(t==null?void 0:t.viewState)!=="OFF":d(this,vm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==ad&&pt("Internal method `_setVisible` called."),A(this,bm,i),A(this,Ch,t)}}ym=new WeakMap,vm=new WeakMap,bm=new WeakMap,Ch=new WeakMap;var ja,ct,Sh,Uh,_m,Ew;class j6{constructor(e,t=sr.DISPLAY){I(this,_m);I(this,ja,null);I(this,ct,new Map);I(this,Sh,null);I(this,Uh,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,A(this,Uh,e.order);for(const i of e.groups)d(this,ct).set(i.id,new Z6(t,i));if(e.baseState==="OFF")for(const i of d(this,ct).values())i._setVisible(ad,!1);for(const i of e.on)d(this,ct).get(i)._setVisible(ad,!0);for(const i of e.off)d(this,ct).get(i)._setVisible(ad,!1);A(this,Sh,this.getHash())}}isVisible(e){if(d(this,ct).size===0)return!0;if(!e)return rb("Optional content group not defined."),!0;if(e.type==="OCG")return d(this,ct).has(e.id)?d(this,ct).get(e.id).visible:(Se(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return k(this,_m,Ew).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!d(this,ct).has(t))return Se(`Optional content group not found: ${t}`),!0;if(d(this,ct).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!d(this,ct).has(t))return Se(`Optional content group not found: ${t}`),!0;if(!d(this,ct).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!d(this,ct).has(t))return Se(`Optional content group not found: ${t}`),!0;if(!d(this,ct).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!d(this,ct).has(t))return Se(`Optional content group not found: ${t}`),!0;if(d(this,ct).get(t).visible)return!1}return!0}return Se(`Unknown optional content policy ${e.policy}.`),!0}return Se(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=d(this,ct).get(e);if(!r){Se(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const o of r.rbGroups)for(const a of o)a!==e&&((s=d(this,ct).get(a))==null||s._setVisible(ad,!1,!0));r._setVisible(ad,!!t,!0),A(this,ja,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=d(this,ct).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}A(this,ja,null)}get hasInitialVisibility(){return d(this,Sh)===null||this.getHash()===d(this,Sh)}getOrder(){return d(this,ct).size?d(this,Uh)?d(this,Uh).slice():[...d(this,ct).keys()]:null}getGroup(e){return d(this,ct).get(e)||null}getHash(){if(d(this,ja)!==null)return d(this,ja);const e=new L3;for(const[t,i]of d(this,ct))e.update(`${t}:${i.visible}`);return A(this,ja,e.hexdigest())}[Symbol.iterator](){return d(this,ct).entries()}}ja=new WeakMap,ct=new WeakMap,Sh=new WeakMap,Uh=new WeakMap,_m=new WeakSet,Ew=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=k(this,_m,Ew).call(this,s);else if(d(this,ct).has(s))o=d(this,ct).get(s).visible;else return Se(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class eO{constructor(e,{disableRange:t=!1,disableStream:i=!1}){$e(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});$e(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){$e(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new tO(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new nO(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class tO{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=MT(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class nO{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function iO(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(n),t){const u=c(t);return s(u)}if(t=i("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function i(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(u,{fatal:!0}),g=wy(h);h=f.decode(g),e=!1}catch{}}return h}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),e&&(u=r("iso-8859-1",u))),u}function o(u){const h=[];let f;const g=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=g.exec(u))!==null;){let[,m,D,y]=f;if(m=parseInt(m,10),m in h){if(m===0)break;continue}h[m]=[D,y]}const _=[];for(let m=0;m<h.length&&m in h;++m){let[D,y]=h[m];y=a(y),D&&(y=unescape(y),m===0&&(y=l(y))),_.push(y)}return _.join("")}function a(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let f=0;f<h.length;++f){const g=h[f].indexOf('"');g!==-1&&(h[f]=h[f].slice(0,g),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function l(u){const h=u.indexOf("'");if(h===-1)return u;const f=u.slice(0,h),_=u.slice(h+1).replace(/^[^']*'/,"");return r(f,_)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,g,_){if(g==="q"||g==="Q")return _=_.replaceAll("_"," "),_=_.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,D){return String.fromCharCode(parseInt(D,16))}),r(f,_);try{_=atob(_)}catch{}return r(f,_)})}return""}function K3(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function ob(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function J3({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Q3(n){const e=n.get("Content-Disposition");if(e){let t=iO(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(MT(t))return t}return null}function Cy(n,e){return new z0(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Z3(n){return n===200||n===206}function j3(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function eP(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Se(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class rO{constructor(e){he(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=K3(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return $e(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new sO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new oO(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class sO{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,j3(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=ob(s.url),!Z3(s.status))throw Cy(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=J3({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=Q3(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ll("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:eP(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class oO{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const o=r.url;fetch(o,j3(s,this._withCredentials,this._abortController)).then(a=>{const l=ob(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!Z3(a.status))throw Cy(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:eP(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const M2=200,N2=206;function aO(n){const e=n.response;return typeof e!="string"?e:wy(e).buffer}class lO{constructor({url:e,httpHeaders:t,withCredentials:i}){he(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=K3(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=N2):r.expectedStatus=M2,t.responseType="arraybuffer",$e(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||M2;if(!(s===M2&&i.expectedStatus===N2)&&s!==i.expectedStatus){i.onError(r.status);return}const a=aO(r);if(s===N2){const l=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?i.onDone({begin:parseInt(c[1],10),chunk:a}):(Se('Missing or invalid "Content-Range" header.'),i.onError(0))}else a?i.onDone({begin:0,chunk:a}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class cO{constructor(e){this._source=e,this._manager=new lO(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return $e(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new uO(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new dO(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class uO{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=ob(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=J3({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=Q3(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Cy(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class dO{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=ob((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Cy(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const hO=/^[a-z][a-z0-9\-+.]+:/i;function fO(n){if(hO.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class pO{constructor(e){this.source=e,this.url=fO(e.url),$e(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return $e(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new gO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new mO(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class gO{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Cy(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ll("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class mO{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ep=Symbol("INITIAL_DATA");var zi,Dm,Aw;class tP{constructor(){I(this,Dm);I(this,zi,Object.create(null))}get(e,t=null){if(t){const r=k(this,Dm,Aw).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=d(this,zi)[e];if(!i||i.data===ep)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=d(this,zi)[e];return!!t&&t.data!==ep}delete(e){const t=d(this,zi)[e];return!t||t.data===ep?!1:(delete d(this,zi)[e],!0)}resolve(e,t=null){const i=k(this,Dm,Aw).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in d(this,zi)){const{data:i}=d(this,zi)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}A(this,zi,Object.create(null))}*[Symbol.iterator](){for(const e in d(this,zi)){const{data:t}=d(this,zi)[e];t!==ep&&(yield[e,t])}}}zi=new WeakMap,Dm=new WeakSet,Aw=function(e){var t;return(t=d(this,zi))[e]||(t[e]={...Promise.withResolvers(),data:ep})};const yO=1e5,sS=30;var Bk,el,Gi,wm,xm,Vc,Lo,Tm,Em,Hc,Am,Ih,tl,kh,Cm,Rh,qc,Sm,Um,Fh,zc,Im,Ph,Mh,ya,nP,iP,Cw,dr,Xv,Sw,rP,sP;const wn=class wn{constructor({textContentSource:e,container:t,viewport:i}){I(this,ya);I(this,el,Promise.withResolvers());I(this,Gi,null);I(this,wm,!1);I(this,xm,!!((Bk=globalThis.FontInspector)!=null&&Bk.enabled));I(this,Vc,null);I(this,Lo,null);I(this,Tm,0);I(this,Em,0);I(this,Hc,null);I(this,Am,null);I(this,Ih,0);I(this,tl,0);I(this,kh,Object.create(null));I(this,Cm,[]);I(this,Rh,null);I(this,qc,[]);I(this,Sm,new WeakMap);I(this,Um,null);var l;if(e instanceof ReadableStream)A(this,Rh,e);else if(typeof e=="object")A(this,Rh,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');A(this,Gi,A(this,Am,t)),A(this,tl,i.scale*so.pixelRatio),A(this,Ih,i.rotation),A(this,Lo,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;A(this,Um,[1,0,0,-1,-o,a+s]),A(this,Em,r),A(this,Tm,s),k(l=wn,dr,rP).call(l),t.style.setProperty("--min-font-size",d(wn,Ph)),Fu(t,i),d(this,el).promise.finally(()=>{d(wn,Mh).delete(this),A(this,Lo,null),A(this,kh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ln.platform;return Ue(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{d(this,Hc).read().then(({value:t,done:i})=>{if(i){d(this,el).resolve();return}d(this,Vc)??A(this,Vc,t.lang),Object.assign(d(this,kh),t.styles),k(this,ya,nP).call(this,t.items),e()},d(this,el).reject)};return A(this,Hc,d(this,Rh).getReader()),d(wn,Mh).add(this),e(),d(this,el).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*so.pixelRatio,r=e.rotation;if(r!==d(this,Ih)&&(t==null||t(),A(this,Ih,r),Fu(d(this,Am),{rotation:r})),i!==d(this,tl)){t==null||t(),A(this,tl,i);const o={div:null,properties:null,ctx:k(s=wn,dr,Xv).call(s,d(this,Vc))};for(const a of d(this,qc))o.properties=d(this,Sm).get(a),o.div=a,k(this,ya,Cw).call(this,o)}}cancel(){var t;const e=new Ll("TextLayer task cancelled.");(t=d(this,Hc))==null||t.cancel(e).catch(()=>{}),A(this,Hc,null),d(this,el).reject(e)}get textDivs(){return d(this,qc)}get textContentItemsStr(){return d(this,Cm)}static cleanup(){if(!(d(this,Mh).size>0)){d(this,Fh).clear();for(const{canvas:e}of d(this,zc).values())e.remove();d(this,zc).clear()}}};el=new WeakMap,Gi=new WeakMap,wm=new WeakMap,xm=new WeakMap,Vc=new WeakMap,Lo=new WeakMap,Tm=new WeakMap,Em=new WeakMap,Hc=new WeakMap,Am=new WeakMap,Ih=new WeakMap,tl=new WeakMap,kh=new WeakMap,Cm=new WeakMap,Rh=new WeakMap,qc=new WeakMap,Sm=new WeakMap,Um=new WeakMap,Fh=new WeakMap,zc=new WeakMap,Im=new WeakMap,Ph=new WeakMap,Mh=new WeakMap,ya=new WeakSet,nP=function(e){var r,s;if(d(this,wm))return;(s=d(this,Lo)).ctx??(s.ctx=k(r=wn,dr,Xv).call(r,d(this,Vc)));const t=d(this,qc),i=d(this,Cm);for(const o of e){if(t.length>yO){Se("Ignoring additional textDivs for performance reasons."),A(this,wm,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=d(this,Gi);A(this,Gi,document.createElement("span")),d(this,Gi).classList.add("markedContent"),o.id&&d(this,Gi).setAttribute("id",`${o.id}`),a.append(d(this,Gi))}else o.type==="endMarkedContent"&&A(this,Gi,d(this,Gi).parentNode);continue}i.push(o.str),k(this,ya,iP).call(this,o)}},iP=function(e){var _;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};d(this,qc).push(t);const r=ye.transform(d(this,Um),e.transform);let s=Math.atan2(r[1],r[0]);const o=d(this,kh)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=d(this,xm)&&o.fontSubstitution||o.fontFamily;a=wn.fontFamilyMap.get(a)||a;const l=Math.hypot(r[2],r[3]),c=l*k(_=wn,dr,sP).call(_,a,o,d(this,Vc));let u,h;s===0?(u=r[4],h=r[5]-c):(u=r[4]+c*Math.sin(s),h=r[5]-c*Math.cos(s));const f=t.style;f.left=`${(100*u/d(this,Em)).toFixed(2)}%`,f.top=`${(100*h/d(this,Tm)).toFixed(2)}%`,f.setProperty("--font-height",`${l.toFixed(2)}px`),f.fontFamily=a,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,d(this,xm)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const m=Math.abs(e.transform[0]),D=Math.abs(e.transform[3]);m!==D&&Math.max(m,D)/Math.min(m,D)>1.5&&(g=!0)}if(g&&(i.canvasWidth=o.vertical?e.height:e.width),d(this,Sm).set(t,i),d(this,Lo).div=t,d(this,Lo).properties=i,k(this,ya,Cw).call(this,d(this,Lo)),i.hasText&&d(this,Gi).append(t),i.hasEOL){const m=document.createElement("br");m.setAttribute("role","presentation"),d(this,Gi).append(m)}},Cw=function(e){var o;const{div:t,properties:i,ctx:r}=e,{style:s}=t;if(i.canvasWidth!==0&&i.hasText){const{fontFamily:a}=s,{canvasWidth:l,fontSize:c}=i;k(o=wn,dr,Sw).call(o,r,c*d(this,tl),a);const{width:u}=r.measureText(t.textContent);u>0&&s.setProperty("--scale-x",l*d(this,tl)/u)}i.angle!==0&&s.setProperty("--rotate",`${i.angle}deg`)},dr=new WeakSet,Xv=function(e=null){let t=d(this,zc).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,zc).set(e,t),d(this,Im).set(t,{size:0,family:""})}return t},Sw=function(e,t,i){const r=d(this,Im).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},rP=function(){if(d(this,Ph)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),A(this,Ph,e.getBoundingClientRect().height),e.remove()},sP=function(e,t,i){const r=d(this,Fh).get(e);if(r)return r;const s=k(this,dr,Xv).call(this,i);s.canvas.width=s.canvas.height=sS,k(this,dr,Sw).call(this,s,sS,e);const o=s.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return a?c=a/(a+l):(ln.platform.isFirefox&&Se("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),d(this,Fh).set(e,c),c},I(wn,dr),I(wn,Fh,new Map),I(wn,zc,new Map),I(wn,Im,new WeakMap),I(wn,Ph,null),I(wn,Mh,new Set);let dg=wn;const vO=100;function oP(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Uw,{docId:t}=e,i=n.url?E6(n.url):null,r=n.data?A6(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof aP?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let u=n.worker instanceof hg?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!sb(n.docBaseUrl)?n.docBaseUrl:null,g=nv(n.cMapUrl),_=n.cMapPacked!==!1,m=n.CMapReaderFactory||(oi?P6:GC),D=nv(n.iccUrl),y=nv(n.standardFontDataUrl),b=n.StandardFontDataFactory||(oi?M6:$C),w=nv(n.wasmUrl),x=n.WasmFactory||(oi?N6:XC),T=n.stopAtErrors!==!0,E=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,C=n.isEvalSupported!==!1,F=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!oi,P=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!oi&&(ln.platform.isFirefox||!globalThis.chrome),O=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,Y=typeof n.disableFontFace=="boolean"?n.disableFontFace:oi,R=n.fontExtraProperties===!0,V=n.enableXfa===!0,S=n.ownerDocument||globalThis.document,K=n.disableRange===!0,N=n.disableStream===!0,B=n.disableAutoFetch===!0,M=n.pdfBug===!0,L=n.CanvasFactory||(oi?F6:I6),X=n.FilterFactory||(oi?R6:k6),H=n.enableHWA===!0,z=n.useWasm!==!1,G=l?l.length:n.length??NaN,ie=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!oi&&!Y,re=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===GC&&b===$C&&x===XC&&g&&y&&w&&fp(g,document.baseURI)&&fp(y,document.baseURI)&&fp(w,document.baseURI)),ce=null;Z4(h);const de={canvasFactory:new L({ownerDocument:S,enableHWA:H}),filterFactory:new X({docId:t,ownerDocument:S}),cMapReaderFactory:re?null:new m({baseUrl:g,isCompressed:_}),standardFontDataFactory:re?null:new b({baseUrl:y}),wasmFactory:re?null:new x({baseUrl:w})};u||(u=hg.create({verbosity:h,port:js.workerPort}),e._worker=u);const _e={docId:t,apiVersion:"5.4.530",data:r,password:a,disableAutoFetch:B,rangeChunkSize:c,length:G,docBaseUrl:f,enableXfa:V,evaluatorOptions:{maxImageSize:E,disableFontFace:Y,ignoreErrors:T,isEvalSupported:C,isOffscreenCanvasSupported:F,isImageDecoderSupported:P,canvasMaxAreaInBytes:O,fontExtraProperties:R,useSystemFonts:ie,useWasm:z,useWorkerFetch:re,cMapUrl:g,iccUrl:D,standardFontDataUrl:y,wasmUrl:w}},Te={ownerDocument:S,pdfBug:M,styleElement:ce,loadingParams:{disableAutoFetch:B,enableXfa:V}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Me=u.messageHandler.sendWithPromise("GetDocRequest",_e,r?[r.buffer]:null);let Le;if(l)Le=new eO(l,{disableRange:K,disableStream:N});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const j=fp(i)?rO:oi?pO:cO;Le=new j({url:i,length:G,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:K,disableStream:N})}return Me.then(j=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ae=new Dp(t,j,u.port),U=new DO(ae,e,Le,Te,de,H);e._transport=U,ae.send("Ready",null)})}).catch(e._capability.reject),e}var I1;const k1=class k1{constructor(){he(this,"_capability",Promise.withResolvers());he(this,"_transport",null);he(this,"_worker",null);he(this,"docId",`d${jt(k1,I1)._++}`);he(this,"destroyed",!1);he(this,"onPassword",null);he(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};I1=new WeakMap,I(k1,I1,0);let Uw=k1;var Gc,km,Rm,Fm,Pm;class aP{constructor(e,t,i=!1,r=null){I(this,Gc,Promise.withResolvers());I(this,km,[]);I(this,Rm,[]);I(this,Fm,[]);I(this,Pm,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){d(this,Pm).push(e)}addProgressListener(e){d(this,Fm).push(e)}addProgressiveReadListener(e){d(this,Rm).push(e)}addProgressiveDoneListener(e){d(this,km).push(e)}onDataRange(e,t){for(const i of d(this,Pm))i(e,t)}onDataProgress(e,t){d(this,Gc).promise.then(()=>{for(const i of d(this,Fm))i(e,t)})}onDataProgressiveRead(e){d(this,Gc).promise.then(()=>{for(const t of d(this,Rm))t(e)})}onDataProgressiveDone(){d(this,Gc).promise.then(()=>{for(const e of d(this,km))e()})}transportReady(){d(this,Gc).resolve()}requestDataRange(e,t){pt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Gc=new WeakMap,km=new WeakMap,Rm=new WeakMap,Fm=new WeakMap,Pm=new WeakMap;class bO{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ue(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Bo,$c,Ap;class _O{constructor(e,t,i,r=!1){I(this,$c);I(this,Bo,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new BC:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new tP,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new Ty({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ue(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=Ra.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:g=!1,operationsFilter:_=null}){var P,O,Y;(P=this._stats)==null||P.time("Overall");const m=this._transport.getRenderingIntent(r,s,h,f),{renderingIntent:D,cacheKey:y}=m;A(this,Bo,!1),l||(l=this._transport.getOptionalContentConfig(D));let b=this._intentStates.get(y);b||(b=Object.create(null),this._intentStates.set(y,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const w=!!(D&sr.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(O=this._stats)==null||O.time("Page Request"),this._pumpOperatorList(m));const x=!!(this._pdfBug&&((Y=globalThis.StepperManager)!=null&&Y.enabled)),T=!this.recordedBBoxes&&(g||x),E=R=>{var V,S;if(b.renderTasks.delete(C),T){const K=(V=C.gfx)==null?void 0:V.dependencyTracker.take();K&&(C.stepper&&C.stepper.setOperatorBBoxes(K,C.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=K))}w&&A(this,Bo,!0),k(this,$c,Ap).call(this),R?(C.capability.reject(R),this._abortOperatorList({intentState:b,reason:R instanceof Error?R:new Error(R)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(S=globalThis.Stats)!=null&&S.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new Iw({callback:E,params:{canvas:t,canvasContext:e,dependencyTracker:T?new B6(t,b.operatorList.length,x):null,viewport:i,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:_});(b.renderTasks||(b.renderTasks=new Set)).add(C);const F=C.task;return Promise.all([b.displayReadyCapability.promise,l]).then(([R,V])=>{var S;if(this.destroyed){E();return}if((S=this._stats)==null||S.time("Rendering"),!(V.renderingIntent&D))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:R,optionalContentConfig:V}),C.operatorListChanged()}).catch(E),F}getOperatorList({intent:e="display",annotationMode:t=Ra.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,i,r,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>ug.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:l,done:c}){if(c){i(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),A(this,Bo,!1),Promise.all(e)}cleanup(e=!1){A(this,Bo,!0);const t=k(this,$c,Ap).call(this);return e&&t&&this._stats&&(this._stats=new BC),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&k(this,$c,Ap).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:o}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:h,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),u())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();k(this,$c,Ap).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof PT){let r=vO;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Ll(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Bo=new WeakMap,$c=new WeakSet,Ap=function(){if(!d(this,Bo)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),A(this,Bo,!1),!0};var nl,is,Oo,Xc,R1,Yc,Kc,ci,Yv,lP,cP,Cp,Nh,Kv;const Et=class Et{constructor({name:e=null,port:t=null,verbosity:i=j4()}={}){I(this,ci);I(this,nl,Promise.withResolvers());I(this,is,null);I(this,Oo,null);I(this,Xc,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(d(Et,Kc).has(t))throw new Error("Cannot use more than one PDFWorker per port.");d(Et,Kc).set(t,this),k(this,ci,lP).call(this,t)}else k(this,ci,cP).call(this)}get promise(){return d(this,nl).promise}get port(){return d(this,Oo)}get messageHandler(){return d(this,is)}destroy(){var e,t;this.destroyed=!0,(e=d(this,Xc))==null||e.terminate(),A(this,Xc,null),d(Et,Kc).delete(d(this,Oo)),A(this,Oo,null),(t=d(this,is))==null||t.destroy(),A(this,is,null)}static create(e){const t=d(this,Kc).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Et(e)}static get workerSrc(){if(js.workerSrc)return js.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ue(this,"_setupFakeWorkerGlobal",(async()=>d(this,Nh,Kv)?d(this,Nh,Kv):(await import(this.workerSrc)).WorkerMessageHandler)())}};nl=new WeakMap,is=new WeakMap,Oo=new WeakMap,Xc=new WeakMap,R1=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,ci=new WeakSet,Yv=function(){d(this,nl).resolve(),d(this,is).send("configure",{verbosity:this.verbosity})},lP=function(e){A(this,Oo,e),A(this,is,new Dp("main","worker",e)),d(this,is).on("ready",()=>{}),k(this,ci,Yv).call(this)},cP=function(){if(d(Et,Yc)||d(Et,Nh,Kv)){k(this,ci,Cp).call(this);return}let{workerSrc:e}=Et;try{Et._isSameOrigin(window.location,e)||(e=Et._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Dp("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?d(this,nl).reject(new Error("Worker was destroyed")):k(this,ci,Cp).call(this)},s=new AbortController;t.addEventListener("error",()=>{d(this,Xc)||r()},{signal:s.signal}),i.on("test",a=>{if(s.abort(),this.destroyed||!a){r();return}A(this,is,i),A(this,Oo,t),A(this,Xc,t),k(this,ci,Yv).call(this)}),i.on("ready",a=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{k(this,ci,Cp).call(this)}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{rb("The worker has been disabled.")}k(this,ci,Cp).call(this)},Cp=function(){d(Et,Yc)||(Se("Setting up fake worker."),A(Et,Yc,!0)),Et._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){d(this,nl).reject(new Error("Worker was destroyed"));return}const t=new U6;A(this,Oo,t);const i=`fake${jt(Et,R1)._++}`,r=new Dp(i+"_worker",i,t);e.setup(r,t),A(this,is,new Dp(i,i+"_worker",t)),k(this,ci,Yv).call(this)}).catch(e=>{d(this,nl).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Nh=new WeakSet,Kv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},I(Et,Nh),I(Et,R1,0),I(Et,Yc,!1),I(Et,Kc,new WeakMap),oi&&(A(Et,Yc,!0),js.workerSrc||(js.workerSrc="./pdf.worker.mjs")),Et._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},Et._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Et.fromPort=e=>{if(d6("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Et.create(e)};let hg=Et;var Wo,Hs,Lh,Bh,Vo,Jc,Sp;class DO{constructor(e,t,i,r,s,o){I(this,Jc);I(this,Wo,new Map);I(this,Hs,new Map);I(this,Lh,new Map);I(this,Bh,new Map);I(this,Vo,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new tP,this.fontLoader=new w6({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return Ue(this,"annotationStorage",new NT)}getRenderingIntent(e,t=Ra.ENABLE,i=null,r=!1,s=!1){let o=sr.DISPLAY,a=hw;switch(e){case"any":o=sr.ANY;break;case"display":break;case"print":o=sr.PRINT;break;default:Se(`getRenderingIntent - invalid intent: ${e}`)}const l=o&sr.PRINT&&i instanceof O3?i:this.annotationStorage;switch(t){case Ra.DISABLE:o+=sr.ANNOTATIONS_DISABLE;break;case Ra.ENABLE:break;case Ra.ENABLE_FORMS:o+=sr.ANNOTATIONS_FORMS;break;case Ra.ENABLE_STORAGE:o+=sr.ANNOTATIONS_STORAGE,a=l.serializable;break;default:Se(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=sr.IS_EDITING),s&&(o+=sr.OPLIST);const{ids:c,hash:u}=l.modifiedIds,h=[o,a.hash,u];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=d(this,Vo))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of d(this,Hs).values())e.push(r._destroy());d(this,Hs).clear(),d(this,Lh).clear(),d(this,Bh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),d(this,Wo).clear(),this.filterFactory.destroy(),dg.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Ll("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{$e(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}$e(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(i,r)=>{$e(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}$e(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new bO(i,this))}),e.on("DocException",i=>{t._capability.reject(yi(i))}),e.on("PasswordRequest",i=>{A(this,Vo,Promise.withResolvers());try{if(!t.onPassword)throw yi(i);const r=s=>{s instanceof Error?d(this,Vo).reject(s):d(this,Vo).resolve({password:s})};t.onPassword(r,i.code)}catch(r){d(this,Vo).reject(r)}return d(this,Vo).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;d(this,Hs).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const f=s.error;Se(`Error during font loading: ${f}`),this.commonObjs.resolve(i,f);break}const a=new fw(s),l=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(f,g)=>globalThis.FontInspector.fontAdded(f,g):null,c=new x6(a,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(i,c)});break;case"CopyLocalImage":const{imageRef:u}=s;$e(u,"The imageRef must be defined.");for(const f of d(this,Hs).values())for(const[,g]of f.objs)if((g==null?void 0:g.ref)===u)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":this.commonObjs.resolve(i,new T6(s));break;case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const h=new pw(s);this.commonObjs.resolve(i,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{var l;if(this.destroyed)return;const a=d(this,Hs).get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Se("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=d(this,Lh).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&d(this,Bh).set(s.refStr,e);const o=new _O(t,s,this,this._params.pdfBug);return d(this,Hs).set(t,o),o});return d(this,Lh).set(t,r),r}getPageIndex(e){return gw(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return k(this,Jc,Sp).call(this,"GetFieldObjects")}hasJSActions(){return k(this,Jc,Sp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return k(this,Jc,Sp).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return k(this,Jc,Sp).call(this,"GetOptionalContentConfig").then(t=>new j6(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=d(this,Wo).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new Q6(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null,hasStructTree:r[2]}});return d(this,Wo).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of d(this,Hs).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),d(this,Wo).clear(),this.filterFactory.destroy(!0),dg.cleanup()}}cachedPageNumber(e){if(!gw(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return d(this,Bh).get(t)??null}}Wo=new WeakMap,Hs=new WeakMap,Lh=new WeakMap,Bh=new WeakMap,Vo=new WeakMap,Jc=new WeakSet,Sp=function(e,t=null){const i=d(this,Wo).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return d(this,Wo).set(e,r),r};var il;class wO{constructor(e){I(this,il,null);he(this,"onContinue",null);he(this,"onError",null);A(this,il,e)}get promise(){return d(this,il).capability.promise}cancel(e=0){d(this,il).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=d(this,il).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=d(this,il);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}il=new WeakMap;var rl,Qc;const sc=class sc{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:g=!1,operationsFilter:_=null}){I(this,rl,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new wO(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=g,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=_}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,c;if(this.cancelled)return;if(this._canvas){if(d(sc,Qc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(sc,Qc).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:o}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Od(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),d(this,rl)&&(window.cancelAnimationFrame(d(this,rl)),A(this,rl,null)),d(sc,Qc).delete(this._canvas),e||(e=new PT(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(r=this.task).onError)==null||s.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?A(this,rl,window.requestAnimationFrame(()=>{A(this,rl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(sc,Qc).delete(this._canvas),this.callback())))}};rl=new WeakMap,Qc=new WeakMap,I(sc,Qc,new WeakSet);let Iw=sc;const xO="5.4.530",TO="50cc4adac";var $i,Zc,Oh,rn,Mm,Wh,Ho,Nm,sl,rs,Lm,ut,kw,Rw,Fw,ec,uP,Aa;const vi=class vi{constructor({editor:e=null,uiManager:t=null}){I(this,ut);I(this,$i,null);I(this,Zc,null);I(this,Oh);I(this,rn,null);I(this,Mm,!1);I(this,Wh,!1);I(this,Ho,null);I(this,Nm);I(this,sl,null);I(this,rs,null);var i,r;e?(A(this,Wh,!1),A(this,Ho,e)):A(this,Wh,!0),A(this,rs,(e==null?void 0:e._uiManager)||t),A(this,Nm,d(this,rs)._eventBus),A(this,Oh,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=d(this,rs))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),d(vi,Lm)||A(vi,Lm,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ue(this,"_keyboardManager",new Ay([[["Escape","mac+Escape"],vi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],vi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],vi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],vi.prototype._moveToPrevious],[["Home","mac+Home"],vi.prototype._moveToBeginning],[["End","mac+End"],vi.prototype._moveToEnd]]))}renderButton(){const e=A(this,$i,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",d(this,Ho)&&(e.ariaControls=`${d(this,Ho).id}_colorpicker_dropdown`);const t=d(this,rs)._signal;e.addEventListener("click",k(this,ut,ec).bind(this),{signal:t}),e.addEventListener("keydown",k(this,ut,Fw).bind(this),{signal:t});const i=A(this,Zc,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=d(this,Oh),e.append(i),e}renderMainDropdown(){const e=A(this,rn,k(this,ut,kw).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===d(this,$i)){k(this,ut,ec).call(this,e);return}const t=e.target.getAttribute("data-color");t&&k(this,ut,Rw).call(this,t,e)}_moveToNext(e){var t,i;if(!d(this,ut,Aa)){k(this,ut,ec).call(this,e);return}if(e.target===d(this,$i)){(t=d(this,rn).firstElementChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=d(this,rn))==null?void 0:t.firstElementChild)||e.target===d(this,$i)){d(this,ut,Aa)&&this._hideDropdownFromKeyboard();return}d(this,ut,Aa)||k(this,ut,ec).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!d(this,ut,Aa)){k(this,ut,ec).call(this,e);return}(t=d(this,rn).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!d(this,ut,Aa)){k(this,ut,ec).call(this,e);return}(t=d(this,rn).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=d(this,rn))==null||e.classList.add("hidden"),d(this,$i).ariaExpanded="false",(t=d(this,sl))==null||t.abort(),A(this,sl,null)}_hideDropdownFromKeyboard(){var e;if(!d(this,Wh)){if(!d(this,ut,Aa)){(e=d(this,Ho))==null||e.unselect();return}this.hideDropdown(),d(this,$i).focus({preventScroll:!0,focusVisible:d(this,Mm)})}}updateColor(e){if(d(this,Zc)&&(d(this,Zc).style.backgroundColor=e),!d(this,rn))return;const t=d(this,rs).highlightColors.values();for(const i of d(this,rn).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=d(this,$i))==null||e.remove(),A(this,$i,null),A(this,Zc,null),(t=d(this,rn))==null||t.remove(),A(this,rn,null)}};$i=new WeakMap,Zc=new WeakMap,Oh=new WeakMap,rn=new WeakMap,Mm=new WeakMap,Wh=new WeakMap,Ho=new WeakMap,Nm=new WeakMap,sl=new WeakMap,rs=new WeakMap,Lm=new WeakMap,ut=new WeakSet,kw=function(){const e=document.createElement("div"),t=d(this,rs)._signal;e.addEventListener("contextmenu",Gr,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),d(this,Ho)&&(e.id=`${d(this,Ho).id}_colorpicker_dropdown`);for(const[i,r]of d(this,rs).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",d(vi,Lm)[i]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.ariaSelected=r===d(this,Oh),s.addEventListener("click",k(this,ut,Rw).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",k(this,ut,Fw).bind(this),{signal:t}),e},Rw=function(e,t){t.stopPropagation(),d(this,Nm).dispatch("switchannotationeditorparams",{source:this,type:Ge.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},Fw=function(e){vi._keyboardManager.exec(this,e)},ec=function(e){if(d(this,ut,Aa)){this.hideDropdown();return}if(A(this,Mm,e.detail===0),d(this,sl)||(A(this,sl,new AbortController),window.addEventListener("pointerdown",k(this,ut,uP).bind(this),{signal:d(this,rs).combinedSignal(d(this,sl))})),d(this,$i).ariaExpanded="true",d(this,rn)){d(this,rn).classList.remove("hidden");return}const t=A(this,rn,k(this,ut,kw).call(this));d(this,$i).append(t)},uP=function(e){var t;(t=d(this,rn))!=null&&t.contains(e.target)||this.hideDropdown()},Aa=function(){return d(this,rn)&&!d(this,rn).classList.contains("hidden")},I(vi,Lm,null);let Q0=vi;var qs,Bm,Vh,Om;const oc=class oc{constructor(e){I(this,qs,null);I(this,Bm,null);I(this,Vh,null);A(this,Bm,e),A(this,Vh,e._uiManager),d(oc,Om)||A(oc,Om,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(d(this,qs))return d(this,qs);const{editorType:e,colorType:t,color:i}=d(this,Bm),r=A(this,qs,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",d(oc,Om)[e]),r.addEventListener("input",()=>{d(this,Vh).updateParams(t,r.value)},{signal:d(this,Vh)._signal}),r}update(e){d(this,qs)&&(d(this,qs).value=e)}destroy(){var e;(e=d(this,qs))==null||e.remove(),A(this,qs,null)}hideDropdown(){}};qs=new WeakMap,Bm=new WeakMap,Vh=new WeakMap,Om=new WeakMap,I(oc,Om,null);let Z0=oc;function oS(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function tp(n){return Math.max(0,Math.min(255,255*n))}class aS{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=tp(e),[e,e,e]}static G_HTML([e]){const t=oS(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(tp)}static RGB_HTML(e){return`#${e.map(oS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[tp(1-Math.min(1,e+r)),tp(1-Math.min(1,i+r)),tp(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class EO{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){pt("Abstract method `_createSVG` called.")}}class j0 extends EO{_createSVG(e){return document.createElementNS(fo,e)}}const AO=9,Mu=new WeakSet,CO=new Date().getTimezoneOffset()*60*1e3;class L2{static create(e){switch(e.data.annotationType){case Kt.LINK:return new OT(e);case Kt.TEXT:return new UO(e);case Kt.WIDGET:switch(e.data.fieldType){case"Tx":return new IO(e);case"Btn":return e.data.radioButton?new fP(e):e.data.checkBox?new RO(e):new FO(e);case"Ch":return new PO(e);case"Sig":return new kO(e)}return new qu(e);case Kt.POPUP:return new Mw(e);case Kt.FREETEXT:return new vP(e);case Kt.LINE:return new NO(e);case Kt.SQUARE:return new LO(e);case Kt.CIRCLE:return new BO(e);case Kt.POLYLINE:return new bP(e);case Kt.CARET:return new WO(e);case Kt.INK:return new WT(e);case Kt.POLYGON:return new OO(e);case Kt.HIGHLIGHT:return new _P(e);case Kt.UNDERLINE:return new VO(e);case Kt.SQUIGGLY:return new HO(e);case Kt.STRIKEOUT:return new qO(e);case Kt.STAMP:return new DP(e);case Kt.FILEATTACHMENT:return new zO(e);default:return new Ft(e)}}}var jc,Hh,Ir,Wm,Pw;const wA=class wA{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){I(this,Wm);I(this,jc,null);I(this,Hh,!1);I(this,Ir,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return wA._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,t=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var a;const e=(a=this.annotationStorage)==null?void 0:a.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,o=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>o?(o=t[l+1],s=t[l+2]):t[l+1]===o&&(s=Math.max(s,t[l+2]));return[s,o]}if((i==null?void 0:i.length)>=1){for(const l of i)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>o?(o=l[c+1],s=l[c]):l[c+1]===o&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,o]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-o)/r,e}get commentText(){var t,i,r;const{data:e}=this;return((i=(t=this.annotationStorage.getRawValue(`${lg}${e.id}`))==null?void 0:t.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${lg}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=d(this,Ir))==null?void 0:e.popup)||this.popup)==null||t.remove(),A(this,Ir,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(d(this,jc)||A(this,jc,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&k(this,Wm,Pw).call(this,t);let r=((s=d(this,Ir))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=d(this,Ir).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),A(this,Ir,null),this.popup=null))}resetEdited(){var e;d(this,jc)&&(k(this,Wm,Pw).call(this,d(this,jc).rect),(e=d(this,Ir))==null||e.popup.resetEdited(),A(this,jc,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof qu)&&!(this instanceof OT)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Mw){const{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:a,height:l}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const m=t.borderStyle.horizontalCornerRadius,D=t.borderStyle.verticalCornerRadius;if(m>0||D>0){const b=`calc(${m}px * var(--total-scale-factor)) / calc(${D}px * var(--total-scale-factor))`;o.borderRadius=b}else if(this instanceof fP){const b=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=b}switch(t.borderStyle.style){case nd.SOLID:o.borderStyle="solid";break;case nd.DASHED:o.borderStyle="dashed";break;case nd.BEVELED:Se("Unimplemented border style: beveled");break;case nd.INSET:Se("Unimplemented border style: inset");break;case nd.UNDERLINE:o.borderBottomStyle="solid";break}const y=t.borderColor||null;y?(A(this,Hh,!0),o.borderColor=ye.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):o.borderWidth=0}const c=ye.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:h,pageX:f,pageY:g}=r.rawDims;o.left=`${100*(c[0]-f)/u}%`,o.top=`${100*(c[1]-g)/h}%`;const{rotation:_}=t;return t.hasOwnCanvas||_===0?(o.width=`${100*a/u}%`,o.height=`${100*l/h}%`):this.setRotation(_,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*o/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[i]=aS[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:aS[`${o}_rgb`](a)})};return Ue(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];if(o){const a={detail:{[r]:s},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,D,y,b]=e.subarray(2,6);if(r===m&&s===D&&t===y&&i===b)return}const{style:o}=this.container;let a;if(d(this,Hh)){const{borderColor:m,borderWidth:D}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${D}">`],this.container.classList.add("hasBorder")}const l=r-t,c=s-i,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=u.createElement("defs");h.append(f);const g=u.createElement("clipPath"),_=`clippath_${this.data.id}`;g.setAttribute("id",_),g.setAttribute("clipPathUnits","objectBoundingBox"),f.append(g);for(let m=2,D=e.length;m<D;m+=8){const y=e[m],b=e[m+1],w=e[m+2],x=e[m+3],T=u.createElement("rect"),E=(w-t)/l,C=(s-b)/c,F=(y-w)/l,P=(b-x)/c;T.setAttribute("x",E),T.setAttribute("y",C),T.setAttribute("width",F),T.setAttribute("height",P),g.append(T),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${E}" y="${C}" width="${F}" height="${P}"/>`)}d(this,Hh)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${_})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),A(this,Ir,new Mw({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(d(this,Ir)||this.popup||this.data.popupRef)}get extraPopupElement(){return d(this,Ir)}render(){pt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!Mu.has(c)){Se(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:c})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&Mu.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};jc=new WeakMap,Hh=new WeakMap,Ir=new WeakMap,Wm=new WeakSet,Pw=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(r)};let Ft=wA;class SO extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var lr,tc,dP,hP;class OT extends Ft{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});I(this,lr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),s=!0):t.attachment?(k(this,lr,dP).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(k(this,lr,hP).call(this,r,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=r,this.container.append(r)),this.container}_bindLink(t,i,r=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&k(this,lr,tc).call(this),r&&(t.title=r)}_bindNamedAction(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(t.title=r),k(this,lr,tc).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),k(this,lr,tc).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),k(this,lr,tc).call(this),!this._fieldObjects){Se('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:o,include:a}=i,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const g of s){const _=this._fieldObjects[g]||[];for(const{id:m}of _)f.add(m)}for(const g of Object.values(this._fieldObjects))for(const _ of g)f.has(_.id)===a&&l.push(_)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,u=[];for(const f of l){const{id:g}=f;switch(u.push(g),f.type){case"text":{const m=f.defaultValue||"";c.setValue(g,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;c.setValue(g,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";c.setValue(g,{value:m});break}default:continue}const _=document.querySelector(`[data-element-id="${g}"]`);if(_){if(!Mu.has(_)){Se(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;_.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}lr=new WeakSet,tc=function(){this.container.setAttribute("data-internal-link","")},dP=function(t,i,r="",s=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:r&&(t.title=r),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,s),!1},k(this,lr,tc).call(this)},hP=function(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(t.title=r),k(this,lr,tc).call(this)};class UO extends Ft{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class qu extends Ft{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ln.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,i,r){var s,o,a;for(const[l,c]of i)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,r),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ye.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||AO,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(U2*r))||1,h=c/u;o=Math.min(r,l(h/U2))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(c/U2))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=ye.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class IO extends qu{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Mu.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:g}=this.data,_=!!f&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",D=>{e.setValue(t,{value:D.target.value}),this.setPropertyOnSiblings(i,"value",D.target.value,"value"),u.formattedValue=null}),i.addEventListener("resetform",D=>{const y=this.data.defaultFieldValue??"";i.value=u.userValue=y,u.formattedValue=null});let m=D=>{const{formattedValue:y}=u;y!=null&&(D.target.value=y),D.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",y=>{var w;if(u.focused)return;const{target:b}=y;if(_&&(b.type=f,g&&(b.step=g)),u.userValue){const x=u.userValue;if(_)if(f==="time"){const T=new Date(x),E=[T.getHours(),T.getMinutes(),T.getSeconds()];b.value=E.map(C=>C.toString().padStart(2,"0")).join(":")}else b.value=new Date(x-CO).toISOString().split(f==="date"?"T":".",1)[0];else b.value=x}u.lastCommittedValue=b.value,u.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(u.focused=!0)}),i.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(w){u.userValue=w.detail.value??"",_||e.setValue(t,{value:u.userValue.toString()}),w.target.value=u.userValue},formattedValue(w){const{formattedValue:x}=w.detail;u.formattedValue=x,x!=null&&w.target!==document.activeElement&&(w.target.value=x);const T={formattedValue:x};_&&(T.value=x),e.setValue(t,T)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var C;const{charLimit:x}=w.detail,{target:T}=w;if(x===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",x);let E=u.userValue;!E||E.length<=x||(E=E.slice(0,x),T.value=u.userValue=E,e.setValue(t,{value:E}),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),i.addEventListener("keydown",y=>{var x;u.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(u.commitKey=3),b===-1)return;const{value:w}=y.target;u.lastCommittedValue!==w&&(u.lastCommittedValue=w,u.userValue=w,(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const D=m;m=null,i.addEventListener("blur",y=>{var x,T;if(!u.focused||!y.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(u.focused=!1);const{target:b}=y;let{value:w}=b;if(_){if(w&&f==="time"){const E=w.split(":").map(C=>parseInt(C,10));w=new Date(2e3,0,1,E[0],E[1],E[2]||0).valueOf(),b.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();b.type="text"}u.userValue=w,u.lastCommittedValue!==w&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:u.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),D(y)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",y=>{var P;u.lastCommittedValue=null;const{data:b,target:w}=y,{value:x,selectionStart:T,selectionEnd:E}=w;let C=T,F=E;switch(y.inputType){case"deleteWordBackward":{const O=x.substring(0,T).match(/\w*[^\w]*$/);O&&(C-=O[0].length);break}case"deleteWordForward":{const O=x.substring(T).match(/^[^\w]*\w*/);O&&(F+=O[0].length);break}case"deleteContentBackward":T===E&&(C-=1);break;case"deleteContentForward":T===E&&(F+=1);break}y.preventDefault(),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,change:b||"",willCommit:!1,selStart:C,selEnd:F}})}),this._setEventListeners(i,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(m&&i.addEventListener("blur",m),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class kO extends qu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class RO extends qu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Mu.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class fP extends qu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Mu.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,i))e.setValue(c.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const f=u&&h.id===i;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class FO extends OT{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class PO extends qu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Mu.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,i.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=u=>{const h=u?"value":"textContent",{options:f,multiple:g}=r;return g?Array.prototype.filter.call(f,_=>_.selected).map(_=>_[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=a(!1);const c=u=>{const h=u.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const h={value(f){o==null||o();const g=f.detail.value,_=new Set(Array.isArray(g)?g:[g]);for(const m of r.options)m.selected=_.has(m.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){r.multiple=!0},remove(f){const g=r.options,_=f.detail.remove;g[_].selected=!1,r.remove(_),g.length>0&&Array.prototype.findIndex.call(g,D=>D.selected)===-1&&(g[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:g,displayValue:_,exportValue:m}=f.detail.insert,D=r.children[g],y=document.createElement("option");y.textContent=_,y.value=m,D?D.before(y):r.append(y),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:g}=f.detail;for(;r.length!==0;)r.remove(0);for(const _ of g){const{displayValue:m,exportValue:D}=_,y=document.createElement("option");y.textContent=m,y.value=D,r.append(y)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const g=new Set(f.detail.indices);for(const _ of f.target.options)_.selected=g.has(_.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,u)}),r.addEventListener("input",u=>{var g;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),u.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var Vm,Nw;class Mw extends Ft{constructor(t){const{data:i,elements:r,parent:s}=t,o=!!s._commentManager;super(t,{isRenderable:!o&&Ft._hasPopupData(i)});I(this,Vm);if(this.elements=r,o&&Ft._hasPopupData(i)){const a=this.popup=k(this,Vm,Nw).call(this);for(const l of r)l.popup=a}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const i=this.popup=k(this,Vm,Nw).call(this),r=[];for(const s of this.elements)s.popup=i,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${xd}${s}`).join(",")),this.container}}Vm=new WeakSet,Nw=function(){return new MO({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Xi,ol,F1,P1,qh,zh,Lt,zs,al,eu,Gh,$h,Gs,Yi,qo,zo,Bt,Go,ll,Hm,$o,Xh,tu,cl,dn,ul,Pe,Jv,Lw,Bw,Ow,Qv,Ww,pP,gP,mP,yP,Zv,jv,Vw;class MO{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:h,commentManager:f=null}){I(this,Pe);I(this,Xi,null);I(this,ol,k(this,Pe,mP).bind(this));I(this,F1,k(this,Pe,Vw).bind(this));I(this,P1,k(this,Pe,jv).bind(this));I(this,qh,k(this,Pe,Zv).bind(this));I(this,zh,null);I(this,Lt,null);I(this,zs,null);I(this,al,null);I(this,eu,null);I(this,Gh,null);I(this,$h,null);I(this,Gs,!1);I(this,Yi,null);I(this,qo,null);I(this,zo,null);I(this,Bt,null);I(this,Go,null);I(this,ll,null);I(this,Hm,null);I(this,$o,null);I(this,Xh,null);I(this,tu,null);I(this,cl,!1);I(this,dn,null);I(this,ul,null);A(this,Lt,e),A(this,Xh,r),A(this,zs,o),A(this,$o,a),A(this,Gh,l),A(this,zh,t),A(this,Hm,c),A(this,$h,u),A(this,eu,i),A(this,Xi,f),A(this,dn,i[0]),A(this,al,G0.toDateObject(s)),this.trigger=i.flatMap(g=>g.getElementsToTriggerPopup()),f||(k(this,Pe,Jv).call(this),d(this,Lt).hidden=!0,h&&k(this,Pe,Zv).call(this))}renderCommentButton(){if(d(this,Bt)){d(this,Bt).parentNode||d(this,dn).container.after(d(this,Bt));return}if(d(this,Go)||k(this,Pe,Lw).call(this),!d(this,Go))return;const{signal:e}=A(this,qo,new AbortController),t=d(this,dn).hasOwnCommentButton,i=()=>{d(this,Xi).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{d(this,Xi).toggleCommentPopup(this,!1,!0,!t)},s=()=>{d(this,Xi).toggleCommentPopup(this,!1,!1)};if(t){A(this,Bt,d(this,dn).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",d(this,ol),{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=A(this,Bt,document.createElement("button"));o.className="annotationCommentButton";const a=d(this,dn).container;o.style.zIndex=a.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),k(this,Pe,Ow).call(this),k(this,Pe,Bw).call(this),o.addEventListener("keydown",d(this,ol),{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),a.after(o)}}get commentButtonColor(){const{color:e,opacity:t}=d(this,dn).commentData;return e?d(this,Gh)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=d(this,Bt))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=d(this,dn).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return d(this,Bt)}get comment(){return d(this,ul)||A(this,ul,d(this,dn).commentText),d(this,ul)}set comment(e){e!==this.comment&&(d(this,dn).commentText=A(this,ul,e))}focus(){var e;(e=d(this,dn).container)==null||e.focus()}get parentBoundingClientRect(){return d(this,dn).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){d(this,Bt)&&(d(this,Bt).classList.toggle("selected",e),d(this,Bt).ariaExpanded=t)}setSelectedCommentButton(e){d(this,Bt).classList.toggle("selected",e)}get commentPopupPosition(){if(d(this,ll))return d(this,ll);const{x:e,y:t,height:i}=d(this,Bt).getBoundingClientRect(),{x:r,y:s,width:o,height:a}=d(this,dn).layer.getBoundingClientRect();return[(e-r)/o,(t+i-s)/a]}set commentPopupPosition(e){A(this,ll,e)}hasDefaultPopupPosition(){return d(this,ll)===null}get commentButtonPosition(){return d(this,Go)}get commentButtonWidth(){return d(this,Bt).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=d(this,ll)||this.commentButtonPosition.map(c=>c/100),r=this.parentBoundingClientRect,{x:s,y:o,width:a,height:l}=r;d(this,Xi).showDialog(null,this,s+t*a,o+i*l,{...e,parentDimensions:r})}render(){var i,r;if(d(this,Yi))return;const e=A(this,Yi,document.createElement("div"));if(e.className="popup",d(this,zh)){const s=e.style.outlineColor=ye.makeHexColor(...d(this,zh));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=d(this,Xh))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=d(this,Xh)}if(e.append(t),d(this,al)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,al).valueOf()})),s.dateTime=d(this,al).toISOString(),t.append(s)}r3({html:d(this,Pe,Qv)||d(this,zs).str,dir:(r=d(this,zs))==null?void 0:r.dir,className:"popupContent"},e),d(this,Lt).append(e)}updateEdited({rect:e,popup:t,deleted:i}){var r;if(d(this,Xi)){i?(this.remove(),A(this,ul,null)):t&&(t.deleted?this.remove():(k(this,Pe,Ow).call(this),A(this,ul,t.text))),e&&(A(this,Go,null),k(this,Pe,Lw).call(this),k(this,Pe,Bw).call(this));return}if(i||t!=null&&t.deleted){this.remove();return}k(this,Pe,Jv).call(this),d(this,tu)||A(this,tu,{contentsObj:d(this,zs),richText:d(this,$o)}),e&&A(this,zo,null),t&&t.text&&(A(this,$o,k(this,Pe,gP).call(this,t.text)),A(this,al,G0.toDateObject(t.date)),A(this,zs,null)),(r=d(this,Yi))==null||r.remove(),A(this,Yi,null)}resetEdited(){var e;d(this,tu)&&({contentsObj:jt(this,zs)._,richText:jt(this,$o)._}=d(this,tu),A(this,tu,null),(e=d(this,Yi))==null||e.remove(),A(this,Yi,null),A(this,zo,null))}remove(){var e,t,i;if((e=d(this,qo))==null||e.abort(),A(this,qo,null),(t=d(this,Yi))==null||t.remove(),A(this,Yi,null),A(this,cl,!1),A(this,Gs,!1),(i=d(this,Bt))==null||i.remove(),A(this,Bt,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){A(this,cl,this.isVisible),d(this,cl)&&(d(this,Lt).hidden=!0)}maybeShow(){d(this,Xi)||(k(this,Pe,Jv).call(this),d(this,cl)&&(d(this,Yi)||k(this,Pe,jv).call(this),A(this,cl,!1),d(this,Lt).hidden=!1))}get isVisible(){return d(this,Xi)?!1:d(this,Lt).hidden===!1}}Xi=new WeakMap,ol=new WeakMap,F1=new WeakMap,P1=new WeakMap,qh=new WeakMap,zh=new WeakMap,Lt=new WeakMap,zs=new WeakMap,al=new WeakMap,eu=new WeakMap,Gh=new WeakMap,$h=new WeakMap,Gs=new WeakMap,Yi=new WeakMap,qo=new WeakMap,zo=new WeakMap,Bt=new WeakMap,Go=new WeakMap,ll=new WeakMap,Hm=new WeakMap,$o=new WeakMap,Xh=new WeakMap,tu=new WeakMap,cl=new WeakMap,dn=new WeakMap,ul=new WeakMap,Pe=new WeakSet,Jv=function(){var t;if(d(this,qo))return;A(this,qo,new AbortController);const{signal:e}=d(this,qo);for(const i of this.trigger)i.addEventListener("click",d(this,qh),{signal:e}),i.addEventListener("pointerenter",d(this,P1),{signal:e}),i.addEventListener("pointerleave",d(this,F1),{signal:e}),i.classList.add("popupTriggerArea");for(const i of d(this,eu))(t=i.container)==null||t.addEventListener("keydown",d(this,ol),{signal:e})},Lw=function(){const e=d(this,eu).find(t=>t.hasCommentButton);e&&A(this,Go,e._normalizePoint(e.commentButtonPosition))},Bw=function(){if(d(this,dn).extraPopupElement&&!d(this,dn).editor)return;d(this,Bt)||this.renderCommentButton();const[e,t]=d(this,Go),{style:i}=d(this,Bt);i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`},Ow=function(){d(this,dn).extraPopupElement||(d(this,Bt)||this.renderCommentButton(),d(this,Bt).style.backgroundColor=this.commentButtonColor||"")},Qv=function(){const e=d(this,$o),t=d(this,zs);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&d(this,$o).html||null},Ww=function(){var e,t,i;return((i=(t=(e=d(this,Pe,Qv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},pP=function(){var e,t,i;return((i=(t=(e=d(this,Pe,Qv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},gP=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:d(this,Pe,pP),fontSize:d(this,Pe,Ww)?`calc(${d(this,Pe,Ww)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},mP=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&d(this,Gs))&&k(this,Pe,Zv).call(this)},yP=function(){if(d(this,zo)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=d(this,Gh);let o=!!d(this,$h),a=o?d(this,$h):d(this,Hm);for(const _ of d(this,eu))if(!a||ye.intersect(_.data.rect,a)!==null){a=_.data.rect,o=!0;break}const l=ye.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,h=l[0]+u,f=l[1];A(this,zo,[100*(h-r)/t,100*(f-s)/i]);const{style:g}=d(this,Lt);g.left=`${d(this,zo)[0]}%`,g.top=`${d(this,zo)[1]}%`},Zv=function(){if(d(this,Xi)){d(this,Xi).toggleCommentPopup(this,!1);return}A(this,Gs,!d(this,Gs)),d(this,Gs)?(k(this,Pe,jv).call(this),d(this,Lt).addEventListener("click",d(this,qh)),d(this,Lt).addEventListener("keydown",d(this,ol))):(k(this,Pe,Vw).call(this),d(this,Lt).removeEventListener("click",d(this,qh)),d(this,Lt).removeEventListener("keydown",d(this,ol)))},jv=function(){d(this,Yi)||this.render(),this.isVisible?d(this,Gs)&&d(this,Lt).classList.add("focused"):(k(this,Pe,yP).call(this),d(this,Lt).hidden=!1,d(this,Lt).style.zIndex=parseInt(d(this,Lt).style.zIndex)+1e3)},Vw=function(){d(this,Lt).classList.remove("focused"),!(d(this,Gs)||!this.isVisible)&&(d(this,Lt).hidden=!0,d(this,Lt).style.zIndex=parseInt(d(this,Lt).style.zIndex)-1e3)};class vP extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ke.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var qm;class NO extends Ft{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,qm,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=A(this,qm,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return d(this,qm)}addHighlightArea(){this.container.classList.add("highlightArea")}}qm=new WeakMap;var zm;class LO extends Ft{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,zm,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=A(this,zm,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return d(this,zm)}addHighlightArea(){this.container.classList.add("highlightArea")}}zm=new WeakMap;var Gm;class BO extends Ft{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Gm,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=A(this,Gm,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",r/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return d(this,Gm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gm=new WeakMap;var $m;class bP extends Ft{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,$m,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s},width:o,height:a}=this;if(!i)return this.container;const l=this.svgFactory.create(o,a,!0);let c=[];for(let h=0,f=i.length;h<f;h+=2){const g=i[h]-t[0],_=t[3]-i[h+1];c.push(`${g},${_}`)}c=c.join(" ");const u=A(this,$m,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return d(this,$m)}addHighlightArea(){this.container.classList.add("highlightArea")}}$m=new WeakMap;class OO extends bP{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class WO extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var Xm,nu,Ym,Hw;class WT extends Ft{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Ym);I(this,Xm,null);I(this,nu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ke.HIGHLIGHT:ke.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:r,borderStyle:s,popupRef:o}}=this,{transform:a,width:l,height:c}=k(this,Ym,Hw).call(this,i,t),u=this.svgFactory.create(l,c,!0),h=A(this,Xm,this.svgFactory.createElement("svg:g"));u.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let f=0,g=r.length;f<g;f++){const _=this.svgFactory.createElement(this.svgElementName);d(this,nu).push(_),_.setAttribute("points",r[f].join(",")),h.append(_)}return!o&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:r,rect:s}=t,o=d(this,Xm);if(i>=0&&o.setAttribute("stroke-width",i||1),r)for(let a=0,l=d(this,nu).length;a<l;a++)d(this,nu)[a].setAttribute("points",r[a].join(","));if(s){const{transform:a,width:l,height:c}=k(this,Ym,Hw).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return d(this,nu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xm=new WeakMap,nu=new WeakMap,Ym=new WeakSet,Hw=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class _P extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ke.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class VO extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class HO extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class qO extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class DP extends Ft{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ke.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var Km,Jm,qw;class zO extends Ft{constructor(t){var r;super(t,{isRenderable:!0});I(this,Jm);I(this,Km,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",k(this,Jm,qw).bind(this)),A(this,Km,r);const{isMac:s}=ln.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&k(this,Jm,qw).call(this)}),!i.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return d(this,Km)}addHighlightArea(){this.container.classList.add("highlightArea")}}Km=new WeakMap,Jm=new WeakSet,qw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var iu,ru,Yh,dl,Qm,su,Ki,Zm,oa,e0,Gw;const xA=class xA{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:a,commentManager:l,linkService:c,annotationStorage:u}){I(this,oa);I(this,iu,null);I(this,ru,null);I(this,Yh,null);I(this,dl,new Map);I(this,Qm,null);I(this,su,null);I(this,Ki,[]);I(this,Zm,!1);this.div=e,A(this,iu,t),A(this,ru,i),A(this,Qm,a||null),A(this,su,c||null),A(this,Yh,u||new NT),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=l||null}hasEditableAnnotations(){return d(this,dl).size>0}async render(e){var a;const{annotations:t}=e,i=this.div;Fu(i,this.viewport);const r=new Map,s=[],o={data:null,layer:i,linkService:d(this,su),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new j0,annotationStorage:d(this,Yh),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===Kt.POPUP;if(c){const f=r.get(l.id);if(!f)continue;if(!this._commentManager){s.push(l);continue}o.elements=f}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const u=L2.create(o);if(!u.isRenderable)continue;if(!c&&(d(this,Ki).push(u),l.popupRef)){const f=r.get(l.popupRef);f?f.push(u):r.set(l.popupRef,[u])}const h=u.render();l.hidden&&(h.style.visibility="hidden"),u._isEditable&&(d(this,dl).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}await k(this,oa,e0).call(this);for(const l of s){const c=o.elements=r.get(l.id);o.data=l;const u=L2.create(o);if(!u.isRenderable)continue;const h=u.render();u.contentElement.id=`${xd}${l.id}`,l.hidden&&(h.style.visibility="hidden"),c.at(-1).container.after(h)}k(this,oa,Gw).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:d(this,su),svgFactory:new j0,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=xA._defaultBorderStyle),t.data=i;const r=L2.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${xd}${i.id}`,d(this,Ki).push(r))}await k(this,oa,e0).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Fu(t,{rotation:e.rotation}),k(this,oa,Gw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(d(this,dl).values())}getEditableAnnotation(e){return d(this,dl).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new SO({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:d(this,su),annotationStorage:d(this,Yh)});return s.render(),s.contentElement.id=`${xd}${i}`,s.createOrUpdatePopup(),d(this,Ki).push(s),s}removeAnnotation(e){var r;const t=d(this,Ki).findIndex(s=>s.data.id===e);if(t<0)return;const[i]=d(this,Ki).splice(t,1);(r=d(this,iu))==null||r.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);k(this,oa,e0).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Ue(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:nd.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};iu=new WeakMap,ru=new WeakMap,Yh=new WeakMap,dl=new WeakMap,Qm=new WeakMap,su=new WeakMap,Ki=new WeakMap,Zm=new WeakMap,oa=new WeakSet,e0=async function(){var i,r,s;if(d(this,Ki).length===0)return;this.div.replaceChildren();const e=[];if(!d(this,Zm)){A(this,Zm,!0);for(const{contentElement:o,data:{id:a}}of d(this,Ki)){const l=o.id=`${xd}${a}`;e.push((i=d(this,Qm))==null?void 0:i.getAriaAttributes(l).then(c=>{if(c)for(const[u,h]of c)o.setAttribute(u,h)}))}}d(this,Ki).sort(({data:{rect:[o,a,l,c]}},{data:{rect:[u,h,f,g]}})=>{if(o===l&&a===c)return 1;if(u===f&&h===g)return-1;const _=c,m=a,D=(a+c)/2,y=g,b=h,w=(h+g)/2;if(D>=y&&w<=m)return-1;if(w>=_&&D<=b)return 1;const x=(o+l)/2,T=(u+f)/2;return x-T});const t=document.createDocumentFragment();for(const o of d(this,Ki))t.append(o.container),this._commentManager?(s=((r=o.extraPopupElement)==null?void 0:r.popup)||o.popup)==null||s.renderCommentButton():o.extraPopupElement&&t.append(o.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),d(this,iu))for(const o of d(this,Ki))d(this,iu).addPointerInTextLayer(o.contentElement,!1)},Gw=function(){var t;if(!d(this,ru))return;const e=this.div;for(const[i,r]of d(this,ru)){const s=e.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):s.append(r);const a=d(this,dl).get(i);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,s.id,r),a._hasNoCanvas=!1):a.canvas=r)}d(this,ru).clear()};let zw=xA;const lv=/\r\n?|\n/g;var Ji,jm,ou,Qi,Zt,wP,xP,TP,t0,aa,n0,i0,EP,Xw,AP;const xt=class xt extends bt{constructor(t){super({...t,name:"freeTextEditor"});I(this,Zt);I(this,Ji,"");I(this,jm,`${this.id}-editor`);I(this,ou,null);I(this,Qi);he(this,"_colorPicker",null);this.color=t.color||xt._defaultColor||bt._defaultLineColor,A(this,Qi,t.fontSize||xt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=xt.prototype,i=o=>o.isEmpty(),r=Pu.TRANSLATE_SMALL,s=Pu.TRANSLATE_BIG;return Ue(this,"_keyboardManager",new Ay([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){bt.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case Ge.FREETEXT_SIZE:xt._defaultFontSize=i;break;case Ge.FREETEXT_COLOR:xt._defaultColor=i;break}}updateParams(t,i){switch(t){case Ge.FREETEXT_SIZE:k(this,Zt,wP).call(this,i);break;case Ge.FREETEXT_COLOR:k(this,Zt,xP).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Ge.FREETEXT_SIZE,xt._defaultFontSize],[Ge.FREETEXT_COLOR,xt._defaultColor||bt._defaultLineColor]]}get propertiesToUpdate(){return[[Ge.FREETEXT_SIZE,d(this,Qi)],[Ge.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Z0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ge.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-xt._internalPadding*t,-(xt._internalPadding+d(this,Qi))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),A(this,ou,new AbortController);const t=this._uiManager.combinedSignal(d(this,ou));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,jm)),this._isDraggable=!0,(t=d(this,ou))==null||t.abort(),A(this,ou,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=d(this,Ji),i=A(this,Ji,k(this,Zt,TP).call(this).trimEnd());if(t===i)return;const r=s=>{if(A(this,Ji,s),!s){this.remove();return}k(this,Zt,i0).call(this),this._uiManager.rebuild(this),k(this,Zt,t0).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),k(this,Zt,t0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){xt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,jm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${d(this,Qi)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,h]=this.pageDimensions,[f,g]=this.pageTranslation;let _,m;switch(this.rotation){case 0:_=t+(a[0]-f)/u,m=i+this.height-(a[1]-g)/h;break;case 90:_=t+(a[0]-f)/u,m=i-(a[1]-g)/h,[l,c]=[c,-l];break;case 180:_=t-this.width+(a[0]-f)/u,m=i-(a[1]-g)/h,[l,c]=[-l,-c];break;case 270:_=t+(a[0]-f-this.height*h)/u,m=i+(a[1]-g-this.width*u)/h,[l,c]=[-c,l];break}this.setAt(_*s,m*o,l,c)}else this._moveAfterPaste(t,i);k(this,Zt,i0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var _,m,D;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=k(_=xt,aa,Xw).call(_,i.getData("text")||"").replaceAll(lv,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],h=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(lv,"")),y!==this.editorDiv){let b=u;for(const w of this.editorDiv.childNodes){if(w===y){b=h;continue}b.push(k(m=xt,aa,n0).call(m,w))}}u.push(l.nodeValue.slice(0,c).replaceAll(lv,""))}else if(l===this.editorDiv){let y=u,b=0;for(const w of this.editorDiv.childNodes)b++===c&&(y=h),y.push(k(D=xt,aa,n0).call(D,w))}A(this,Ji,`${u.join(`
`)}${s}${h.join(`
`)}`),k(this,Zt,i0).call(this);const f=new Range;let g=Math.sumPrecise(u.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const b=y.nodeValue.length;if(g<=b){f.setStart(y,g),f.setEnd(y,g);break}g-=b}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=xt._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,r){var a;let s=null;if(t instanceof vP){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:h,id:f,popupRef:g,richText:_,contentsObj:m,creationDate:D,modificationDate:y},textContent:b,textPosition:w,parent:{page:{pageNumber:x}}}=t;if(!b||b.length===0)return null;s=t={annotationType:ke.FREETEXT,color:Array.from(c),fontSize:l,value:b.join(`
`),position:w,pageIndex:x-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:g,comment:(m==null?void 0:m.str)||null,richText:_,creationDate:D,modificationDate:y}}const o=await super.deserialize(t,i,r);return A(o,Qi,t.fontSize),o.color=ye.makeHexColor(...t.color),A(o,Ji,k(a=xt,aa,Xw).call(a,t.value)),o._initialData=s,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=bt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:i,fontSize:d(this,Qi),value:k(this,Zt,EP).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!k(this,Zt,AP).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${d(this,Qi)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const s of d(this,Ji).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),i.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:d(this,Ji)}}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ji=new WeakMap,jm=new WeakMap,ou=new WeakMap,Qi=new WeakMap,Zt=new WeakSet,wP=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-d(this,Qi))*this.parentScale),A(this,Qi,s),k(this,Zt,t0).call(this)},r=d(this,Qi);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xP=function(t){const i=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},TP=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(k(r=xt,aa,n0).call(r,s)),i=s);return t.join(`
`)},t0=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},aa=new WeakSet,n0=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(lv,"")},i0=function(){if(this.editorDiv.replaceChildren(),!!d(this,Ji))for(const t of d(this,Ji).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},EP=function(){return d(this,Ji).replaceAll(""," ")},Xw=function(t){return t.replaceAll(" ","")},AP=function(t){const{value:i,fontSize:r,color:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},I(xt,aa),he(xt,"_freeTextDefaultContent",""),he(xt,"_internalPadding",0),he(xt,"_defaultColor",null),he(xt,"_defaultFontSize",10),he(xt,"_type","freetext"),he(xt,"_editorType",ke.FREETEXT);let $w=xt;class be{toSVGPath(){pt("Abstract method `toSVGPath` must be implemented.")}get box(){pt("Abstract getter `box` must be implemented.")}serialize(e,t){pt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*r,o[a+1]=i+e[a+1]*s;return o}static _rescaleAndSwap(e,t,i,r,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*r,o[a+1]=i+e[a]*s;return o}static _translate(e,t,i,r){r||(r=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,o){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+o)/6,(i+s)/2,(r+o)/2]}}he(be,"PRECISION",1e-4);var Zi,ss,Kh,Jh,$s,Be,au,lu,ey,ty,Qh,Zh,hl,ny,M1,N1,an,Up,CP,SP,UP,IP,kP,RP;const vo=class vo{constructor({x:e,y:t},i,r,s,o,a=0){I(this,an);I(this,Zi);I(this,ss,[]);I(this,Kh);I(this,Jh);I(this,$s,[]);I(this,Be,new Float32Array(18));I(this,au);I(this,lu);I(this,ey);I(this,ty);I(this,Qh);I(this,Zh);I(this,hl,[]);A(this,Zi,i),A(this,Zh,s*r),A(this,Jh,o),d(this,Be).set([NaN,NaN,NaN,NaN,e,t],6),A(this,Kh,a),A(this,ty,d(vo,ny)*r),A(this,ey,d(vo,N1)*r),A(this,Qh,r),d(this,hl).push(e,t)}isEmpty(){return isNaN(d(this,Be)[8])}add({x:e,y:t}){var P;A(this,au,e),A(this,lu,t);const[i,r,s,o]=d(this,Zi);let[a,l,c,u]=d(this,Be).subarray(8,12);const h=e-c,f=t-u,g=Math.hypot(h,f);if(g<d(this,ey))return!1;const _=g-d(this,ty),m=_/g,D=m*h,y=m*f;let b=a,w=l;a=c,l=u,c+=D,u+=y,(P=d(this,hl))==null||P.push(e,t);const x=-y/_,T=D/_,E=x*d(this,Zh),C=T*d(this,Zh);return d(this,Be).set(d(this,Be).subarray(2,8),0),d(this,Be).set([c+E,u+C],4),d(this,Be).set(d(this,Be).subarray(14,18),12),d(this,Be).set([c-E,u-C],16),isNaN(d(this,Be)[6])?(d(this,$s).length===0&&(d(this,Be).set([a+E,l+C],2),d(this,$s).push(NaN,NaN,NaN,NaN,(a+E-i)/s,(l+C-r)/o),d(this,Be).set([a-E,l-C],14),d(this,ss).push(NaN,NaN,NaN,NaN,(a-E-i)/s,(l-C-r)/o)),d(this,Be).set([b,w,a,l,c,u],6),!this.isEmpty()):(d(this,Be).set([b,w,a,l,c,u],6),Math.abs(Math.atan2(w-l,b-a)-Math.atan2(y,D))<Math.PI/2?([a,l,c,u]=d(this,Be).subarray(2,6),d(this,$s).push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((l+u)/2-r)/o),[a,l,b,w]=d(this,Be).subarray(14,18),d(this,ss).push(NaN,NaN,NaN,NaN,((b+a)/2-i)/s,((w+l)/2-r)/o),!0):([b,w,a,l,c,u]=d(this,Be).subarray(0,6),d(this,$s).push(((b+5*a)/6-i)/s,((w+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),[c,u,a,l,b,w]=d(this,Be).subarray(12,18),d(this,ss).push(((b+5*a)/6-i)/s,((w+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=d(this,$s),t=d(this,ss);if(isNaN(d(this,Be)[6])&&!this.isEmpty())return k(this,an,CP).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);k(this,an,UP).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return k(this,an,SP).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,o){return new FP(e,t,i,r,s,o)}getOutlines(){var h;const e=d(this,$s),t=d(this,ss),i=d(this,Be),[r,s,o,a]=d(this,Zi),l=new Float32Array((((h=d(this,hl))==null?void 0:h.length)??0)+2);for(let f=0,g=l.length-2;f<g;f+=2)l[f]=(d(this,hl)[f]-r)/o,l[f+1]=(d(this,hl)[f+1]-s)/a;if(l[l.length-2]=(d(this,au)-r)/o,l[l.length-1]=(d(this,lu)-s)/a,isNaN(i[6])&&!this.isEmpty())return k(this,an,IP).call(this,l);const c=new Float32Array(d(this,$s).length+24+d(this,ss).length);let u=e.length;for(let f=0;f<u;f+=2){if(isNaN(e[f])){c[f]=c[f+1]=NaN;continue}c[f]=e[f],c[f+1]=e[f+1]}u=k(this,an,RP).call(this,c,u);for(let f=t.length-6;f>=6;f-=6)for(let g=0;g<6;g+=2){if(isNaN(t[f+g])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=t[f+g],c[u+1]=t[f+g+1],u+=2}return k(this,an,kP).call(this,c,u),this.newFreeDrawOutline(c,l,d(this,Zi),d(this,Qh),d(this,Kh),d(this,Jh))}};Zi=new WeakMap,ss=new WeakMap,Kh=new WeakMap,Jh=new WeakMap,$s=new WeakMap,Be=new WeakMap,au=new WeakMap,lu=new WeakMap,ey=new WeakMap,ty=new WeakMap,Qh=new WeakMap,Zh=new WeakMap,hl=new WeakMap,ny=new WeakMap,M1=new WeakMap,N1=new WeakMap,an=new WeakSet,Up=function(){const e=d(this,Be).subarray(4,6),t=d(this,Be).subarray(16,18),[i,r,s,o]=d(this,Zi);return[(d(this,au)+(e[0]-t[0])/2-i)/s,(d(this,lu)+(e[1]-t[1])/2-r)/o,(d(this,au)+(t[0]-e[0])/2-i)/s,(d(this,lu)+(t[1]-e[1])/2-r)/o]},CP=function(){const[e,t,i,r]=d(this,Zi),[s,o,a,l]=k(this,an,Up).call(this);return`M${(d(this,Be)[2]-e)/i} ${(d(this,Be)[3]-t)/r} L${(d(this,Be)[4]-e)/i} ${(d(this,Be)[5]-t)/r} L${s} ${o} L${a} ${l} L${(d(this,Be)[16]-e)/i} ${(d(this,Be)[17]-t)/r} L${(d(this,Be)[14]-e)/i} ${(d(this,Be)[15]-t)/r} Z`},SP=function(e){const t=d(this,ss);e.push(`L${t[4]} ${t[5]} Z`)},UP=function(e){const[t,i,r,s]=d(this,Zi),o=d(this,Be).subarray(4,6),a=d(this,Be).subarray(16,18),[l,c,u,h]=k(this,an,Up).call(this);e.push(`L${(o[0]-t)/r} ${(o[1]-i)/s} L${l} ${c} L${u} ${h} L${(a[0]-t)/r} ${(a[1]-i)/s}`)},IP=function(e){const t=d(this,Be),[i,r,s,o]=d(this,Zi),[a,l,c,u]=k(this,an,Up).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/o],0),this.newFreeDrawOutline(h,e,d(this,Zi),d(this,Qh),d(this,Kh),d(this,Jh))},kP=function(e,t){const i=d(this,ss);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},RP=function(e,t){const i=d(this,Be).subarray(4,6),r=d(this,Be).subarray(16,18),[s,o,a,l]=d(this,Zi),[c,u,h,f]=k(this,an,Up).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l],t),t+=24},I(vo,ny,8),I(vo,M1,2),I(vo,N1,d(vo,ny)+d(vo,M1));let e1=vo;var jh,cu,Xo,iy,ji,ry,qt,L1,PP;class FP extends be{constructor(t,i,r,s,o,a){super();I(this,L1);I(this,jh);I(this,cu,new Float32Array(4));I(this,Xo);I(this,iy);I(this,ji);I(this,ry);I(this,qt);A(this,qt,t),A(this,ji,i),A(this,jh,r),A(this,ry,s),A(this,Xo,o),A(this,iy,a),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],k(this,L1,PP).call(this,a);const[l,c,u,h]=d(this,cu);for(let f=0,g=t.length;f<g;f+=2)t[f]=(t[f]-l)/u,t[f+1]=(t[f+1]-c)/h;for(let f=0,g=i.length;f<g;f+=2)i[f]=(i[f]-l)/u,i[f+1]=(i[f+1]-c)/h}toSVGPath(){const t=[`M${d(this,qt)[4]} ${d(this,qt)[5]}`];for(let i=6,r=d(this,qt).length;i<r;i+=6){if(isNaN(d(this,qt)[i])){t.push(`L${d(this,qt)[i+4]} ${d(this,qt)[i+5]}`);continue}t.push(`C${d(this,qt)[i]} ${d(this,qt)[i+1]} ${d(this,qt)[i+2]} ${d(this,qt)[i+3]} ${d(this,qt)[i+4]} ${d(this,qt)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],o){const a=r-t,l=s-i;let c,u;switch(o){case 0:c=be._rescale(d(this,qt),t,s,a,-l),u=be._rescale(d(this,ji),t,s,a,-l);break;case 90:c=be._rescaleAndSwap(d(this,qt),t,i,a,l),u=be._rescaleAndSwap(d(this,ji),t,i,a,l);break;case 180:c=be._rescale(d(this,qt),r,i,-a,l),u=be._rescale(d(this,ji),r,i,-a,l);break;case 270:c=be._rescaleAndSwap(d(this,qt),r,s,-a,-l),u=be._rescaleAndSwap(d(this,ji),r,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return d(this,cu)}newOutliner(t,i,r,s,o,a=0){return new e1(t,i,r,s,o,a)}getNewOutline(t,i){const[r,s,o,a]=d(this,cu),[l,c,u,h]=d(this,jh),f=o*u,g=a*h,_=r*u+l,m=s*h+c,D=this.newOutliner({x:d(this,ji)[0]*f+_,y:d(this,ji)[1]*g+m},d(this,jh),d(this,ry),t,d(this,iy),i??d(this,Xo));for(let y=2;y<d(this,ji).length;y+=2)D.add({x:d(this,ji)[y]*f+_,y:d(this,ji)[y+1]*g+m});return D.getOutlines()}}jh=new WeakMap,cu=new WeakMap,Xo=new WeakMap,iy=new WeakMap,ji=new WeakMap,ry=new WeakMap,qt=new WeakMap,L1=new WeakSet,PP=function(t){const i=d(this,qt);let r=i[4],s=i[5];const o=[r,s,r,s];let a=r,l=s,c=r,u=s;const h=t?Math.max:Math.min,f=new Float32Array(4);for(let _=6,m=i.length;_<m;_+=6){const D=i[_+4],y=i[_+5];isNaN(i[_])?(ye.pointBoundingBox(D,y,o),l>y?(a=D,l=y):l===y&&(a=h(a,D)),u<y?(c=D,u=y):u===y&&(c=h(c,D))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,ye.bezierBoundingBox(r,s,...i.slice(_,_+6),f),ye.rectBoundingBox(f[0],f[1],f[2],f[3],o),l>f[1]?(a=f[0],l=f[1]):l===f[1]&&(a=h(a,f[0])),u<f[3]?(c=f[2],u=f[3]):u===f[3]&&(c=h(c,f[2]))),r=D,s=y}const g=d(this,cu);g[0]=o[0]-d(this,Xo),g[1]=o[1]-d(this,Xo),g[2]=o[2]-o[0]+2*d(this,Xo),g[3]=o[3]-o[1]+2*d(this,Xo),this.firstPoint=[a,l],this.lastPoint=[c,u]};var sy,oy,ay,fl,os,di,MP,r0,NP,LP,Kw;class Yw{constructor(e,t=0,i=0,r=!0){I(this,di);I(this,sy);I(this,oy);I(this,ay);I(this,fl,[]);I(this,os,[]);const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:m,y:D,width:y,height:b}of e){const w=Math.floor((m-t)/o)*o,x=Math.ceil((m+y+t)/o)*o,T=Math.floor((D-t)/o)*o,E=Math.ceil((D+b+t)/o)*o,C=[w,T,E,!0],F=[x,T,E,!1];d(this,fl).push(C,F),ye.rectBoundingBox(w,T,x,E,s)}const a=s[2]-s[0]+2*i,l=s[3]-s[1]+2*i,c=s[0]-i,u=s[1]-i;let h=r?-1/0:1/0,f=1/0;const g=d(this,fl).at(r?-1:-2),_=[g[0],g[2]];for(const m of d(this,fl)){const[D,y,b,w]=m;!w&&r?y<f?(f=y,h=D):y===f&&(h=Math.max(h,D)):w&&!r&&(y<f?(f=y,h=D):y===f&&(h=Math.min(h,D))),m[0]=(D-c)/a,m[1]=(y-u)/l,m[2]=(b-u)/l}A(this,sy,new Float32Array([c,u,a,l])),A(this,oy,[h,f]),A(this,ay,_)}getOutlines(){d(this,fl).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of d(this,fl))t[3]?(e.push(...k(this,di,Kw).call(this,t)),k(this,di,NP).call(this,t)):(k(this,di,LP).call(this,t),e.push(...k(this,di,Kw).call(this,t)));return k(this,di,MP).call(this,e)}}sy=new WeakMap,oy=new WeakMap,ay=new WeakMap,fl=new WeakMap,os=new WeakMap,di=new WeakSet,MP=function(e){const t=[],i=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[a,l,c,u,h]=o;i.delete(o);let f=a,g=l;for(s=[a,c],r.push(s);;){let _;if(i.has(u))_=u;else if(i.has(h))_=h;else break;i.delete(_),[a,l,c,u,h]=_,f!==a&&(s.push(f,g,a,g===l?l:c),f=a),g=g===l?c:l}s.push(f,g)}return new GO(r,d(this,sy),d(this,oy),d(this,ay))},r0=function(e){const t=d(this,os);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1},NP=function([,e,t]){const i=k(this,di,r0).call(this,e);d(this,os).splice(i,0,[e,t])},LP=function([,e,t]){const i=k(this,di,r0).call(this,e);for(let r=i;r<d(this,os).length;r++){const[s,o]=d(this,os)[r];if(s!==e)break;if(s===e&&o===t){d(this,os).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=d(this,os)[r];if(s!==e)break;if(s===e&&o===t){d(this,os).splice(r,1);return}}},Kw=function(e){const[t,i,r]=e,s=[[t,i,r]],o=k(this,di,r0).call(this,r);for(let a=0;a<o;a++){const[l,c]=d(this,os)[a];for(let u=0,h=s.length;u<h;u++){const[,f,g]=s[u];if(!(c<=f||g<=l)){if(f>=l){if(g>c)s[u][1]=c;else{if(h===1)return[];s.splice(u,1),u--,h--}continue}s[u][2]=l,g>c&&s.push([t,c,g])}}}return s};var ly,ef;class GO extends be{constructor(t,i,r,s){super();I(this,ly);I(this,ef);A(this,ef,t),A(this,ly,i),this.firstPoint=r,this.lastPoint=s}toSVGPath(){const t=[];for(const i of d(this,ef)){let[r,s]=i;t.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const a=i[o],l=i[o+1];a===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],o){const a=[],l=r-t,c=s-i;for(const u of d(this,ef)){const h=new Array(u.length);for(let f=0;f<u.length;f+=2)h[f]=t+u[f]*l,h[f+1]=s-u[f+1]*c;a.push(h)}return a}get box(){return d(this,ly)}get classNamesForOutlining(){return["highlightOutline"]}}ly=new WeakMap,ef=new WeakMap;class Jw extends e1{newFreeDrawOutline(e,t,i,r,s,o){return new $O(e,t,i,r,s,o)}}class $O extends FP{newOutliner(e,t,i,r,s,o=0){return new Jw(e,t,i,r,s,o)}}var tf,cy,Yo,uu,uy,xi,dy,hy,du,er,tr,An,nf,rf,$n,sf,kr,fy,Fe,Qw,s0,BP,OP,WP,Zw,nc,Nr,ld,VP,o0,a0,HP,qP,zP,GP,$P;const Ze=class Ze extends bt{constructor(t){super({...t,name:"highlightEditor"});I(this,Fe);I(this,tf,null);I(this,cy,0);I(this,Yo);I(this,uu,null);I(this,uy,null);I(this,xi,null);I(this,dy,null);I(this,hy,0);I(this,du,null);I(this,er,null);I(this,tr,null);I(this,An,!1);I(this,nf,null);I(this,rf,null);I(this,$n,null);I(this,sf,"");I(this,kr);I(this,fy,"");this.color=t.color||Ze._defaultColor,A(this,kr,t.thickness||Ze._defaultThickness),this.opacity=t.opacity||Ze._defaultOpacity,A(this,Yo,t.boxes||null),A(this,fy,t.methodOfCreation||""),A(this,sf,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(A(this,An,!0),k(this,Fe,s0).call(this,t),k(this,Fe,nc).call(this)):d(this,Yo)&&(A(this,tf,t.anchorNode),A(this,cy,t.anchorOffset),A(this,dy,t.focusNode),A(this,hy,t.focusOffset),k(this,Fe,Qw).call(this),k(this,Fe,nc).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ze.prototype;return Ue(this,"_keyboardManager",new Ay([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,An)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:d(this,kr),methodOfCreation:d(this,fy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;bt.initialize(t,i),Ze._defaultColor||(Ze._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case Ge.HIGHLIGHT_COLOR:Ze._defaultColor=i;break;case Ge.HIGHLIGHT_THICKNESS:Ze._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return d(this,rf)}get commentButtonPosition(){return d(this,nf)}updateParams(t,i){switch(t){case Ge.HIGHLIGHT_COLOR:k(this,Fe,BP).call(this,i);break;case Ge.HIGHLIGHT_THICKNESS:k(this,Fe,OP).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Ge.HIGHLIGHT_COLOR,Ze._defaultColor],[Ge.HIGHLIGHT_THICKNESS,Ze._defaultThickness]]}get propertiesToUpdate(){return[[Ge.HIGHLIGHT_COLOR,this.color||Ze._defaultColor],[Ge.HIGHLIGHT_THICKNESS,d(this,kr)||Ze._defaultThickness],[Ge.HIGHLIGHT_FREE,d(this,An)]]}onUpdatedColor(){var t,i;(t=this.parent)==null||t.drawLayer.updateProperties(d(this,tr),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=d(this,uy))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",A(this,uy,new Q0({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,Fe,a0).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,k(this,Fe,a0).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){k(this,Fe,Zw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Fe,nc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?k(this,Fe,Zw).call(this):t&&(k(this,Fe,nc).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,o,a;const{drawLayer:i}=this.parent;let r;d(this,An)?(t=(t-this.rotation+360)%360,r=k(s=Ze,Nr,ld).call(s,d(this,er).box,t)):r=k(o=Ze,Nr,ld).call(o,[this.x,this.y,this.width,this.height],t),i.updateProperties(d(this,tr),{bbox:r,root:{"data-main-rotation":t}}),i.updateProperties(d(this,$n),{bbox:k(a=Ze,Nr,ld).call(a,d(this,xi).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();d(this,sf)&&(t.setAttribute("aria-label",d(this,sf)),t.setAttribute("role","mark")),d(this,An)?t.classList.add("free"):this.div.addEventListener("keydown",k(this,Fe,VP).bind(this),{signal:this._uiManager._signal});const i=A(this,du,document.createElement("div"));return t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=d(this,uu),this.setDims(),d3(this,d(this,du),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(d(this,$n),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(d(this,$n),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:k(this,Fe,o0).call(this,!0);break;case 1:case 3:k(this,Fe,o0).call(this,!1);break}}select(){var t;super.select(),d(this,$n)&&((t=this.parent)==null||t.drawLayer.updateProperties(d(this,$n),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),d(this,$n)&&((t=this.parent)==null||t.drawLayer.updateProperties(d(this,$n),{rootClass:{selected:!1}}),d(this,An)||k(this,Fe,o0).call(this,!1))}get _mustFixPosition(){return!d(this,An)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(d(this,tr),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(d(this,$n),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:r,x:s,y:o}){const{x:a,y:l,width:c,height:u}=r.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),g=_=>{h.abort(),k(this,Nr,GP).call(this,t,_)};window.addEventListener("blur",g,{signal:f}),window.addEventListener("pointerup",g,{signal:f}),window.addEventListener("pointerdown",Vt,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Gr,{signal:f}),r.addEventListener("pointermove",k(this,Nr,zP).bind(this,t),{signal:f}),this._freeHighlight=new Jw({x:s,y:o},[a,l,c,u],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,r){var m,D,y,b;let s=null;if(t instanceof _P){const{data:{quadPoints:w,rect:x,rotation:T,id:E,color:C,opacity:F,popupRef:P,richText:O,contentsObj:Y,creationDate:R,modificationDate:V},parent:{page:{pageNumber:S}}}=t;s=t={annotationType:ke.HIGHLIGHT,color:Array.from(C),opacity:F,quadPoints:w,boxes:null,pageIndex:S-1,rect:x.slice(0),rotation:T,annotationElementId:E,id:E,deleted:!1,popupRef:P,richText:O,comment:(Y==null?void 0:Y.str)||null,creationDate:R,modificationDate:V}}else if(t instanceof WT){const{data:{inkLists:w,rect:x,rotation:T,id:E,color:C,borderStyle:{rawWidth:F},popupRef:P,richText:O,contentsObj:Y,creationDate:R,modificationDate:V},parent:{page:{pageNumber:S}}}=t;s=t={annotationType:ke.HIGHLIGHT,color:Array.from(C),thickness:F,inkLists:w,boxes:null,pageIndex:S-1,rect:x.slice(0),rotation:T,annotationElementId:E,id:E,deleted:!1,popupRef:P,richText:O,comment:(Y==null?void 0:Y.str)||null,creationDate:R,modificationDate:V}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=t,u=await super.deserialize(t,i,r);u.color=ye.makeHexColor(...o),u.opacity=c||1,l&&A(u,kr,t.thickness),u._initialData=s,t.comment&&u.setCommentData(t);const[h,f]=u.pageDimensions,[g,_]=u.pageTranslation;if(a){const w=A(u,Yo,[]);for(let x=0;x<a.length;x+=8)w.push({x:(a[x]-g)/h,y:1-(a[x+1]-_)/f,width:(a[x+2]-a[x])/h,height:(a[x+1]-a[x+5])/f});k(m=u,Fe,Qw).call(m),k(D=u,Fe,nc).call(D),u.rotate(u.rotation)}else if(l){A(u,An,!0);const w=l[0],x={x:w[0]-g,y:f-(w[1]-_)},T=new Jw(x,[0,0,h,f],1,d(u,kr)/2,!0,.001);for(let F=0,P=w.length;F<P;F+=2)x.x=w[F]-g,x.y=f-(w[F+1]-_),T.add(x);const{id:E,clipPathId:C}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);k(y=u,Fe,s0).call(y,{highlightOutlines:T.getOutlines(),highlightId:E,clipPathId:C}),k(b=u,Fe,nc).call(b),u.rotate(u.parentRotation)}return u}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=bt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:i,opacity:this.opacity,thickness:d(this,kr),quadPoints:k(this,Fe,HP).call(this),outlines:k(this,Fe,qP).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!k(this,Fe,$P).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};tf=new WeakMap,cy=new WeakMap,Yo=new WeakMap,uu=new WeakMap,uy=new WeakMap,xi=new WeakMap,dy=new WeakMap,hy=new WeakMap,du=new WeakMap,er=new WeakMap,tr=new WeakMap,An=new WeakMap,nf=new WeakMap,rf=new WeakMap,$n=new WeakMap,sf=new WeakMap,kr=new WeakMap,fy=new WeakMap,Fe=new WeakSet,Qw=function(){const t=new Yw(d(this,Yo),.001);A(this,er,t.getOutlines()),[this.x,this.y,this.width,this.height]=d(this,er).box;const i=new Yw(d(this,Yo),.0025,.001,this._uiManager.direction==="ltr");A(this,xi,i.getOutlines());const{firstPoint:r}=d(this,er);A(this,nf,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:s}=d(this,xi);A(this,rf,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},s0=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var f,g;if(A(this,er,t),A(this,xi,t.getNewOutline(d(this,kr)/2+1.5,.0025)),i>=0)A(this,tr,i),A(this,uu,r),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),A(this,$n,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:d(this,xi).box,path:{d:d(this,xi).toSVGPath()}},!0));else if(this.parent){const _=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(d(this,tr),{bbox:k(f=Ze,Nr,ld).call(f,d(this,er).box,(_-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(d(this,$n),{bbox:k(g=Ze,Nr,ld).call(g,d(this,xi).box,_),path:{d:d(this,xi).toSVGPath()}})}const[o,a,l,c]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[_,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*m/_,this.height=c*_/m;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[_,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*m/_,this.height=c*_/m;break}}const{firstPoint:u}=t;A(this,nf,[(u[0]-o)/l,(u[1]-a)/c]);const{lastPoint:h}=d(this,xi);A(this,rf,[(h[0]-o)/l,(h[1]-a)/c])},BP=function(t){const i=(o,a)=>{this.color=o,this.opacity=a,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:i.bind(this,t,Ze._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},OP=function(t){const i=d(this,kr),r=s=>{A(this,kr,s),k(this,Fe,WP).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},WP=function(t){d(this,An)&&(k(this,Fe,s0).call(this,{highlightOutlines:d(this,er).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},Zw=function(){d(this,tr)===null||!this.parent||(this.parent.drawLayer.remove(d(this,tr)),A(this,tr,null),this.parent.drawLayer.remove(d(this,$n)),A(this,$n,null))},nc=function(t=this.parent){d(this,tr)===null&&({id:jt(this,tr)._,clipPathId:jt(this,uu)._}=t.drawLayer.draw({bbox:d(this,er).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:d(this,An)},path:{d:d(this,er).toSVGPath()}},!1,!0),A(this,$n,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:d(this,An)},bbox:d(this,xi).box,path:{d:d(this,xi).toSVGPath()}},d(this,An))),d(this,du)&&(d(this,du).style.clipPath=d(this,uu)))},Nr=new WeakSet,ld=function([t,i,r,s],o){switch(o){case 90:return[1-i-s,t,s,r];case 180:return[1-t-r,1-i-s,r,s];case 270:return[i,1-t-r,s,r]}return[t,i,r,s]},VP=function(t){Ze._keyboardManager.exec(this,t)},o0=function(t){if(!d(this,tf))return;const i=window.getSelection();t?i.setPosition(d(this,tf),d(this,cy)):i.setPosition(d(this,dy),d(this,hy))},a0=function(){return d(this,An)?this.rotation:0},HP=function(){if(d(this,An))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,o=d(this,Yo),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:u,width:h,height:f}of o){const g=c*t+r,_=(1-u)*i+s;a[l]=a[l+4]=g,a[l+1]=a[l+3]=_,a[l+2]=a[l+6]=g+h*t,a[l+5]=a[l+7]=_-f*i,l+=8}return a},qP=function(t){return d(this,er).serialize(t,k(this,Fe,a0).call(this))},zP=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},GP=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},$P=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((r,s)=>r!==i[s])},I(Ze,Nr),he(Ze,"_defaultColor",null),he(Ze,"_defaultOpacity",1),he(Ze,"_defaultThickness",12),he(Ze,"_type","highlight"),he(Ze,"_editorType",ke.HIGHLIGHT),he(Ze,"_freeHighlightId",-1),he(Ze,"_freeHighlight",null),he(Ze,"_freeHighlightClipId","");let t1=Ze;var hu;class XP{constructor(){I(this,hu,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){d(this,hu)[e]=t}toSVGProperties(){const e=d(this,hu);return A(this,hu,Object.create(null)),{root:e}}reset(){A(this,hu,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){pt("Not implemented")}}hu=new WeakMap;var nr,of,hn,fu,pu,Ye,jw,ex,tx,Ip,YP,l0,kp,cd;const Ve=class Ve extends bt{constructor(t){super(t);I(this,Ye);I(this,nr,null);I(this,of);he(this,"_colorPicker",null);he(this,"_drawId",null);A(this,of,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(k(this,Ye,jw).call(this,t),k(this,Ye,Ip).call(this))}static _mergeSVGProperties(t,i){const r=new Set(Object.keys(t));for(const[s,o]of Object.entries(i))r.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){pt("Not implemented")}static get typesMap(){pt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(d(Ve,hn).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,i[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,i[s]]);return t}_updateProperty(t,i,r){const s=this._drawingOptions,o=s[i],a=l=>{var u;s.updateProperty(i,l);const c=d(this,nr).updateProperty(i,l);c&&k(this,Ye,kp).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(d(this,nr).getPathResizingSVGProperties(k(this,Ye,l0).call(this)),{bbox:k(this,Ye,cd).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(d(this,nr).getPathResizedSVGProperties(k(this,Ye,l0).call(this)),{bbox:k(this,Ye,cd).call(this)}))}_onTranslating(t,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:k(this,Ye,cd).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(d(this,nr).getPathTranslatedSVGProperties(k(this,Ye,l0).call(this),this.parentDimensions),{bbox:k(this,Ye,cd).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,d(this,of)&&(A(this,of,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){k(this,Ye,tx).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Ye,Ip).call(this),k(this,Ye,kp).call(this,d(this,nr).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),k(this,Ye,tx).call(this)):t&&(this._uiManager.addShouldRescale(this),k(this,Ye,Ip).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties({bbox:k(this,Ye,cd).call(this)},d(this,nr).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&k(this,Ye,kp).call(this,d(this,nr).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),r}static createDrawerInstance(t,i,r,s,o){pt("Not implemented")}static startDrawing(t,i,r,s){var D;const{target:o,offsetX:a,offsetY:l,pointerId:c,pointerType:u}=s;if(Vn.isInitializedAndDifferentPointerType(u))return;const{viewport:{rotation:h}}=t,{width:f,height:g}=o.getBoundingClientRect(),_=A(Ve,fu,new AbortController),m=t.combinedSignal(_);if(Vn.setPointer(u,c),window.addEventListener("pointerup",y=>{Vn.isSamePointerIdOrRemove(y.pointerId)&&this._endDraw(y)},{signal:m}),window.addEventListener("pointercancel",y=>{Vn.isSamePointerIdOrRemove(y.pointerId)&&this._currentParent.endDrawingSession()},{signal:m}),window.addEventListener("pointerdown",y=>{Vn.isSamePointerType(y.pointerType)&&(Vn.initializeAndAddPointerId(y.pointerId),d(Ve,hn).isCancellable()&&(d(Ve,hn).removeLastElement(),d(Ve,hn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Gr,{signal:m}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),o.addEventListener("touchmove",y=>{Vn.isSameTimeStamp(y.timeStamp)&&Vt(y)},{signal:m}),t.toggleDrawing(),(D=i._editorUndoBar)==null||D.hide(),d(Ve,hn)){t.drawLayer.updateProperties(this._currentDrawId,d(Ve,hn).startNew(a,l,f,g,h));return}i.updateUIForDefaultProperties(this),A(Ve,hn,this.createDrawerInstance(a,l,f,g,h)),A(Ve,pu,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(d(Ve,pu).toSVGProperties(),d(Ve,hn).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Vn.isSameTimeStamp(t.timeStamp),!d(Ve,hn))return;const{offsetX:i,offsetY:r,pointerId:s}=t;if(Vn.isSamePointerId(s)){if(Vn.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,d(Ve,hn).add(i,r)),Vn.setTimeStamp(t.timeStamp),Vt(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,A(Ve,hn,null),A(Ve,pu,null),Vn.clearTimeStamp()),d(Ve,fu)&&(d(Ve,fu).abort(),A(Ve,fu,null),Vn.clearPointerIds())}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,d(Ve,hn).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=d(Ve,hn),s=this._currentDrawId,o=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:Ge.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(Ge.DRAW_STEP),!d(Ve,hn).isEmpty()){const{pageDimensions:[r,s],scale:o}=i,a=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:d(Ve,hn).getOutlines(r*o,s*o,o,this._INNER_MARGIN),drawingOptions:d(Ve,pu),mustBeCommitted:!t});return this._cleanup(!0),a}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,r,s,o,a){pt("Not implemented")}static async deserialize(t,i,r){var h,f;const{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}=i.viewport,c=this.deserializeDraw(a,l,s,o,this._INNER_MARGIN,t),u=await super.deserialize(t,i,r);return u.createDrawingOptions(t),k(h=u,Ye,jw).call(h,{drawOutlines:c}),k(f=u,Ye,Ip).call(f),u.onScaleChanging(),u.rotate(),u}serializeDraw(t){const[i,r]=this.pageTranslation,[s,o]=this.pageDimensions;return d(this,nr).serialize([i,r,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};nr=new WeakMap,of=new WeakMap,hn=new WeakMap,fu=new WeakMap,pu=new WeakMap,Ye=new WeakSet,jw=function({drawOutlines:t,drawId:i,drawingOptions:r}){A(this,nr,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=k(this,Ye,ex).call(this,t,this.parent),k(this,Ye,kp).call(this,t.box)},ex=function(t,i){const{id:r}=i.drawLayer.draw(Ve._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},tx=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Ip=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=k(this,Ye,ex).call(this,d(this,nr),t)}},YP=function([t,i,r,s]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[i,1-t,r*(a/o),s*(o/a)];case 180:return[1-t,1-i,r,s];case 270:return[1-i,t,r*(a/o),s*(o/a)];default:return[t,i,r,s]}},l0=function(){const{x:t,y:i,width:r,height:s,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-i,t,r*(o/a),s*(a/o)];case 180:return[1-t,1-i,r,s];case 270:return[i,1-t,r*(o/a),s*(a/o)];default:return[t,i,r,s]}},kp=function(t){[this.x,this.y,this.width,this.height]=k(this,Ye,YP).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},cd=function(){const{x:t,y:i,width:r,height:s,rotation:o,parentRotation:a,parentDimensions:[l,c]}=this;switch((o*4+a)/90){case 1:return[1-i-s,t,s,r];case 2:return[1-t-r,1-i-s,r,s];case 3:return[i,1-t-r,s,r];case 4:return[t,i-r*(l/c),s*(c/l),r*(l/c)];case 5:return[1-i,t,r*(l/c),s*(c/l)];case 6:return[1-t-s*(c/l),1-i,s*(c/l),r*(l/c)];case 7:return[i-r*(l/c),1-t-s*(c/l),r*(l/c),s*(c/l)];case 8:return[t-r,i-s,r,s];case 9:return[1-i,t-r,s,r];case 10:return[1-t,1-i,r,s];case 11:return[i-s,1-t,s,r];case 12:return[t-s*(c/l),i,s*(c/l),r*(l/c)];case 13:return[1-i-r*(l/c),t-s*(c/l),r*(l/c),s*(c/l)];case 14:return[1-t,1-i-r*(l/c),s*(c/l),r*(l/c)];case 15:return[i,1-t,r*(l/c),s*(c/l)];default:return[t,i,r,s]}},he(Ve,"_currentDrawId",-1),he(Ve,"_currentParent",null),I(Ve,hn,null),I(Ve,fu,null),I(Ve,pu,null),he(Ve,"_INNER_MARGIN",3);let n1=Ve;var Xs,fn,pn,gu,af,ni,Cn,Rr,mu,yu,vu,lf,c0;class XO{constructor(e,t,i,r,s,o){I(this,lf);I(this,Xs,new Float64Array(6));I(this,fn);I(this,pn);I(this,gu);I(this,af);I(this,ni);I(this,Cn,"");I(this,Rr,0);I(this,mu,new Sy);I(this,yu);I(this,vu);A(this,yu,i),A(this,vu,r),A(this,gu,s),A(this,af,o),[e,t]=k(this,lf,c0).call(this,e,t);const a=A(this,fn,[NaN,NaN,NaN,NaN,e,t]);A(this,ni,[e,t]),A(this,pn,[{line:a,points:d(this,ni)}]),d(this,Xs).set(a,0)}updateProperty(e,t){e==="stroke-width"&&A(this,af,t)}isEmpty(){return!d(this,pn)||d(this,pn).length===0}isCancellable(){return d(this,ni).length<=10}add(e,t){[e,t]=k(this,lf,c0).call(this,e,t);const[i,r,s,o]=d(this,Xs).subarray(2,6),a=e-s,l=t-o;return Math.hypot(d(this,yu)*a,d(this,vu)*l)<=2?null:(d(this,ni).push(e,t),isNaN(i)?(d(this,Xs).set([s,o,e,t],2),d(this,fn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(d(this,Xs)[0])&&d(this,fn).splice(6,6),d(this,Xs).set([i,r,s,o,e,t],0),d(this,fn).push(...be.createBezierPoints(i,r,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(d(this,ni).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){A(this,yu,i),A(this,vu,r),A(this,gu,s),[e,t]=k(this,lf,c0).call(this,e,t);const o=A(this,fn,[NaN,NaN,NaN,NaN,e,t]);A(this,ni,[e,t]);const a=d(this,pn).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),d(this,pn).push({line:o,points:d(this,ni)}),d(this,Xs).set(o,0),A(this,Rr,0),this.toSVGPath(),null}getLastElement(){return d(this,pn).at(-1)}setLastElement(e){return d(this,pn)?(d(this,pn).push(e),A(this,fn,e.line),A(this,ni,e.points),A(this,Rr,0),{path:{d:this.toSVGPath()}}):d(this,mu).setLastElement(e)}removeLastElement(){if(!d(this,pn))return d(this,mu).removeLastElement();d(this,pn).pop(),A(this,Cn,"");for(let e=0,t=d(this,pn).length;e<t;e++){const{line:i,points:r}=d(this,pn)[e];A(this,fn,i),A(this,ni,r),A(this,Rr,0),this.toSVGPath()}return{path:{d:d(this,Cn)}}}toSVGPath(){const e=be.svgRound(d(this,fn)[4]),t=be.svgRound(d(this,fn)[5]);if(d(this,ni).length===2)return A(this,Cn,`${d(this,Cn)} M ${e} ${t} Z`),d(this,Cn);if(d(this,ni).length<=6){const r=d(this,Cn).lastIndexOf("M");A(this,Cn,`${d(this,Cn).slice(0,r)} M ${e} ${t}`),A(this,Rr,6)}if(d(this,ni).length===4){const r=be.svgRound(d(this,fn)[10]),s=be.svgRound(d(this,fn)[11]);return A(this,Cn,`${d(this,Cn)} L ${r} ${s}`),A(this,Rr,12),d(this,Cn)}const i=[];d(this,Rr)===0&&(i.push(`M ${e} ${t}`),A(this,Rr,6));for(let r=d(this,Rr),s=d(this,fn).length;r<s;r+=6){const[o,a,l,c,u,h]=d(this,fn).slice(r,r+6).map(be.svgRound);i.push(`C${o} ${a} ${l} ${c} ${u} ${h}`)}return A(this,Cn,d(this,Cn)+i.join(" ")),A(this,Rr,d(this,fn).length),d(this,Cn)}getOutlines(e,t,i,r){const s=d(this,pn).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),d(this,mu).build(d(this,pn),e,t,i,d(this,gu),d(this,af),r),A(this,Xs,null),A(this,fn,null),A(this,pn,null),A(this,Cn,null),d(this,mu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Xs=new WeakMap,fn=new WeakMap,pn=new WeakMap,gu=new WeakMap,af=new WeakMap,ni=new WeakMap,Cn=new WeakMap,Rr=new WeakMap,mu=new WeakMap,yu=new WeakMap,vu=new WeakMap,lf=new WeakSet,c0=function(e,t){return be._normalizePoint(e,t,d(this,yu),d(this,vu),d(this,gu))};var ii,py,gy,ir,Ys,Ks,cf,uf,bu,In,go,KP,JP,QP;class Sy extends be{constructor(){super(...arguments);I(this,In);I(this,ii);I(this,py,0);I(this,gy);I(this,ir);I(this,Ys);I(this,Ks);I(this,cf);I(this,uf);I(this,bu)}build(t,i,r,s,o,a,l){A(this,Ys,i),A(this,Ks,r),A(this,cf,s),A(this,uf,o),A(this,bu,a),A(this,gy,l??0),A(this,ir,t),k(this,In,JP).call(this)}get thickness(){return d(this,bu)}setLastElement(t){return d(this,ir).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return d(this,ir).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of d(this,ir)){if(t.push(`M${be.svgRound(i[4])} ${be.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${be.svgRound(i[10])} ${be.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[o,a,l,c,u,h]=i.subarray(r,r+6).map(be.svgRound);t.push(`C${o} ${a} ${l} ${c} ${u} ${h}`)}}return t.join("")}serialize([t,i,r,s],o){const a=[],l=[],[c,u,h,f]=k(this,In,KP).call(this);let g,_,m,D,y,b,w,x,T;switch(d(this,uf)){case 0:T=be._rescale,g=t,_=i+s,m=r,D=-s,y=t+c*r,b=i+(1-u-f)*s,w=t+(c+h)*r,x=i+(1-u)*s;break;case 90:T=be._rescaleAndSwap,g=t,_=i,m=r,D=s,y=t+u*r,b=i+c*s,w=t+(u+f)*r,x=i+(c+h)*s;break;case 180:T=be._rescale,g=t+r,_=i,m=-r,D=s,y=t+(1-c-h)*r,b=i+u*s,w=t+(1-c)*r,x=i+(u+f)*s;break;case 270:T=be._rescaleAndSwap,g=t+r,_=i+s,m=-r,D=-s,y=t+(1-u-f)*r,b=i+(1-c-h)*s,w=t+(1-u)*r,x=i+(1-c)*s;break}for(const{line:E,points:C}of d(this,ir))a.push(T(E,g,_,m,D,o?new Array(E.length):null)),l.push(T(C,g,_,m,D,o?new Array(C.length):null));return{lines:a,points:l,rect:[y,b,w,x]}}static deserialize(t,i,r,s,o,{paths:{lines:a,points:l},rotation:c,thickness:u}){const h=[];let f,g,_,m,D;switch(c){case 0:D=be._rescale,f=-t/r,g=i/s+1,_=1/r,m=-1/s;break;case 90:D=be._rescaleAndSwap,f=-i/s,g=-t/r,_=1/s,m=1/r;break;case 180:D=be._rescale,f=t/r+1,g=-i/s,_=-1/r,m=1/s;break;case 270:D=be._rescaleAndSwap,f=i/s+1,g=t/r+1,_=-1/s,m=-1/r;break}if(!a){a=[];for(const b of l){const w=b.length;if(w===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1]]));continue}if(w===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1],NaN,NaN,NaN,NaN,b[2],b[3]]));continue}const x=new Float32Array(3*(w-2));a.push(x);let[T,E,C,F]=b.subarray(0,4);x.set([NaN,NaN,NaN,NaN,T,E],0);for(let P=4;P<w;P+=2){const O=b[P],Y=b[P+1];x.set(be.createBezierPoints(T,E,C,F,O,Y),(P-2)*3),[T,E,C,F]=[C,F,O,Y]}}}for(let b=0,w=a.length;b<w;b++)h.push({line:D(a[b].map(x=>x??NaN),f,g,_,m),points:D(l[b].map(x=>x??NaN),f,g,_,m)});const y=new this.prototype.constructor;return y.build(h,r,s,1,c,u,o),y}get box(){return d(this,ii)}updateProperty(t,i){return t==="stroke-width"?k(this,In,QP).call(this,i):null}updateParentDimensions([t,i],r){const[s,o]=k(this,In,go).call(this);A(this,Ys,t),A(this,Ks,i),A(this,cf,r);const[a,l]=k(this,In,go).call(this),c=a-s,u=l-o,h=d(this,ii);return h[0]-=c,h[1]-=u,h[2]+=2*c,h[3]+=2*u,h}updateRotation(t){return A(this,py,t),{path:{transform:this.rotationTransform}}}get viewBox(){return d(this,ii).map(be.svgRound).join(" ")}get defaultProperties(){const[t,i]=d(this,ii);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${be.svgRound(t)} ${be.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=d(this,ii);let r=0,s=0,o=0,a=0,l=0,c=0;switch(d(this,py)){case 90:s=i/t,o=-t/i,l=t;break;case 180:r=-1,a=-1,l=t,c=i;break;case 270:s=-i/t,o=t/i,c=i;break;default:return""}return`matrix(${r} ${s} ${o} ${a} ${be.svgRound(l)} ${be.svgRound(c)})`}getPathResizingSVGProperties([t,i,r,s]){const[o,a]=k(this,In,go).call(this),[l,c,u,h]=d(this,ii);if(Math.abs(u-o)<=be.PRECISION||Math.abs(h-a)<=be.PRECISION){const D=t+r/2-(l+u/2),y=i+s/2-(c+h/2);return{path:{"transform-origin":`${be.svgRound(t)} ${be.svgRound(i)}`,transform:`${this.rotationTransform} translate(${D} ${y})`}}}const f=(r-2*o)/(u-2*o),g=(s-2*a)/(h-2*a),_=u/r,m=h/s;return{path:{"transform-origin":`${be.svgRound(l)} ${be.svgRound(c)}`,transform:`${this.rotationTransform} scale(${_} ${m}) translate(${be.svgRound(o)} ${be.svgRound(a)}) scale(${f} ${g}) translate(${be.svgRound(-o)} ${be.svgRound(-a)})`}}}getPathResizedSVGProperties([t,i,r,s]){const[o,a]=k(this,In,go).call(this),l=d(this,ii),[c,u,h,f]=l;if(l[0]=t,l[1]=i,l[2]=r,l[3]=s,Math.abs(h-o)<=be.PRECISION||Math.abs(f-a)<=be.PRECISION){const y=t+r/2-(c+h/2),b=i+s/2-(u+f/2);for(const{line:w,points:x}of d(this,ir))be._translate(w,y,b,w),be._translate(x,y,b,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${be.svgRound(t)} ${be.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(r-2*o)/(h-2*o),_=(s-2*a)/(f-2*a),m=-g*(c+o)+t+o,D=-_*(u+a)+i+a;if(g!==1||_!==1||m!==0||D!==0)for(const{line:y,points:b}of d(this,ir))be._rescale(y,m,D,g,_,y),be._rescale(b,m,D,g,_,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${be.svgRound(t)} ${be.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],r){const[s,o]=r,a=d(this,ii),l=t-a[0],c=i-a[1];if(d(this,Ys)===s&&d(this,Ks)===o)for(const{line:u,points:h}of d(this,ir))be._translate(u,l,c,u),be._translate(h,l,c,h);else{const u=d(this,Ys)/s,h=d(this,Ks)/o;A(this,Ys,s),A(this,Ks,o);for(const{line:f,points:g}of d(this,ir))be._rescale(f,l,c,u,h,f),be._rescale(g,l,c,u,h,g);a[2]*=u,a[3]*=h}return a[0]=t,a[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${be.svgRound(t)} ${be.svgRound(i)}`}}}get defaultSVGProperties(){const t=d(this,ii);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${be.svgRound(t[0])} ${be.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}ii=new WeakMap,py=new WeakMap,gy=new WeakMap,ir=new WeakMap,Ys=new WeakMap,Ks=new WeakMap,cf=new WeakMap,uf=new WeakMap,bu=new WeakMap,In=new WeakSet,go=function(t=d(this,bu)){const i=d(this,gy)+t/2*d(this,cf);return d(this,uf)%180===0?[i/d(this,Ys),i/d(this,Ks)]:[i/d(this,Ks),i/d(this,Ys)]},KP=function(){const[t,i,r,s]=d(this,ii),[o,a]=k(this,In,go).call(this,0);return[t+o,i+a,r-2*o,s-2*a]},JP=function(){const t=A(this,ii,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of d(this,ir)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)ye.pointBoundingBox(s[l],s[l+1],t);continue}let o=s[4],a=s[5];for(let l=6,c=s.length;l<c;l+=6){const[u,h,f,g,_,m]=s.subarray(l,l+6);ye.bezierBoundingBox(o,a,u,h,f,g,_,m,t),o=_,a=m}}const[i,r]=k(this,In,go).call(this);t[0]=ai(t[0]-i,0,1),t[1]=ai(t[1]-r,0,1),t[2]=ai(t[2]+i,0,1),t[3]=ai(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},QP=function(t){const[i,r]=k(this,In,go).call(this);A(this,bu,t);const[s,o]=k(this,In,go).call(this),[a,l]=[s-i,o-r],c=d(this,ii);return c[0]-=a,c[1]-=l,c[2]+=2*a,c[3]+=2*l,c};class ab extends XP{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:bt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new ab(this._viewParameters);return e.updateAll(this),e}}var B1,ZP;const Rd=class Rd extends n1{constructor(t){super({...t,name:"inkEditor"});I(this,B1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){bt.initialize(t,i),this._defaultDrawingOptions=new ab(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ue(this,"typesMap",new Map([[Ge.INK_THICKNESS,"stroke-width"],[Ge.INK_COLOR,"stroke"],[Ge.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,r,s,o){return new XO(t,i,r,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,r,s,o,a){return Sy.deserialize(t,i,r,s,o,a)}static async deserialize(t,i,r){let s=null;if(t instanceof WT){const{data:{inkLists:a,rect:l,rotation:c,id:u,color:h,opacity:f,borderStyle:{rawWidth:g},popupRef:_,richText:m,contentsObj:D,creationDate:y,modificationDate:b},parent:{page:{pageNumber:w}}}=t;s=t={annotationType:ke.INK,color:Array.from(h),thickness:g,opacity:f,paths:{points:a},boxes:null,pageIndex:w-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:_,richText:m,comment:(D==null?void 0:D.str)||null,creationDate:y,modificationDate:b}}const o=await super.deserialize(t,i,r);return o._initialData=s,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Z0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ge.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:r}){this._drawingOptions=Rd.getDefaultDrawingOptions({stroke:ye.makeHexColor(...t),"stroke-width":i,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":a}}=this,l=Object.assign(super.serialize(t),{color:bt._colorManager.convert(s),opacity:o,thickness:a,paths:{lines:i,points:r}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!k(this,B1,ZP).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};B1=new WeakSet,ZP=function(t){const{color:i,thickness:r,opacity:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((a,l)=>a!==i[l])||t.thickness!==r||t.opacity!==s||t.pageIndex!==o},he(Rd,"_type","ink"),he(Rd,"_editorType",ke.INK),he(Rd,"_defaultDrawingOptions",null);let nx=Rd;class ix extends Sy{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const cv=8,np=3;var _u,et,rx,as,jP,eM,sx,u0,tM,nM,iM,ox,ax,rM;class ea{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,o,a,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const h=200,f=u.font=`${i} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:_,actualBoundingBoxAscent:m,actualBoundingBoxDescent:D,fontBoundingBoxAscent:y,fontBoundingBoxDescent:b,width:w}=u.measureText(e),x=1.5,T=Math.ceil(Math.max(Math.abs(g)+Math.abs(_)||0,w)*x),E=Math.ceil(Math.max(Math.abs(m)+Math.abs(D)||h,Math.abs(y)+Math.abs(b)||h)*x);c=new OffscreenCanvas(T,E),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=f,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,T,E),u.fillStyle="black",u.fillText(e,T*(x-1)/2,E*(3-x)/2);const C=k(this,et,ox).call(this,u.getImageData(0,0,T,E).data),F=k(this,et,iM).call(this,C),P=k(this,et,ax).call(this,F),O=k(this,et,sx).call(this,C,T,E,P);return this.processDrawnLines({lines:{curves:O,width:T,height:E},pageWidth:s,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[o,a,l]=k(this,et,rM).call(this,e),[c,u]=k(this,et,nM).call(this,o,a,l,Math.hypot(a,l)*d(this,_u).sigmaSFactor,d(this,_u).sigmaR,d(this,_u).kernelSize),h=k(this,et,ax).call(this,u),f=k(this,et,sx).call(this,c,a,l,h);return this.processDrawnLines({lines:{curves:f,width:a,height:l},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:o,areContours:a}){r%180!==0&&([t,i]=[i,t]);const{curves:l,width:c,height:u}=e,h=e.thickness??0,f=[],g=Math.min(t/c,i/u),_=g/t,m=g/i,D=[];for(const{points:b}of l){const w=o?k(this,et,tM).call(this,b):b;if(!w)continue;D.push(w);const x=w.length,T=new Float32Array(x),E=new Float32Array(3*(x===2?2:x-2));if(f.push({line:E,points:T}),x===2){T[0]=w[0]*_,T[1]=w[1]*m,E.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[C,F,P,O]=w;C*=_,F*=m,P*=_,O*=m,T.set([C,F,P,O],0),E.set([NaN,NaN,NaN,NaN,C,F],0);for(let Y=4;Y<x;Y+=2){const R=T[Y]=w[Y]*_,V=T[Y+1]=w[Y+1]*m;E.set(be.createBezierPoints(C,F,P,O,R,V),(Y-2)*3),[C,F,P,O]=[P,O,R,V]}}if(f.length===0)return null;const y=a?new ix:new Sy;return y.build(f,t,i,1,r,a?0:h,s),{outline:y,newCurves:D,areContours:a,thickness:h,width:c,height:u}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let o=1/0,a=-1/0,l=0;for(const w of e){l+=w.length;for(let x=2,T=w.length;x<T;x++){const E=w[x]-w[x-2];o=Math.min(o,E),a=Math.max(a,E)}}let c;o>=-128&&a<=127?c=Int8Array:o>=-32768&&a<=32767?c=Int16Array:c=Int32Array;const u=e.length,h=cv+np*u,f=new Uint32Array(h);let g=0;f[g++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,f[g++]=0,f[g++]=r,f[g++]=s,f[g++]=t?0:1,f[g++]=Math.max(0,Math.floor(i??0)),f[g++]=u,f[g++]=c.BYTES_PER_ELEMENT;for(const w of e)f[g++]=w.length-2,f[g++]=w[0],f[g++]=w[1];const _=new CompressionStream("deflate-raw"),m=_.writable.getWriter();await m.ready,m.write(f);const D=c.prototype.constructor;for(const w of e){const x=new D(w.length-2);for(let T=2,E=w.length;T<E;T++)x[T-2]=w[T]-w[T-2];m.write(x)}m.close();const y=await new Response(_.readable).arrayBuffer(),b=new Uint8Array(y);return n3(b)}static async decompressSignature(e){try{const t=l6(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,a=0;for await(const w of i)o||(o=new Uint8Array(new Uint32Array(w.buffer,0,4)[0])),o.set(w,a),a+=w.length;const l=new Uint32Array(o.buffer,0,o.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],h=l[3],f=l[4]===0,g=l[5],_=l[6],m=l[7],D=[],y=(cv+np*_)*Uint32Array.BYTES_PER_ELEMENT;let b;switch(m){case Int8Array.BYTES_PER_ELEMENT:b=new Int8Array(o.buffer,y);break;case Int16Array.BYTES_PER_ELEMENT:b=new Int16Array(o.buffer,y);break;case Int32Array.BYTES_PER_ELEMENT:b=new Int32Array(o.buffer,y);break}a=0;for(let w=0;w<_;w++){const x=l[np*w+cv],T=new Float32Array(x+2);D.push(T);for(let E=0;E<np-1;E++)T[E]=l[np*w+cv+E+1];for(let E=0;E<x;E++)T[E+2]=T[E]+b[a++]}return{areContours:f,thickness:g,outlines:D,width:u,height:h}}catch(t){return Se(`decompressSignature: ${t}`),null}}}_u=new WeakMap,et=new WeakSet,rx=function(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r},as=new WeakMap,jP=function(e,t,i,r,s,o,a){const l=k(this,et,rx).call(this,i,r,s,o);for(let c=0;c<8;c++){const u=(-c+l-a+16)%8,h=d(this,as)[2*u],f=d(this,as)[2*u+1];if(e[(i+h)*t+(r+f)]!==0)return u}return-1},eM=function(e,t,i,r,s,o,a){const l=k(this,et,rx).call(this,i,r,s,o);for(let c=0;c<8;c++){const u=(c+l+a+16)%8,h=d(this,as)[2*u],f=d(this,as)[2*u+1];if(e[(i+h)*t+(r+f)]!==0)return u}return-1},sx=function(e,t,i,r){const s=e.length,o=new Int32Array(s);for(let u=0;u<s;u++)o[u]=e[u]<=r?1:0;for(let u=1;u<i-1;u++)o[u*t]=o[u*t+t-1]=0;for(let u=0;u<t;u++)o[u]=o[t*i-1-u]=0;let a=1,l;const c=[];for(let u=1;u<i-1;u++){l=1;for(let h=1;h<t-1;h++){const f=u*t+h,g=o[f];if(g===0)continue;let _=u,m=h;if(g===1&&o[f-1]===0)a+=1,m-=1;else if(g>=1&&o[f+1]===0)a+=1,m+=1,g>1&&(l=g);else{g!==1&&(l=Math.abs(g));continue}const D=[h,u],y=m===h+1,b={isHole:y,points:D,id:a,parent:0};c.push(b);let w;for(const Y of c)if(Y.id===l){w=Y;break}w?w.isHole?b.parent=y?w.parent:l:b.parent=y?l:w.parent:b.parent=y?l:0;const x=k(this,et,jP).call(this,o,t,u,h,_,m,0);if(x===-1){o[f]=-a,o[f]!==1&&(l=Math.abs(o[f]));continue}let T=d(this,as)[2*x],E=d(this,as)[2*x+1];const C=u+T,F=h+E;_=C,m=F;let P=u,O=h;for(;;){const Y=k(this,et,eM).call(this,o,t,P,O,_,m,1);T=d(this,as)[2*Y],E=d(this,as)[2*Y+1];const R=P+T,V=O+E;D.push(V,R);const S=P*t+O;if(o[S+1]===0?o[S]=-a:o[S]===1&&(o[S]=a),R===u&&V===h&&P===C&&O===F){o[f]!==1&&(l=Math.abs(o[f]));break}else _=P,m=O,P=R,O=V}}}return c},u0=function(e,t,i,r){if(i-t<=4){for(let C=t;C<i-2;C+=2)r.push(e[C],e[C+1]);return}const s=e[t],o=e[t+1],a=e[i-4]-s,l=e[i-3]-o,c=Math.hypot(a,l),u=a/c,h=l/c,f=u*o-h*s,g=l/a,_=1/c,m=Math.atan(g),D=Math.cos(m),y=Math.sin(m),b=_*(Math.abs(D)+Math.abs(y)),w=_*(1-b+b**2),x=Math.max(Math.atan(Math.abs(y+D)*w),Math.atan(Math.abs(y-D)*w));let T=0,E=t;for(let C=t+2;C<i-2;C+=2){const F=Math.abs(f-u*e[C+1]+h*e[C]);F>T&&(E=C,T=F)}T>(c*x)**2?(k(this,et,u0).call(this,e,t,E+2,r),k(this,et,u0).call(this,e,E,i,r)):r.push(s,o)},tM=function(e){const t=[],i=e.length;return k(this,et,u0).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},nM=function(e,t,i,r,s,o){const a=new Float32Array(o**2),l=-2*r**2,c=o>>1;for(let m=0;m<o;m++){const D=(m-c)**2;for(let y=0;y<o;y++)a[m*o+y]=Math.exp((D+(y-c)**2)/l)}const u=new Float32Array(256),h=-2*s**2;for(let m=0;m<256;m++)u[m]=Math.exp(m**2/h);const f=e.length,g=new Uint8Array(f),_=new Uint32Array(256);for(let m=0;m<i;m++)for(let D=0;D<t;D++){const y=m*t+D,b=e[y];let w=0,x=0;for(let E=0;E<o;E++){const C=m+E-c;if(!(C<0||C>=i))for(let F=0;F<o;F++){const P=D+F-c;if(P<0||P>=t)continue;const O=e[C*t+P],Y=a[E*o+F]*u[Math.abs(O-b)];w+=O*Y,x+=Y}}const T=g[y]=Math.round(w/x);_[T]++}return[g,_]},iM=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},ox=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let a=0,l=i.length;a<l;a++){const c=i[a]=e[a<<2];r=Math.max(r,c),s=Math.min(s,c)}const o=255/(r-s);for(let a=0,l=i.length;a<l;a++)i[a]=(i[a]-s)*o;return i},ax=function(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(l=>l!==0);let o=s,a=s;for(t=s;t<256;t++){const l=e[t];l>i&&(t-o>r&&(r=t-o,a=t-1),i=l,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},rM=function(e){const t=e,{width:i,height:r}=e,{maxDim:s}=d(this,_u);let o=i,a=r;if(i>s||r>s){let f=i,g=r,_=Math.log2(Math.max(i,r)/s);const m=Math.floor(_);_=_===m?m-1:m;for(let y=0;y<_;y++){o=Math.ceil(f/2),a=Math.ceil(g/2);const b=new OffscreenCanvas(o,a);b.getContext("2d").drawImage(e,0,0,f,g,0,0,o,a),f=o,g=a,e!==t&&e.close(),e=b.transferToImageBitmap()}const D=Math.min(s/o,s/a);o=Math.round(o*D),a=Math.round(a*D)}const c=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,o,a),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,o,a);const u=c.getImageData(0,0,o,a).data;return[k(this,et,ox).call(this,u),o,a]},I(ea,et),I(ea,_u,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),I(ea,as,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class VT extends XP{constructor(){super(),super.updateProperties({fill:bt._defaultLineColor,"stroke-width":0})}clone(){const e=new VT;return e.updateAll(this),e}}class HT extends ab{constructor(e){super(e),super.updateProperties({stroke:bt._defaultLineColor,"stroke-width":1})}clone(){const e=new HT(this._viewParameters);return e.updateAll(this),e}}var pl,Js,gl,Du;const Oi=class Oi extends n1{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});I(this,pl,!1);I(this,Js,null);I(this,gl,null);I(this,Du,null);this._willKeepAspectRatio=!0,A(this,gl,t.signatureData||null),A(this,Js,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){bt.initialize(t,i),this._defaultDrawingOptions=new VT,this._defaultDrawnSignatureOptions=new HT(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ue(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!d(this,Js)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(d(this,gl)){const{lines:s,mustSmooth:o,areContours:a,description:l,uuid:c,heightInPage:u}=d(this,gl),{rawDims:{pageWidth:h,pageHeight:f},rotation:g}=this.parent.viewport,_=ea.processDrawnLines({lines:s,pageWidth:h,pageHeight:f,rotation:g,innerMargin:Oi._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(_,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:d(this,Js)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){A(this,Du,t),this.addEditToolbar()}getUuid(){return d(this,Du)}get description(){return d(this,Js)}set description(t){A(this,Js,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:r,width:s,height:o}=d(this,gl),a=Math.max(s,o),l=ea.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:r,width:s,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,r,s){const{x:o,y:a}=this,{outline:l}=A(this,gl,t);A(this,pl,l instanceof ix),this.description=r;let c;d(this,pl)?c=Oi.getDefaultDrawingOptions():(c=Oi._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let h=i/u;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return ea.process(t,i,r,s,Oi._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:o}=this.parent.viewport;return ea.extractContoursFromText(t,i,r,s,o,Oi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return ea.processDrawnLines({lines:t,pageWidth:i,pageHeight:r,rotation:s,innerMargin:Oi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=Oi.getDefaultDrawingOptions():(this._drawingOptions=Oi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:d(this,pl),color:[0,0,0],thickness:d(this,pl)?0:s});return this.addComment(o),t?(o.paths={lines:i,points:r},o.uuid=d(this,Du),o.isCopy=!0):o.lines=i,d(this,Js)&&(o.accessibilityData={type:"Figure",alt:d(this,Js)}),o}static deserializeDraw(t,i,r,s,o,a){return a.areContours?ix.deserialize(t,i,r,s,o,a):Sy.deserialize(t,i,r,s,o,a)}static async deserialize(t,i,r){var o;const s=await super.deserialize(t,i,r);return A(s,pl,t.areContours),s.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",A(s,Du,t.uuid),s}};pl=new WeakMap,Js=new WeakMap,gl=new WeakMap,Du=new WeakMap,he(Oi,"_type","signature"),he(Oi,"_editorType",ke.SIGNATURE),he(Oi,"_defaultDrawingOptions",null);let lx=Oi;var Ct,gn,ml,Ko,yl,df,Jo,wu,Qs,rr,hf,Ke,Rp,Fp,d0,h0,f0,ux,p0,sM;class cx extends bt{constructor(t){super({...t,name:"stampEditor"});I(this,Ke);I(this,Ct,null);I(this,gn,null);I(this,ml,null);I(this,Ko,null);I(this,yl,null);I(this,df,"");I(this,Jo,null);I(this,wu,!1);I(this,Qs,null);I(this,rr,!1);I(this,hf,!1);A(this,Ko,t.bitmapUrl),A(this,yl,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){bt.initialize(t,i)}static isHandlingMimeForPasting(t){return YD.includes(t)}static paste(t,i){i.pasteEditor({mode:ke.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),i&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;d(this,gn)&&(A(this,Ct,null),this._uiManager.imageManager.deleteId(d(this,gn)),(t=d(this,Jo))==null||t.remove(),A(this,Jo,null),d(this,Qs)&&(clearTimeout(d(this,Qs)),A(this,Qs,null))),super.remove()}rebuild(){if(!this.parent){d(this,gn)&&k(this,Ke,d0).call(this);return}super.rebuild(),this.div!==null&&(d(this,gn)&&d(this,Jo)===null&&k(this,Ke,d0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(d(this,ml)||d(this,Ct)||d(this,Ko)||d(this,yl)||d(this,gn)||d(this,wu))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),d(this,wu)||(d(this,Ct)?k(this,Ke,h0).call(this):k(this,Ke,d0).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(A(this,gn,r),s&&A(this,Ct,s),A(this,wu,!1),k(this,Ke,h0).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;d(this,Qs)!==null&&clearTimeout(d(this,Qs)),A(this,Qs,setTimeout(()=>{A(this,Qs,null),k(this,Ke,ux).call(this)},200))}copyCanvas(t,i,r=!1){t||(t=224);const{width:s,height:o}=d(this,Ct),a=new so;let l=d(this,Ct),c=s,u=o,h=null;if(i){if(s>i||o>i){const C=Math.min(i/s,i/o);c=Math.floor(s*C),u=Math.floor(o*C)}h=document.createElement("canvas");const g=h.width=Math.ceil(c*a.sx),_=h.height=Math.ceil(u*a.sy);d(this,rr)||(l=k(this,Ke,f0).call(this,g,_));const m=h.getContext("2d");m.filter=this._uiManager.hcmFilter;let D="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":p6.isDarkMode&&(D="#8f8f9d",y="#42414d");const b=15,w=b*a.sx,x=b*a.sy,T=new OffscreenCanvas(w*2,x*2),E=T.getContext("2d");E.fillStyle=D,E.fillRect(0,0,w*2,x*2),E.fillStyle=y,E.fillRect(0,0,w,x),E.fillRect(w,x,w,x),m.fillStyle=m.createPattern(T,"repeat"),m.fillRect(0,0,g,_),m.drawImage(l,0,0,l.width,l.height,0,0,g,_)}let f=null;if(r){let g,_;if(a.symmetric&&l.width<t&&l.height<t)g=l.width,_=l.height;else if(l=d(this,Ct),s>t||o>t){const y=Math.min(t/s,t/o);g=Math.floor(s*y),_=Math.floor(o*y),d(this,rr)||(l=k(this,Ke,f0).call(this,g,_))}const D=new OffscreenCanvas(g,_).getContext("2d",{willReadFrequently:!0});D.drawImage(l,0,0,l.width,l.height,0,0,g,_),f={width:g,height:_,data:D.getImageData(0,0,g,_).data}}return{canvas:h,width:c,height:u,imageData:f}}static async deserialize(t,i,r){var D;let s=null,o=!1;if(t instanceof DP){const{data:{rect:y,rotation:b,id:w,structParent:x,popupRef:T,richText:E,contentsObj:C,creationDate:F,modificationDate:P},container:O,parent:{page:{pageNumber:Y}},canvas:R}=t;let V,S;R?(delete t.canvas,{id:V,bitmap:S}=r.imageManager.getFromCanvas(O.id,R),R.remove()):(o=!0,t._hasNoCanvas=!0);const K=((D=await i._structTree.getAriaAttributes(`${xd}${w}`))==null?void 0:D.get("aria-label"))||"";s=t={annotationType:ke.STAMP,bitmapId:V,bitmap:S,pageIndex:Y-1,rect:y.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:K},isSvg:!1,structParent:x,popupRef:T,richText:E,comment:(C==null?void 0:C.str)||null,creationDate:F,modificationDate:P}}const a=await super.deserialize(t,i,r),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:h,isSvg:f,accessibilityData:g}=t;o?(r.addMissingCanvas(t.id,a),A(a,wu,!0)):h&&r.imageManager.isValidId(h)?(A(a,gn,h),c&&A(a,Ct,c)):A(a,Ko,u),A(a,rr,f);const[_,m]=a.pageDimensions;return a.width=(l[2]-l[0])/_,a.height=(l[3]-l[1])/m,g&&(a.altTextData=g),a._initialData=s,t.comment&&a.setCommentData(t),A(a,hf,!!s),a}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:d(this,gn),isSvg:d(this,rr)});if(this.addComment(r),t)return r.bitmapUrl=k(this,Ke,p0).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=k(this,Ke,sM).call(this,r);return l.isSame?null:(l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const a=d(this,rr)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(d(this,gn)))i.stamps.set(d(this,gn),{area:a,serialized:r}),r.bitmap=k(this,Ke,p0).call(this,!1);else if(d(this,rr)){const l=i.stamps.get(d(this,gn));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=k(this,Ke,p0).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Ct=new WeakMap,gn=new WeakMap,ml=new WeakMap,Ko=new WeakMap,yl=new WeakMap,df=new WeakMap,Jo=new WeakMap,wu=new WeakMap,Qs=new WeakMap,rr=new WeakMap,hf=new WeakMap,Ke=new WeakSet,Rp=function(t,i=!1){if(!t){this.remove();return}A(this,Ct,t.bitmap),i||(A(this,gn,t.id),A(this,rr,t.isSvg)),t.file&&A(this,df,t.file.name),k(this,Ke,h0).call(this)},Fp=function(){if(A(this,ml,null),this._uiManager.enableWaiting(!1),!!d(this,Jo)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Ct)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Ct)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},d0=function(){if(d(this,gn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,gn)).then(r=>k(this,Ke,Rp).call(this,r,!0)).finally(()=>k(this,Ke,Fp).call(this));return}if(d(this,Ko)){const r=d(this,Ko);A(this,Ko,null),this._uiManager.enableWaiting(!0),A(this,ml,this._uiManager.imageManager.getFromUrl(r).then(s=>k(this,Ke,Rp).call(this,s)).finally(()=>k(this,Ke,Fp).call(this)));return}if(d(this,yl)){const r=d(this,yl);A(this,yl,null),this._uiManager.enableWaiting(!0),A(this,ml,this._uiManager.imageManager.getFromFile(r).then(s=>k(this,Ke,Rp).call(this,s)).finally(()=>k(this,Ke,Fp).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=YD.join(",");const i=this._uiManager._signal;A(this,ml,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,Ke,Rp).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>k(this,Ke,Fp).call(this))),t.click()},h0=function(){var c;const{div:t}=this;let{width:i,height:r}=d(this,Ct);const[s,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>a*s||r>a*o){const u=Math.min(a*s/i,a*o/r);i*=u,r*=u}this._uiManager.enableWaiting(!1);const l=A(this,Jo,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=i/s,this.height=r/o,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),k(this,Ke,ux).call(this),d(this,hf)||(this.parent.addUndoableEditor(this),A(this,hf,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,df)&&this.div.setAttribute("aria-description",d(this,df)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},f0=function(t,i){const{width:r,height:s}=d(this,Ct);let o=r,a=s,l=d(this,Ct);for(;o>2*t||a>2*i;){const c=o,u=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=h.transferToImageBitmap()}return l},ux=function(){const[t,i]=this.parentDimensions,{width:r,height:s}=this,o=new so,a=Math.ceil(r*t*o.sx),l=Math.ceil(s*i*o.sy),c=d(this,Jo);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const u=d(this,rr)?d(this,Ct):k(this,Ke,f0).call(this,a,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(u,0,0,u.width,u.height,0,0,a,l)},p0=function(t){if(t){if(d(this,rr)){const s=this._uiManager.imageManager.getSvgUrl(d(this,gn));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=d(this,Ct),i.getContext("2d").drawImage(d(this,Ct),0,0),i.toDataURL()}if(d(this,rr)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Bl.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Bl.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(d(this,Ct),0,0,d(this,Ct).width,d(this,Ct).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(d(this,Ct))},sM=function(t){var a;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===i,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},he(cx,"_type","stamp"),he(cx,"_editorType",ke.STAMP);var xu,ff,vl,bl,Qo,Ti,_l,pf,gf,ls,Zo,mn,jo,Dl,mf,we,wl,ft,hx,oM,Ss,fx,px,g0;const Jr=class Jr{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){I(this,ft);I(this,xu);I(this,ff,!1);I(this,vl,null);I(this,bl,null);I(this,Qo,null);I(this,Ti,new Map);I(this,_l,!1);I(this,pf,!1);I(this,gf,!1);I(this,ls,null);I(this,Zo,null);I(this,mn,null);I(this,jo,null);I(this,Dl,null);I(this,mf,-1);I(this,we);const h=[...d(Jr,wl).values()];if(!Jr._initialized){Jr._initialized=!0;for(const f of h)f.initialize(u,e)}e.registerEditorTypes(h),A(this,we,e),this.pageIndex=t,this.div=i,A(this,xu,s),A(this,vl,o),this.viewport=c,A(this,mn,l),this.drawLayer=a,this._structTree=r,d(this,we).addLayer(this)}get isEmpty(){return d(this,Ti).size===0}get isInvisible(){return this.isEmpty&&d(this,we).getMode()===ke.NONE}updateToolbar(e){d(this,we).updateToolbar(e)}updateMode(e=d(this,we).getMode()){switch(k(this,ft,g0).call(this),e){case ke.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ke.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ke.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ke.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of d(Jr,wl).values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=d(this,mn))==null?void 0:t.div)}setEditingState(e){d(this,we).setEditingState(e)}addCommands(e){d(this,we).addCommands(e)}cleanUndoStack(e){d(this,we).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=d(this,vl))==null||t.togglePointerEvents(e)}async enable(){var i;A(this,gf,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=d(this,Dl))==null||i.abort(),A(this,Dl,null);const e=new Set;for(const r of d(this,ft,hx))r.enableEditing(),r.show(!0),r.annotationElementId&&(d(this,we).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=d(this,vl);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),d(this,we).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}A(this,gf,!1),d(this,we)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(A(this,pf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),d(this,mn)&&!d(this,Dl)){A(this,Dl,new AbortController);const s=d(this,we).combinedSignal(d(this,Dl));d(this,mn).div.addEventListener("pointerdown",o=>{const{clientX:l,clientY:c,timeStamp:u}=o,h=d(this,mf);if(u-h>500){A(this,mf,u);return}A(this,mf,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const g=document.elementsFromPoint(l,c);if(f.toggle("getElements",!1),!this.div.contains(g[0]))return;let _;const m=new RegExp(`^${lg}[0-9]+$`);for(const y of g)if(m.test(y.id)){_=y.id;break}if(!_)return;const D=d(this,Ti).get(_);(D==null?void 0:D.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),D.dblclick(o))},{signal:s,capture:!0})}const e=d(this,vl),t=[];if(e){const s=new Map,o=new Map;for(const l of d(this,ft,hx)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else o.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}const a=e.getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(d(this,we).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let u=o.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=s.get(c),u&&(d(this,we).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}k(this,ft,g0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of d(Jr,wl).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),A(this,pf,!1)}getEditableAnnotation(e){var t;return((t=d(this,vl))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){d(this,we).getActive()!==e&&d(this,we).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=d(this,mn))!=null&&e.div&&!d(this,jo)){A(this,jo,new AbortController);const t=d(this,we).combinedSignal(d(this,jo));d(this,mn).div.addEventListener("pointerdown",k(this,ft,oM).bind(this),{signal:t}),d(this,mn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=d(this,mn))!=null&&e.div&&d(this,jo)&&(d(this,jo).abort(),A(this,jo,null),d(this,mn).div.classList.remove("highlighting"))}enableClick(){if(d(this,bl))return;A(this,bl,new AbortController);const e=d(this,we).combinedSignal(d(this,bl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=d(this,bl))==null||e.abort(),A(this,bl,null)}attach(e){d(this,Ti).set(e.id,e);const{annotationElementId:t}=e;t&&d(this,we).isDeletedAnnotationElement(t)&&d(this,we).removeDeletedAnnotationElement(e)}detach(e){var t;d(this,Ti).delete(e.id),(t=d(this,xu))==null||t.removePointerInTextLayer(e.contentDiv),!d(this,pf)&&e.annotationElementId&&d(this,we).addDeletedAnnotationElement(e)}remove(e){this.detach(e),d(this,we).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(d(this,we).addDeletedAnnotationElement(e),bt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),d(this,we).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!d(this,gf)),d(this,we).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!d(this,Qo)&&(e._focusEventsAllowed=!1,A(this,Qo,setTimeout(()=>{A(this,Qo,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:d(this,we)._signal}),t.focus())},0))),e._structTreeParentId=(i=d(this,xu))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of d(this,Ti).values())if(t.uid===e)return t;return null}getNextId(){return d(this,we).getId()}combinedSignal(e){return d(this,we).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=d(this,ft,Ss))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await d(this,we).updateMode(e.mode);const{offsetX:i,offsetY:r}=k(this,ft,px).call(this),s=this.getNextId(),o=k(this,ft,fx).call(this,{parent:this,id:s,x:i,y:r,uiManager:d(this,we),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=d(Jr,wl).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,d(this,we)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=k(this,ft,fx).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:d(this,we),isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(k(this,ft,px).call(this),!0,e)}setSelected(e){d(this,we).setSelected(e)}toggleSelected(e){d(this,we).toggleSelected(e)}unselect(e){d(this,we).unselect(e)}pointerup(e){var r;const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!d(this,_l)||(A(this,_l,!1),(r=d(this,ft,Ss))!=null&&r.isDrawer&&d(this,ft,Ss).supportMultipleDrawings))return;if(!d(this,ff)){A(this,ff,!0);return}const i=d(this,we).getMode();if(i===ke.STAMP||i===ke.SIGNATURE){d(this,we).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(d(this,we).getMode()===ke.HIGHLIGHT&&this.enableTextSelection(),d(this,_l)){A(this,_l,!1);return}const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(A(this,_l,!0),(r=d(this,ft,Ss))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=d(this,we).getActive();A(this,ff,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),d(this,ls)){d(this,ft,Ss).startDrawing(this,d(this,we),!1,e);return}d(this,we).setCurrentDrawingSession(this),A(this,ls,new AbortController);const t=d(this,we).combinedSignal(d(this,ls));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(A(this,Zo,null),this.commitOrRemove())},{signal:t}),d(this,ft,Ss).startDrawing(this,d(this,we),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&A(this,Zo,t);return}d(this,Zo)&&setTimeout(()=>{var t;(t=d(this,Zo))==null||t.focus(),A(this,Zo,null)},0)}endDrawingSession(e=!1){return d(this,ls)?(d(this,we).setCurrentDrawingSession(null),d(this,ls).abort(),A(this,ls,null),A(this,Zo,null),d(this,ft,Ss).endDrawing(e)):null}findNewParent(e,t,i){const r=d(this,we).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return d(this,ls)?(this.endDrawingSession(),!0):!1}onScaleChanging(){d(this,ls)&&d(this,ft,Ss).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=d(this,we).getActive())==null?void 0:e.parent)===this&&(d(this,we).commitOrRemove(),d(this,we).setActiveEditor(null)),d(this,Qo)&&(clearTimeout(d(this,Qo)),A(this,Qo,null));for(const i of d(this,Ti).values())(t=d(this,xu))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,d(this,Ti).clear(),d(this,we).removeLayer(this)}render({viewport:e}){this.viewport=e,Fu(this.div,e);for(const t of d(this,we).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){d(this,we).commitOrRemove(),k(this,ft,g0).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Fu(this.div,{rotation:i}),t!==i)for(const r of d(this,Ti).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return d(this,we).viewParameters.realScale}};xu=new WeakMap,ff=new WeakMap,vl=new WeakMap,bl=new WeakMap,Qo=new WeakMap,Ti=new WeakMap,_l=new WeakMap,pf=new WeakMap,gf=new WeakMap,ls=new WeakMap,Zo=new WeakMap,mn=new WeakMap,jo=new WeakMap,Dl=new WeakMap,mf=new WeakMap,we=new WeakMap,wl=new WeakMap,ft=new WeakSet,hx=function(){return d(this,Ti).size!==0?d(this,Ti).values():d(this,we).getEditors(this.pageIndex)},oM=function(e){d(this,we).unselectAll();const{target:t}=e;if(t===d(this,mn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&d(this,mn).div.contains(t)){const{isMac:i}=ln.platform;if(e.button!==0||e.ctrlKey&&i)return;d(this,we).showAllEditors("highlight",!0,!0),d(this,mn).div.classList.add("free"),this.toggleDrawing(),t1.startHighlighting(this,d(this,we).direction==="ltr",{target:d(this,mn).div,x:e.x,y:e.y}),d(this,mn).div.addEventListener("pointerup",()=>{d(this,mn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,we)._signal}),e.preventDefault()}},Ss=function(){return d(Jr,wl).get(d(this,we).getMode())},fx=function(e){const t=d(this,ft,Ss);return t?new t.prototype.constructor(e):null},px=function(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),c=(s+a)/2-e,u=(o+l)/2-t,[h,f]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:f}},g0=function(){for(const e of d(this,Ti).values())e.isEmpty()&&e.remove()},he(Jr,"_initialized",!1),I(Jr,wl,new Map([$w,nx,cx,t1,lx].map(e=>[e._editorType,e])));let dx=Jr;var cs,ri,Tu,my,O1,aM,ao,mx,lM,yx;const tn=class tn{constructor({pageIndex:e}){I(this,ao);I(this,cs,null);I(this,ri,new Map);I(this,Tu,new Map);this.pageIndex=e}setParent(e){if(!d(this,cs)){A(this,cs,e);return}if(d(this,cs)!==e){if(d(this,ri).size>0)for(const t of d(this,ri).values())t.remove(),e.append(t);A(this,cs,e)}}static get _svgFactory(){return Ue(this,"_svgFactory",new j0)}draw(e,t=!1,i=!1){const r=jt(tn,my)._++,s=k(this,ao,mx).call(this),o=tn._svgFactory.createElement("defs");s.append(o);const a=tn._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),t&&d(this,Tu).set(r,a);const c=i?k(this,ao,lM).call(this,o,l):null,u=tn._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),d(this,ri).set(r,s),{id:r,clipPathId:`url(#${c})`}}drawOutline(e,t){const i=jt(tn,my)._++,r=k(this,ao,mx).call(this),s=tn._svgFactory.createElement("defs");r.append(s);const o=tn._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=tn._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const f=tn._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const g=tn._svgFactory.createElement("use");h.append(g),g.setAttribute("href",`#${a}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const c=tn._svgFactory.createElement("use");r.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return r.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(r,e),d(this,ri).set(i,r),i}finalizeDraw(e,t){d(this,Tu).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:i,bbox:r,rootClass:s,path:o}=t,a=typeof e=="number"?d(this,ri).get(e):e;if(a){if(i&&k(this,ao,yx).call(this,a,i),r&&k(l=tn,O1,aM).call(l,a,r),s){const{classList:c}=a;for(const[u,h]of Object.entries(s))c.toggle(u,h)}if(o){const u=a.firstElementChild.firstElementChild;k(this,ao,yx).call(this,u,o)}}}updateParent(e,t){if(t===this)return;const i=d(this,ri).get(e);i&&(d(t,cs).append(i),d(this,ri).delete(e),d(t,ri).set(e,i))}remove(e){d(this,Tu).delete(e),d(this,cs)!==null&&(d(this,ri).get(e).remove(),d(this,ri).delete(e))}destroy(){A(this,cs,null);for(const e of d(this,ri).values())e.remove();d(this,ri).clear(),d(this,Tu).clear()}};cs=new WeakMap,ri=new WeakMap,Tu=new WeakMap,my=new WeakMap,O1=new WeakSet,aM=function(e,[t,i,r,s]){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},ao=new WeakSet,mx=function(){const e=tn._svgFactory.create(1,1,!0);return d(this,cs).append(e),e.setAttribute("aria-hidden",!0),e},lM=function(e,t){const i=tn._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=tn._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},yx=function(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)},I(tn,O1),I(tn,my,0);let gx=tn;globalThis._pdfjsTestingUtils={HighlightOutliner:Yw};globalThis.pdfjsLib={AbortException:Ll,AnnotationEditorLayer:dx,AnnotationEditorParamsType:Ge,AnnotationEditorType:ke,AnnotationEditorUIManager:Pu,AnnotationLayer:zw,AnnotationMode:Ra,AnnotationType:Kt,applyOpacity:m6,build:TO,ColorPicker:Q0,createValidAbsoluteUrl:ZF,CSSConstants:g6,DOMSVGFactory:j0,DrawLayer:gx,FeatureTest:ln,fetchData:xy,findContrastColor:y6,getDocument:oP,getFilenameFromUrl:c6,getPdfFilenameFromUrl:u6,getRGB:Ey,getUuid:t3,getXfaPageViewport:h6,GlobalWorkerOptions:js,ImageKind:Nv,InvalidPDFException:$D,isDataScheme:sb,isPdfFile:MT,isValidExplicitDest:S6,MathClamp:ai,noContextMenu:Gr,normalizeUnicode:o6,OPS:cg,OutputScale:so,PasswordResponses:Q4,PDFDataRangeTransport:aP,PDFDateString:G0,PDFWorker:hg,PermissionFlag:J4,PixelsPerInch:Bl,RenderingCancelledException:PT,renderRichText:r3,ResponseException:z0,setLayerDimensions:Fu,shadow:Ue,SignatureExtractor:ea,stopEvent:Vt,SupportedImageMimeTypes:YD,TextLayer:dg,TouchManager:X0,updateUrlHash:jF,Util:ye,VerbosityLevel:nb,version:xO,XfaLayer:i3};var Ds={},qT="1.13.7",lS=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},lb=Array.prototype,zT=Object.prototype,cS=typeof Symbol<"u"?Symbol.prototype:null,YO=lb.push,Uy=lb.slice,fg=zT.toString,KO=zT.hasOwnProperty,cM=typeof ArrayBuffer<"u",JO=typeof DataView<"u",QO=Array.isArray,uS=Object.keys,dS=Object.create,hS=cM&&ArrayBuffer.isView,ZO=isNaN,jO=isFinite,uM=!{toString:null}.propertyIsEnumerable("toString"),fS=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],e9=Math.pow(2,53)-1;function hi(n,e){return e=e==null?n.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),i=Array(t),r=0;r<t;r++)i[r]=arguments[r+e];switch(e){case 0:return n.call(this,i);case 1:return n.call(this,arguments[0],i);case 2:return n.call(this,arguments[0],arguments[1],i)}var s=Array(e+1);for(r=0;r<e;r++)s[r]=arguments[r];return s[e]=i,n.apply(this,s)}}function Gl(n){var e=typeof n;return e==="function"||e==="object"&&!!n}function dM(n){return n===null}function GT(n){return n===void 0}function $T(n){return n===!0||n===!1||fg.call(n)==="[object Boolean]"}function hM(n){return!!(n&&n.nodeType===1)}function Zn(n){var e="[object "+n+"]";return function(t){return fg.call(t)===e}}const cb=Zn("String"),XT=Zn("Number"),fM=Zn("Date"),pM=Zn("RegExp"),gM=Zn("Error"),YT=Zn("Symbol"),KT=Zn("ArrayBuffer");var mM=Zn("Function"),t9=lS.document&&lS.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof t9!="function"&&(mM=function(n){return typeof n=="function"||!1});const Qn=mM,yM=Zn("Object");var vM=JO&&(!/\[native code\]/.test(String(DataView))||yM(new DataView(new ArrayBuffer(8)))),JT=typeof Map<"u"&&yM(new Map),n9=Zn("DataView");function i9(n){return n!=null&&Qn(n.getInt8)&&KT(n.buffer)}const pg=vM?i9:n9,$l=QO||Zn("Array");function Xl(n,e){return n!=null&&KO.call(n,e)}var vx=Zn("Arguments");(function(){vx(arguments)||(vx=function(n){return Xl(n,"callee")})})();const ub=vx;function bM(n){return!YT(n)&&jO(n)&&!isNaN(parseFloat(n))}function QT(n){return XT(n)&&ZO(n)}function ZT(n){return function(){return n}}function _M(n){return function(e){var t=n(e);return typeof t=="number"&&t>=0&&t<=e9}}function DM(n){return function(e){return e==null?void 0:e[n]}}const i1=DM("byteLength"),r9=_M(i1);var s9=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function o9(n){return hS?hS(n)&&!pg(n):r9(n)&&s9.test(fg.call(n))}const jT=cM?o9:ZT(!1),Ri=DM("length");function a9(n){for(var e={},t=n.length,i=0;i<t;++i)e[n[i]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,n.push(r)}}}function wM(n,e){e=a9(e);var t=fS.length,i=n.constructor,r=Qn(i)&&i.prototype||zT,s="constructor";for(Xl(n,s)&&!e.contains(s)&&e.push(s);t--;)s=fS[t],s in n&&n[s]!==r[s]&&!e.contains(s)&&e.push(s)}function cn(n){if(!Gl(n))return[];if(uS)return uS(n);var e=[];for(var t in n)Xl(n,t)&&e.push(t);return uM&&wM(n,e),e}function xM(n){if(n==null)return!0;var e=Ri(n);return typeof e=="number"&&($l(n)||cb(n)||ub(n))?e===0:Ri(cn(n))===0}function eE(n,e){var t=cn(e),i=t.length;if(n==null)return!i;for(var r=Object(n),s=0;s<i;s++){var o=t[s];if(e[o]!==r[o]||!(o in r))return!1}return!0}function je(n){if(n instanceof je)return n;if(!(this instanceof je))return new je(n);this._wrapped=n}je.VERSION=qT;je.prototype.value=function(){return this._wrapped};je.prototype.valueOf=je.prototype.toJSON=je.prototype.value;je.prototype.toString=function(){return String(this._wrapped)};function pS(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,i1(n))}var gS="[object DataView]";function bx(n,e,t,i){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var r=typeof n;return r!=="function"&&r!=="object"&&typeof e!="object"?!1:TM(n,e,t,i)}function TM(n,e,t,i){n instanceof je&&(n=n._wrapped),e instanceof je&&(e=e._wrapped);var r=fg.call(n);if(r!==fg.call(e))return!1;if(vM&&r=="[object Object]"&&pg(n)){if(!pg(e))return!1;r=gS}switch(r){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return cS.valueOf.call(n)===cS.valueOf.call(e);case"[object ArrayBuffer]":case gS:return TM(pS(n),pS(e),t,i)}var s=r==="[object Array]";if(!s&&jT(n)){var o=i1(n);if(o!==i1(e))return!1;if(n.buffer===e.buffer&&n.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof n!="object"||typeof e!="object")return!1;var a=n.constructor,l=e.constructor;if(a!==l&&!(Qn(a)&&a instanceof a&&Qn(l)&&l instanceof l)&&"constructor"in n&&"constructor"in e)return!1}t=t||[],i=i||[];for(var c=t.length;c--;)if(t[c]===n)return i[c]===e;if(t.push(n),i.push(e),s){if(c=n.length,c!==e.length)return!1;for(;c--;)if(!bx(n[c],e[c],t,i))return!1}else{var u=cn(n),h;if(c=u.length,cn(e).length!==c)return!1;for(;c--;)if(h=u[c],!(Xl(e,h)&&bx(n[h],e[h],t,i)))return!1}return t.pop(),i.pop(),!0}function EM(n,e){return bx(n,e)}function Pf(n){if(!Gl(n))return[];var e=[];for(var t in n)e.push(t);return uM&&wM(n,e),e}function tE(n){var e=Ri(n);return function(t){if(t==null)return!1;var i=Pf(t);if(Ri(i))return!1;for(var r=0;r<e;r++)if(!Qn(t[n[r]]))return!1;return n!==SM||!Qn(t[nE])}}var nE="forEach",AM="has",iE=["clear","delete"],CM=["get",AM,"set"],l9=iE.concat(nE,CM),SM=iE.concat(CM),c9=["add"].concat(iE,nE,AM);const UM=JT?tE(l9):Zn("Map"),IM=JT?tE(SM):Zn("WeakMap"),kM=JT?tE(c9):Zn("Set"),RM=Zn("WeakSet");function zu(n){for(var e=cn(n),t=e.length,i=Array(t),r=0;r<t;r++)i[r]=n[e[r]];return i}function FM(n){for(var e=cn(n),t=e.length,i=Array(t),r=0;r<t;r++)i[r]=[e[r],n[e[r]]];return i}function rE(n){for(var e={},t=cn(n),i=0,r=t.length;i<r;i++)e[n[t[i]]]=t[i];return e}function gg(n){var e=[];for(var t in n)Qn(n[t])&&e.push(t);return e.sort()}function sE(n,e){return function(t){var i=arguments.length;if(e&&(t=Object(t)),i<2||t==null)return t;for(var r=1;r<i;r++)for(var s=arguments[r],o=n(s),a=o.length,l=0;l<a;l++){var c=o[l];(!e||t[c]===void 0)&&(t[c]=s[c])}return t}}const oE=sE(Pf),Tf=sE(cn),aE=sE(Pf,!0);function u9(){return function(){}}function PM(n){if(!Gl(n))return{};if(dS)return dS(n);var e=u9();e.prototype=n;var t=new e;return e.prototype=null,t}function MM(n,e){var t=PM(n);return e&&Tf(t,e),t}function NM(n){return Gl(n)?$l(n)?n.slice():oE({},n):n}function LM(n,e){return e(n),n}function lE(n){return $l(n)?n:[n]}je.toPath=lE;function Iy(n){return je.toPath(n)}function cE(n,e){for(var t=e.length,i=0;i<t;i++){if(n==null)return;n=n[e[i]]}return t?n:void 0}function uE(n,e,t){var i=cE(n,Iy(e));return GT(i)?t:i}function BM(n,e){e=Iy(e);for(var t=e.length,i=0;i<t;i++){var r=e[i];if(!Xl(n,r))return!1;n=n[r]}return!!t}function db(n){return n}function Nu(n){return n=Tf({},n),function(e){return eE(e,n)}}function hb(n){return n=Iy(n),function(e){return cE(e,n)}}function ky(n,e,t){if(e===void 0)return n;switch(t??3){case 1:return function(i){return n.call(e,i)};case 3:return function(i,r,s){return n.call(e,i,r,s)};case 4:return function(i,r,s,o){return n.call(e,i,r,s,o)}}return function(){return n.apply(e,arguments)}}function OM(n,e,t){return n==null?db:Qn(n)?ky(n,e,t):Gl(n)&&!$l(n)?Nu(n):hb(n)}function fb(n,e){return OM(n,e,1/0)}je.iteratee=fb;function Pi(n,e,t){return je.iteratee!==fb?je.iteratee(n,e):OM(n,e,t)}function WM(n,e,t){e=Pi(e,t);for(var i=cn(n),r=i.length,s={},o=0;o<r;o++){var a=i[o];s[a]=e(n[a],a,n)}return s}function dE(){}function VM(n){return n==null?dE:function(e){return uE(n,e)}}function HM(n,e,t){var i=Array(Math.max(0,n));e=ky(e,t,1);for(var r=0;r<n;r++)i[r]=e(r);return i}function r1(n,e){return e==null&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))}const Ef=Date.now||function(){return new Date().getTime()};function qM(n){var e=function(s){return n[s]},t="(?:"+cn(n).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(s){return s=s==null?"":""+s,i.test(s)?s.replace(r,e):s}}const zM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},GM=qM(zM),d9=rE(zM),$M=qM(d9),XM=je.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B2=/(.)^/,h9={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},f9=/\\|'|\r|\n|\u2028|\u2029/g;function p9(n){return"\\"+h9[n]}var g9=/^\s*(\w|\$)+\s*$/;function YM(n,e,t){!e&&t&&(e=t),e=aE({},e,je.templateSettings);var i=RegExp([(e.escape||B2).source,(e.interpolate||B2).source,(e.evaluate||B2).source].join("|")+"|$","g"),r=0,s="__p+='";n.replace(i,function(c,u,h,f,g){return s+=n.slice(r,g).replace(f9,p9),r=g+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:h?s+=`'+
((__t=(`+h+`))==null?'':__t)+
'`:f&&(s+=`';
`+f+`
__p+='`),c}),s+=`';
`;var o=e.variable;if(o){if(!g9.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var a;try{a=new Function(o,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return a.call(this,c,je)};return l.source="function("+o+`){
`+s+"}",l}function KM(n,e,t){e=Iy(e);var i=e.length;if(!i)return Qn(t)?t.call(n):t;for(var r=0;r<i;r++){var s=n==null?void 0:n[e[r]];s===void 0&&(s=t,r=i),n=Qn(s)?s.call(n):s}return n}var m9=0;function JM(n){var e=++m9+"";return n?n+e:e}function QM(n){var e=je(n);return e._chain=!0,e}function ZM(n,e,t,i,r){if(!(i instanceof e))return n.apply(t,r);var s=PM(n.prototype),o=n.apply(s,r);return Gl(o)?o:s}var Gu=hi(function(n,e){var t=Gu.placeholder,i=function(){for(var r=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===t?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return ZM(n,i,this,this,o)};return i});Gu.placeholder=je;const hE=hi(function(n,e,t){if(!Qn(n))throw new TypeError("Bind must be called on a function");var i=hi(function(r){return ZM(n,i,e,this,t.concat(r))});return i}),gr=_M(Ri);function $u(n,e,t,i){if(i=i||[],!e&&e!==0)e=1/0;else if(e<=0)return i.concat(n);for(var r=i.length,s=0,o=Ri(n);s<o;s++){var a=n[s];if(gr(a)&&($l(a)||ub(a)))if(e>1)$u(a,e-1,t,i),r=i.length;else for(var l=0,c=a.length;l<c;)i[r++]=a[l++];else t||(i[r++]=a)}return i}const jM=hi(function(n,e){e=$u(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var i=e[t];n[i]=hE(n[i],n)}return n});function eN(n,e){var t=function(i){var r=t.cache,s=""+(e?e.apply(this,arguments):i);return Xl(r,s)||(r[s]=n.apply(this,arguments)),r[s]};return t.cache={},t}const fE=hi(function(n,e,t){return setTimeout(function(){return n.apply(null,t)},e)}),tN=Gu(fE,je,1);function nN(n,e,t){var i,r,s,o,a=0;t||(t={});var l=function(){a=t.leading===!1?0:Ef(),i=null,o=n.apply(r,s),i||(r=s=null)},c=function(){var u=Ef();!a&&t.leading===!1&&(a=u);var h=e-(u-a);return r=this,s=arguments,h<=0||h>e?(i&&(clearTimeout(i),i=null),a=u,o=n.apply(r,s),i||(r=s=null)):!i&&t.trailing!==!1&&(i=setTimeout(l,h)),o};return c.cancel=function(){clearTimeout(i),a=0,i=r=s=null},c}function iN(n,e,t){var i,r,s,o,a,l=function(){var u=Ef()-r;e>u?i=setTimeout(l,e-u):(i=null,t||(o=n.apply(a,s)),i||(s=a=null))},c=hi(function(u){return a=this,s=u,r=Ef(),i||(i=setTimeout(l,e),t&&(o=n.apply(a,s))),o});return c.cancel=function(){clearTimeout(i),i=s=a=null},c}function rN(n,e){return Gu(e,n)}function pb(n){return function(){return!n.apply(this,arguments)}}function sN(){var n=arguments,e=n.length-1;return function(){for(var t=e,i=n[e].apply(this,arguments);t--;)i=n[t].call(this,i);return i}}function oN(n,e){return function(){if(--n<1)return e.apply(this,arguments)}}function pE(n,e){var t;return function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=null),t}}const aN=Gu(pE,2);function gE(n,e,t){e=Pi(e,t);for(var i=cn(n),r,s=0,o=i.length;s<o;s++)if(r=i[s],e(n[r],r,n))return r}function lN(n){return function(e,t,i){t=Pi(t,i);for(var r=Ri(e),s=n>0?0:r-1;s>=0&&s<r;s+=n)if(t(e[s],s,e))return s;return-1}}const gb=lN(1),mE=lN(-1);function yE(n,e,t,i){t=Pi(t,i,1);for(var r=t(e),s=0,o=Ri(n);s<o;){var a=Math.floor((s+o)/2);t(n[a])<r?s=a+1:o=a}return s}function cN(n,e,t){return function(i,r,s){var o=0,a=Ri(i);if(typeof s=="number")n>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(t&&s&&a)return s=t(i,r),i[s]===r?s:-1;if(r!==r)return s=e(Uy.call(i,o,a),QT),s>=0?s+o:-1;for(s=n>0?o:a-1;s>=0&&s<a;s+=n)if(i[s]===r)return s;return-1}}const vE=cN(1,gb,yE),uN=cN(-1,mE);function mg(n,e,t){var i=gr(n)?gb:gE,r=i(n,e,t);if(r!==void 0&&r!==-1)return n[r]}function dN(n,e){return mg(n,Nu(e))}function bs(n,e,t){e=ky(e,t);var i,r;if(gr(n))for(i=0,r=n.length;i<r;i++)e(n[i],i,n);else{var s=cn(n);for(i=0,r=s.length;i<r;i++)e(n[s[i]],s[i],n)}return n}function ha(n,e,t){e=Pi(e,t);for(var i=!gr(n)&&cn(n),r=(i||n).length,s=Array(r),o=0;o<r;o++){var a=i?i[o]:o;s[o]=e(n[a],a,n)}return s}function hN(n){var e=function(t,i,r,s){var o=!gr(t)&&cn(t),a=(o||t).length,l=n>0?0:a-1;for(s||(r=t[o?o[l]:l],l+=n);l>=0&&l<a;l+=n){var c=o?o[l]:l;r=i(r,t[c],c,t)}return r};return function(t,i,r,s){var o=arguments.length>=3;return e(t,ky(i,s,4),r,o)}}const Wd=hN(1),s1=hN(-1);function Ol(n,e,t){var i=[];return e=Pi(e,t),bs(n,function(r,s,o){e(r,s,o)&&i.push(r)}),i}function fN(n,e,t){return Ol(n,pb(Pi(e)),t)}function o1(n,e,t){e=Pi(e,t);for(var i=!gr(n)&&cn(n),r=(i||n).length,s=0;s<r;s++){var o=i?i[s]:s;if(!e(n[o],o,n))return!1}return!0}function a1(n,e,t){e=Pi(e,t);for(var i=!gr(n)&&cn(n),r=(i||n).length,s=0;s<r;s++){var o=i?i[s]:s;if(e(n[o],o,n))return!0}return!1}function Or(n,e,t,i){return gr(n)||(n=zu(n)),(typeof t!="number"||i)&&(t=0),vE(n,e,t)>=0}const pN=hi(function(n,e,t){var i,r;return Qn(e)?r=e:(e=Iy(e),i=e.slice(0,-1),e=e[e.length-1]),ha(n,function(s){var o=r;if(!o){if(i&&i.length&&(s=cE(s,i)),s==null)return;o=s[e]}return o==null?o:o.apply(s,t)})});function mb(n,e){return ha(n,hb(e))}function gN(n,e){return Ol(n,Nu(e))}function bE(n,e,t){var i=-1/0,r=-1/0,s,o;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=gr(n)?n:zu(n);for(var a=0,l=n.length;a<l;a++)s=n[a],s!=null&&s>i&&(i=s)}else e=Pi(e,t),bs(n,function(c,u,h){o=e(c,u,h),(o>r||o===-1/0&&i===-1/0)&&(i=c,r=o)});return i}function mN(n,e,t){var i=1/0,r=1/0,s,o;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=gr(n)?n:zu(n);for(var a=0,l=n.length;a<l;a++)s=n[a],s!=null&&s<i&&(i=s)}else e=Pi(e,t),bs(n,function(c,u,h){o=e(c,u,h),(o<r||o===1/0&&i===1/0)&&(i=c,r=o)});return i}var y9=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function _E(n){return n?$l(n)?Uy.call(n):cb(n)?n.match(y9):gr(n)?ha(n,db):zu(n):[]}function DE(n,e,t){if(e==null||t)return gr(n)||(n=zu(n)),n[r1(n.length-1)];var i=_E(n),r=Ri(i);e=Math.max(Math.min(e,r),0);for(var s=r-1,o=0;o<e;o++){var a=r1(o,s),l=i[o];i[o]=i[a],i[a]=l}return i.slice(0,e)}function yN(n){return DE(n,1/0)}function vN(n,e,t){var i=0;return e=Pi(e,t),mb(ha(n,function(r,s,o){return{value:r,index:i++,criteria:e(r,s,o)}}).sort(function(r,s){var o=r.criteria,a=s.criteria;if(o!==a){if(o>a||o===void 0)return 1;if(o<a||a===void 0)return-1}return r.index-s.index}),"value")}function yb(n,e){return function(t,i,r){var s=e?[[],[]]:{};return i=Pi(i,r),bs(t,function(o,a){var l=i(o,a,t);n(s,o,l)}),s}}const bN=yb(function(n,e,t){Xl(n,t)?n[t].push(e):n[t]=[e]}),_N=yb(function(n,e,t){n[t]=e}),DN=yb(function(n,e,t){Xl(n,t)?n[t]++:n[t]=1}),wN=yb(function(n,e,t){n[t?0:1].push(e)},!0);function xN(n){return n==null?0:gr(n)?n.length:cn(n).length}function v9(n,e,t){return e in t}const wE=hi(function(n,e){var t={},i=e[0];if(n==null)return t;Qn(i)?(e.length>1&&(i=ky(i,e[1])),e=Pf(n)):(i=v9,e=$u(e,!1,!1),n=Object(n));for(var r=0,s=e.length;r<s;r++){var o=e[r],a=n[o];i(a,o,n)&&(t[o]=a)}return t}),TN=hi(function(n,e){var t=e[0],i;return Qn(t)?(t=pb(t),e.length>1&&(i=e[1])):(e=ha($u(e,!1,!1),String),t=function(r,s){return!Or(e,s)}),wE(n,t,i)});function xE(n,e,t){return Uy.call(n,0,Math.max(0,n.length-(e==null||t?1:e)))}function Vd(n,e,t){return n==null||n.length<1?e==null||t?void 0:[]:e==null||t?n[0]:xE(n,n.length-e)}function Cu(n,e,t){return Uy.call(n,e==null||t?1:e)}function EN(n,e,t){return n==null||n.length<1?e==null||t?void 0:[]:e==null||t?n[n.length-1]:Cu(n,Math.max(0,n.length-e))}function AN(n){return Ol(n,Boolean)}function CN(n,e){return $u(n,e,!1)}const TE=hi(function(n,e){return e=$u(e,!0,!0),Ol(n,function(t){return!Or(e,t)})}),SN=hi(function(n,e){return TE(n,e)});function yg(n,e,t,i){$T(e)||(i=t,t=e,e=!1),t!=null&&(t=Pi(t,i));for(var r=[],s=[],o=0,a=Ri(n);o<a;o++){var l=n[o],c=t?t(l,o,n):l;e&&!t?((!o||s!==c)&&r.push(l),s=c):t?Or(s,c)||(s.push(c),r.push(l)):Or(r,l)||r.push(l)}return r}const UN=hi(function(n){return yg($u(n,!0,!0))});function IN(n){for(var e=[],t=arguments.length,i=0,r=Ri(n);i<r;i++){var s=n[i];if(!Or(e,s)){var o;for(o=1;o<t&&Or(arguments[o],s);o++);o===t&&e.push(s)}}return e}function vg(n){for(var e=n&&bE(n,Ri).length||0,t=Array(e),i=0;i<e;i++)t[i]=mb(n,i);return t}const kN=hi(vg);function RN(n,e){for(var t={},i=0,r=Ri(n);i<r;i++)e?t[n[i]]=e[i]:t[n[i][0]]=n[i][1];return t}function FN(n,e,t){e==null&&(e=n||0,n=0),t||(t=e<n?-1:1);for(var i=Math.max(Math.ceil((e-n)/t),0),r=Array(i),s=0;s<i;s++,n+=t)r[s]=n;return r}function PN(n,e){if(e==null||e<1)return[];for(var t=[],i=0,r=n.length;i<r;)t.push(Uy.call(n,i,i+=e));return t}function EE(n,e){return n._chain?je(e).chain():e}function AE(n){return bs(gg(n),function(e){var t=je[e]=n[e];je.prototype[e]=function(){var i=[this._wrapped];return YO.apply(i,arguments),EE(this,t.apply(je,i))}}),je}bs(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=lb[n];je.prototype[n]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(n==="shift"||n==="splice")&&t.length===0&&delete t[0]),EE(this,t)}});bs(["concat","join","slice"],function(n){var e=lb[n];je.prototype[n]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),EE(this,t)}});const b9=Object.freeze(Object.defineProperty({__proto__:null,VERSION:qT,after:oN,all:o1,allKeys:Pf,any:a1,assign:Tf,before:pE,bind:hE,bindAll:jM,chain:QM,chunk:PN,clone:NM,collect:ha,compact:AN,compose:sN,constant:ZT,contains:Or,countBy:DN,create:MM,debounce:iN,default:je,defaults:aE,defer:tN,delay:fE,detect:mg,difference:TE,drop:Cu,each:bs,escape:GM,every:o1,extend:oE,extendOwn:Tf,filter:Ol,find:mg,findIndex:gb,findKey:gE,findLastIndex:mE,findWhere:dN,first:Vd,flatten:CN,foldl:Wd,foldr:s1,forEach:bs,functions:gg,get:uE,groupBy:bN,has:BM,head:Vd,identity:db,include:Or,includes:Or,indexBy:_N,indexOf:vE,initial:xE,inject:Wd,intersection:IN,invert:rE,invoke:pN,isArguments:ub,isArray:$l,isArrayBuffer:KT,isBoolean:$T,isDataView:pg,isDate:fM,isElement:hM,isEmpty:xM,isEqual:EM,isError:gM,isFinite:bM,isFunction:Qn,isMap:UM,isMatch:eE,isNaN:QT,isNull:dM,isNumber:XT,isObject:Gl,isRegExp:pM,isSet:kM,isString:cb,isSymbol:YT,isTypedArray:jT,isUndefined:GT,isWeakMap:IM,isWeakSet:RM,iteratee:fb,keys:cn,last:EN,lastIndexOf:uN,map:ha,mapObject:WM,matcher:Nu,matches:Nu,max:bE,memoize:eN,methods:gg,min:mN,mixin:AE,negate:pb,noop:dE,now:Ef,object:RN,omit:TN,once:aN,pairs:FM,partial:Gu,partition:wN,pick:wE,pluck:mb,property:hb,propertyOf:VM,random:r1,range:FN,reduce:Wd,reduceRight:s1,reject:fN,rest:Cu,restArguments:hi,result:KM,sample:DE,select:Ol,shuffle:yN,size:xN,some:a1,sortBy:vN,sortedIndex:yE,tail:Cu,take:Vd,tap:LM,template:YM,templateSettings:XM,throttle:nN,times:HM,toArray:_E,toPath:lE,transpose:vg,unescape:$M,union:UN,uniq:yg,unique:yg,uniqueId:JM,unzip:vg,values:zu,where:gN,without:SN,wrap:rN,zip:kN},Symbol.toStringTag,{value:"Module"}));var _x=AE(b9);_x._=_x;const _9=Object.freeze(Object.defineProperty({__proto__:null,VERSION:qT,after:oN,all:o1,allKeys:Pf,any:a1,assign:Tf,before:pE,bind:hE,bindAll:jM,chain:QM,chunk:PN,clone:NM,collect:ha,compact:AN,compose:sN,constant:ZT,contains:Or,countBy:DN,create:MM,debounce:iN,default:_x,defaults:aE,defer:tN,delay:fE,detect:mg,difference:TE,drop:Cu,each:bs,escape:GM,every:o1,extend:oE,extendOwn:Tf,filter:Ol,find:mg,findIndex:gb,findKey:gE,findLastIndex:mE,findWhere:dN,first:Vd,flatten:CN,foldl:Wd,foldr:s1,forEach:bs,functions:gg,get:uE,groupBy:bN,has:BM,head:Vd,identity:db,include:Or,includes:Or,indexBy:_N,indexOf:vE,initial:xE,inject:Wd,intersection:IN,invert:rE,invoke:pN,isArguments:ub,isArray:$l,isArrayBuffer:KT,isBoolean:$T,isDataView:pg,isDate:fM,isElement:hM,isEmpty:xM,isEqual:EM,isError:gM,isFinite:bM,isFunction:Qn,isMap:UM,isMatch:eE,isNaN:QT,isNull:dM,isNumber:XT,isObject:Gl,isRegExp:pM,isSet:kM,isString:cb,isSymbol:YT,isTypedArray:jT,isUndefined:GT,isWeakMap:IM,isWeakSet:RM,iteratee:fb,keys:cn,last:EN,lastIndexOf:uN,map:ha,mapObject:WM,matcher:Nu,matches:Nu,max:bE,memoize:eN,methods:gg,min:mN,mixin:AE,negate:pb,noop:dE,now:Ef,object:RN,omit:TN,once:aN,pairs:FM,partial:Gu,partition:wN,pick:wE,pluck:mb,property:hb,propertyOf:VM,random:r1,range:FN,reduce:Wd,reduceRight:s1,reject:fN,rest:Cu,restArguments:hi,result:KM,sample:DE,select:Ol,shuffle:yN,size:xN,some:a1,sortBy:vN,sortedIndex:yE,tail:Cu,take:Vd,tap:LM,template:YM,templateSettings:XM,throttle:nN,times:HM,toArray:_E,toPath:lE,transpose:vg,unescape:$M,union:UN,uniq:yg,unique:yg,uniqueId:JM,unzip:vg,values:zu,where:gN,without:SN,wrap:rN,zip:kN},Symbol.toStringTag,{value:"Module"})),Xt=v5(_9);var CE={},_n={},MN={exports:{}},uv={exports:{}},mS;function Mf(){if(mS)return uv.exports;mS=1;var n=function(){return this===void 0}();if(n)uv.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(u,h){var f=Object.getOwnPropertyDescriptor(u,h);return!!(!f||f.writable||f.set)}};else{var e={}.hasOwnProperty,t={}.toString,i={}.constructor.prototype,r=function(u){var h=[];for(var f in u)e.call(u,f)&&h.push(f);return h},s=function(u,h){return{value:u[h]}},o=function(u,h,f){return u[h]=f.value,u},a=function(u){return u},l=function(u){try{return Object(u).constructor.prototype}catch{return i}},c=function(u){try{return t.call(u)==="[object Array]"}catch{return!1}};uv.exports={isArray:c,keys:r,names:r,defineProperty:o,getDescriptor:s,freeze:a,getPrototypeOf:l,isES5:n,propertyIsWritable:function(){return!0}}}return uv.exports}var O2,yS;function _t(){if(yS)return O2;yS=1;var n={},e=Mf(),t=typeof navigator>"u",i={e:{}},r,s=typeof self<"u"?self:typeof window<"u"?window:typeof Oe<"u"||Oe!==void 0?Oe:null;function o(){try{var G=r;return r=null,G.apply(this,arguments)}catch(ie){return i.e=ie,i}}function a(G){return r=G,o}var l=function(G,ie){var re={}.hasOwnProperty;function ce(){this.constructor=G,this.constructor$=ie;for(var de in ie.prototype)re.call(ie.prototype,de)&&de.charAt(de.length-1)!=="$"&&(this[de+"$"]=ie.prototype[de])}return ce.prototype=ie.prototype,G.prototype=new ce,G.prototype};function c(G){return G==null||G===!0||G===!1||typeof G=="string"||typeof G=="number"}function u(G){return typeof G=="function"||typeof G=="object"&&G!==null}function h(G){return c(G)?new Error(C(G)):G}function f(G,ie){var re=G.length,ce=new Array(re+1),de;for(de=0;de<re;++de)ce[de]=G[de];return ce[de]=ie,ce}function g(G,ie,re){if(e.isES5){var ce=Object.getOwnPropertyDescriptor(G,ie);if(ce!=null)return ce.get==null&&ce.set==null?ce.value:re}else return{}.hasOwnProperty.call(G,ie)?G[ie]:void 0}function _(G,ie,re){if(c(G))return G;var ce={value:re,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(G,ie,ce),G}function m(G){throw G}var D=function(){var G=[Array.prototype,Object.prototype,Function.prototype],ie=function(de){for(var _e=0;_e<G.length;++_e)if(G[_e]===de)return!0;return!1};if(e.isES5){var re=Object.getOwnPropertyNames;return function(de){for(var _e=[],Te=Object.create(null);de!=null&&!ie(de);){var Me;try{Me=re(de)}catch{return _e}for(var Le=0;Le<Me.length;++Le){var j=Me[Le];if(!Te[j]){Te[j]=!0;var ae=Object.getOwnPropertyDescriptor(de,j);ae!=null&&ae.get==null&&ae.set==null&&_e.push(j)}}de=e.getPrototypeOf(de)}return _e}}else{var ce={}.hasOwnProperty;return function(de){if(ie(de))return[];var _e=[];e:for(var Te in de)if(ce.call(de,Te))_e.push(Te);else{for(var Me=0;Me<G.length;++Me)if(ce.call(G[Me],Te))continue e;_e.push(Te)}return _e}}}(),y=/this\s*\.\s*\S+\s*=/;function b(G){try{if(typeof G=="function"){var ie=e.names(G.prototype),re=e.isES5&&ie.length>1,ce=ie.length>0&&!(ie.length===1&&ie[0]==="constructor"),de=y.test(G+"")&&e.names(G).length>0;if(re||ce||de)return!0}return!1}catch{return!1}}function w(G){return G}var x=/^[a-z$_][a-z$_0-9]*$/i;function T(G){return x.test(G)}function E(G,ie,re){for(var ce=new Array(G),de=0;de<G;++de)ce[de]=ie+de+re;return ce}function C(G){try{return G+""}catch{return"[no string representation]"}}function F(G){return G!==null&&typeof G=="object"&&typeof G.message=="string"&&typeof G.name=="string"}function P(G){try{_(G,"isOperational",!0)}catch{}}function O(G){return G==null?!1:G instanceof Error.__BluebirdErrorTypes__.OperationalError||G.isOperational===!0}function Y(G){return F(G)&&e.propertyIsWritable(G,"stack")}var R=function(){return"stack"in new Error?function(G){return Y(G)?G:new Error(C(G))}:function(G){if(Y(G))return G;try{throw new Error(C(G))}catch(ie){return ie}}}();function V(G){return{}.toString.call(G)}function S(G,ie,re){for(var ce=e.names(G),de=0;de<ce.length;++de){var _e=ce[de];if(re(_e))try{e.defineProperty(ie,_e,e.getDescriptor(G,_e))}catch{}}}var K=function(G){return e.isArray(G)?G:null};if(typeof Symbol<"u"&&Symbol.iterator){var N=typeof Array.from=="function"?function(G){return Array.from(G)}:function(G){for(var ie=[],re=G[Symbol.iterator](),ce;!(ce=re.next()).done;)ie.push(ce.value);return ie};K=function(G){return e.isArray(G)?G:G!=null&&typeof G[Symbol.iterator]=="function"?N(G):null}}var B=typeof process<"u"&&V(process).toLowerCase()==="[object process]",M=typeof process<"u"&&typeof n<"u";function L(G){return M?n[G]:void 0}function X(){if(typeof Promise=="function")try{var G=new Promise(function(){});if({}.toString.call(G)==="[object Promise]")return Promise}catch{}}function H(G,ie){return G.bind(ie)}var z={isClass:b,isIdentifier:T,inheritedDataKeys:D,getDataPropertyOrDefault:g,thrower:m,isArray:e.isArray,asArray:K,notEnumerableProp:_,isPrimitive:c,isObject:u,isError:F,canEvaluate:t,errorObj:i,tryCatch:a,inherits:l,withAppended:f,maybeWrapAsError:h,toFastProperties:w,filledRange:E,toString:C,canAttachTrace:Y,ensureErrorObject:R,originatesFromRejection:O,markAsOriginatingFromRejection:P,classString:V,copyDescriptors:S,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:B,hasEnvVariables:M,env:L,global:s,getNativePromise:X,domainBind:H};z.isRecentNode=z.isNode&&function(){var G=process.versions.node.split(".").map(Number);return G[0]===0&&G[1]>10||G[0]>0}(),z.isNode&&z.toFastProperties(process);try{throw new Error}catch(G){z.lastLineError=G}return O2=z,O2}var dv={exports:{}},W2,vS;function D9(){if(vS)return W2;vS=1;var n=_t(),e,t=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},i=n.getNativePromise();if(n.isNode&&typeof MutationObserver>"u"){var r=Oe.setImmediate,s=process.nextTick;e=n.isRecentNode?function(a){r.call(Oe,a)}:function(a){s.call(process,a)}}else if(typeof i=="function"&&typeof i.resolve=="function"){var o=i.resolve();e=function(a){o.then(a)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var a=document.createElement("div"),l={attributes:!0},c=!1,u=document.createElement("div"),h=new MutationObserver(function(){a.classList.toggle("foo"),c=!1});h.observe(u,l);var f=function(){c||(c=!0,u.classList.toggle("foo"))};return function(_){var m=new MutationObserver(function(){m.disconnect(),_()});m.observe(a,l),f()}}():typeof setImmediate<"u"?e=function(a){setImmediate(a)}:typeof setTimeout<"u"?e=function(a){setTimeout(a,0)}:e=t;return W2=e,W2}var V2,bS;function w9(){if(bS)return V2;bS=1;function n(t,i,r,s,o){for(var a=0;a<o;++a)r[a+s]=t[a+i],t[a+i]=void 0}function e(t){this._capacity=t,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(t){return this._capacity<t},e.prototype._pushOne=function(t){var i=this.length();this._checkCapacity(i+1);var r=this._front+i&this._capacity-1;this[r]=t,this._length=i+1},e.prototype.push=function(t,i,r){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(t),this._pushOne(i),this._pushOne(r);return}var o=this._front+s-3;this._checkCapacity(s);var a=this._capacity-1;this[o+0&a]=t,this[o+1&a]=i,this[o+2&a]=r,this._length=s},e.prototype.shift=function(){var t=this._front,i=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,i},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(t){var i=this._capacity;this._capacity=t;var r=this._front,s=this._length,o=r+s&i-1;n(this,0,this,i,o)},V2=e,V2}var _S;function x9(){if(_S)return dv.exports;_S=1;var n;try{throw new Error}catch(l){n=l}var e=D9(),t=w9(),i=_t();function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new t(16),this._normalQueue=new t(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}r.prototype.setScheduler=function(l){var c=this._schedule;return this._schedule=l,this._customScheduler=!0,c},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){i.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(l,c){c?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},r.prototype.throwLater=function(l,c){if(arguments.length===1&&(c=l,l=function(){throw c}),typeof setTimeout<"u")setTimeout(function(){l(c)},0);else try{this._schedule(function(){l(c)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,c,u){this._lateQueue.push(l,c,u),this._queueTick()}function o(l,c,u){this._normalQueue.push(l,c,u),this._queueTick()}function a(l){this._normalQueue._pushOne(l),this._queueTick()}return i.hasDevTools?(r.prototype.invokeLater=function(l,c,u){this._trampolineEnabled?s.call(this,l,c,u):this._schedule(function(){setTimeout(function(){l.call(c,u)},100)})},r.prototype.invoke=function(l,c,u){this._trampolineEnabled?o.call(this,l,c,u):this._schedule(function(){l.call(c,u)})},r.prototype.settlePromises=function(l){this._trampolineEnabled?a.call(this,l):this._schedule(function(){l._settlePromises()})}):(r.prototype.invokeLater=s,r.prototype.invoke=o,r.prototype.settlePromises=a),r.prototype._drainQueue=function(l){for(;l.length()>0;){var c=l.shift();if(typeof c!="function"){c._settlePromises();continue}var u=l.shift(),h=l.shift();c.call(u,h)}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},dv.exports=r,dv.exports.firstLineError=n,dv.exports}var H2,DS;function Wl(){if(DS)return H2;DS=1;var n=Mf(),e=n.freeze,t=_t(),i=t.inherits,r=t.notEnumerableProp;function s(y,b){function w(x){if(!(this instanceof w))return new w(x);r(this,"message",typeof x=="string"?x:b),r(this,"name",y),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return i(w,Error),w}var o,a,l=s("Warning","warning"),c=s("CancellationError","cancellation error"),u=s("TimeoutError","timeout error"),h=s("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch{o=s("TypeError","type error"),a=s("RangeError","range error")}for(var f="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<f.length;++g)typeof Array.prototype[f[g]]=="function"&&(h.prototype[f[g]]=Array.prototype[f[g]]);n.defineProperty(h.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),h.prototype.isOperational=!0;var _=0;h.prototype.toString=function(){var y=Array(_*4+1).join(" "),b=`
`+y+`AggregateError of:
`;_++,y=Array(_*4+1).join(" ");for(var w=0;w<this.length;++w){for(var x=this[w]===this?"[Circular AggregateError]":this[w]+"",T=x.split(`
`),E=0;E<T.length;++E)T[E]=y+T[E];x=T.join(`
`),b+=x+`
`}return _--,b};function m(y){if(!(this instanceof m))return new m(y);r(this,"name","OperationalError"),r(this,"message",y),this.cause=y,this.isOperational=!0,y instanceof Error?(r(this,"message",y.message),r(this,"stack",y.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}i(m,Error);var D=Error.__BluebirdErrorTypes__;return D||(D=e({CancellationError:c,TimeoutError:u,OperationalError:m,RejectionError:m,AggregateError:h}),n.defineProperty(Error,"__BluebirdErrorTypes__",{value:D,writable:!1,enumerable:!1,configurable:!1})),H2={Error,TypeError:o,RangeError:a,CancellationError:D.CancellationError,OperationalError:D.OperationalError,TimeoutError:D.TimeoutError,AggregateError:D.AggregateError,Warning:l},H2}var q2,wS;function T9(){return wS||(wS=1,q2=function(n,e){var t=_t(),i=t.errorObj,r=t.isObject;function s(h,f){if(r(h)){if(h instanceof n)return h;var g=a(h);if(g===i){f&&f._pushContext();var _=n.reject(g.e);return f&&f._popContext(),_}else if(typeof g=="function"){if(c(h)){var _=new n(e);return h._then(_._fulfill,_._reject,void 0,_,null),_}return u(h,g,f)}}return h}function o(h){return h.then}function a(h){try{return o(h)}catch(f){return i.e=f,i}}var l={}.hasOwnProperty;function c(h){try{return l.call(h,"_promise0")}catch{return!1}}function u(h,f,g){var _=new n(e),m=_;g&&g._pushContext(),_._captureStackTrace(),g&&g._popContext();var D=!0,y=t.tryCatch(f).call(h,b,w);D=!1,_&&y===i&&(_._rejectCallback(y.e,!0,!0),_=null);function b(x){_&&(_._resolveCallback(x),_=null)}function w(x){_&&(_._rejectCallback(x,D,!0),_=null)}return m}return s}),q2}var z2,xS;function E9(){return xS||(xS=1,z2=function(n,e,t,i,r){var s=_t();s.isArray;function o(l){switch(l){case-2:return[];case-3:return{}}}function a(l){var c=this._promise=new n(e);l instanceof n&&c._propagateFrom(l,3),c._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(a,r),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function l(c,u){var h=t(this._values,this._promise);if(h instanceof n){h=h._target();var f=h._bitField;if(this._values=h,f&50397184)if(f&33554432)h=h._value();else return f&16777216?this._reject(h._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),h._then(l,this._reject,void 0,this,u)}if(h=s.asArray(h),h===null){var g=i("expecting an array or an iterable object but got "+s.classString(h)).reason();this._promise._rejectCallback(g,!1);return}if(h.length===0){u===-5?this._resolveEmptyArray():this._resolve(o(u));return}this._iterate(h)},a.prototype._iterate=function(l){var c=this.getActualLength(l.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,h=!1,f=null,g=0;g<c;++g){var _=t(l[g],u);_ instanceof n?(_=_._target(),f=_._bitField):f=null,h?f!==null&&_.suppressUnhandledRejections():f!==null?f&50397184?f&33554432?h=this._promiseFulfilled(_._value(),g):f&16777216?h=this._promiseRejected(_._reason(),g):h=this._promiseCancelled(g):(_._proxy(this,g),this._values[g]=_):h=this._promiseFulfilled(_,g)}h||u._setAsyncGuaranteed()},a.prototype._isResolved=function(){return this._values===null},a.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},a.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},a.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},a.prototype._promiseFulfilled=function(l,c){this._values[c]=l;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof n)l.cancel();else for(var c=0;c<l.length;++c)l[c]instanceof n&&l[c].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(l){return l},a}),z2}var G2,TS;function A9(){return TS||(TS=1,G2=function(n){var e=!1,t=[];n.prototype._promiseCreated=function(){},n.prototype._pushContext=function(){},n.prototype._popContext=function(){return null},n._peekContext=n.prototype._peekContext=function(){};function i(){this._trace=new i.CapturedTrace(s())}i.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},i.prototype._popContext=function(){if(this._trace!==void 0){var o=t.pop(),a=o._promiseCreated;return o._promiseCreated=null,a}return null};function r(){if(e)return new i}function s(){var o=t.length-1;if(o>=0)return t[o]}return i.CapturedTrace=null,i.create=r,i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var o=n.prototype._pushContext,a=n.prototype._popContext,l=n._peekContext,c=n.prototype._peekContext,u=n.prototype._promiseCreated;i.deactivateLongStackTraces=function(){n.prototype._pushContext=o,n.prototype._popContext=a,n._peekContext=l,n.prototype._peekContext=c,n.prototype._promiseCreated=u,e=!1},e=!0,n.prototype._pushContext=i.prototype._pushContext,n.prototype._popContext=i.prototype._popContext,n._peekContext=n.prototype._peekContext=s,n.prototype._promiseCreated=function(){var h=this._peekContext();h&&h._promiseCreated==null&&(h._promiseCreated=this)}},i}),G2}var $2,ES;function C9(){return ES||(ES=1,$2=function(n,e){var t=n._getDomain,i=n._async,r=Wl().Warning,s=_t(),o=s.canAttachTrace,a,l,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,h=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,f=null,g=null,_=!1,m,D=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),y=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(D||s.env("BLUEBIRD_WARNINGS"))),b=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(D||s.env("BLUEBIRD_LONG_STACK_TRACES"))),w=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(y||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var $=this._target();$._bitField=$._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),i.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){j("rejectionHandled",a,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},n.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var $=this._settledValue();this._setUnhandledRejectionIsNotified(),j("unhandledRejection",l,$,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},n.prototype._warn=function($,J,Z){return ie($,J,Z||this)},n.onPossiblyUnhandledRejection=function($){var J=t();l=typeof $=="function"?J===null?$:s.domainBind(J,$):void 0},n.onUnhandledRejectionHandled=function($){var J=t();a=typeof $=="function"?J===null?$:s.domainBind(J,$):void 0};var x=function(){};n.longStackTraces=function(){if(i.haveItemsQueued()&&!te.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!te.longStackTraces&&ne()){var $=n.prototype._captureStackTrace,J=n.prototype._attachExtraTrace;te.longStackTraces=!0,x=function(){if(i.haveItemsQueued()&&!te.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);n.prototype._captureStackTrace=$,n.prototype._attachExtraTrace=J,e.deactivateLongStackTraces(),i.enableTrampoline(),te.longStackTraces=!1},n.prototype._captureStackTrace=X,n.prototype._attachExtraTrace=H,e.activateLongStackTraces(),i.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return te.longStackTraces&&ne()};var T=function(){try{if(typeof CustomEvent=="function"){var $=new CustomEvent("CustomEvent");return s.global.dispatchEvent($),function(J,Z){var se=new CustomEvent(J.toLowerCase(),{detail:Z,cancelable:!0});return!s.global.dispatchEvent(se)}}else if(typeof Event=="function"){var $=new Event("CustomEvent");return s.global.dispatchEvent($),function(Z,se){var pe=new Event(Z.toLowerCase(),{cancelable:!0});return pe.detail=se,!s.global.dispatchEvent(pe)}}else{var $=document.createEvent("CustomEvent");return $.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent($),function(Z,se){var pe=document.createEvent("CustomEvent");return pe.initCustomEvent(Z.toLowerCase(),!1,!0,se),!s.global.dispatchEvent(pe)}}}catch{}return function(){return!1}}(),E=function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function($){var J="on"+$.toLowerCase(),Z=s.global[J];return Z?(Z.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function C($,J){return{promise:J}}var F={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function($,J,Z){return{promise:J,child:Z}},warning:function($,J){return{warning:J}},unhandledRejection:function($,J,Z){return{reason:J,promise:Z}},rejectionHandled:C},P=function($){var J=!1;try{J=E.apply(null,arguments)}catch(se){i.throwLater(se),J=!0}var Z=!1;try{Z=T($,F[$].apply(null,arguments))}catch(se){i.throwLater(se),Z=!0}return Z||J};n.config=function($){if($=Object($),"longStackTraces"in $&&($.longStackTraces?n.longStackTraces():!$.longStackTraces&&n.hasLongStackTraces()&&x()),"warnings"in $){var J=$.warnings;te.warnings=!!J,w=te.warnings,s.isObject(J)&&"wForgottenReturn"in J&&(w=!!J.wForgottenReturn)}if("cancellation"in $&&$.cancellation&&!te.cancellation){if(i.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=K,n.prototype._propagateFrom=N,n.prototype._onCancel=V,n.prototype._setOnCancel=S,n.prototype._attachCancellationCallback=R,n.prototype._execute=Y,M=N,te.cancellation=!0}return"monitoring"in $&&($.monitoring&&!te.monitoring?(te.monitoring=!0,n.prototype._fireEvent=P):!$.monitoring&&te.monitoring&&(te.monitoring=!1,n.prototype._fireEvent=O)),n};function O(){return!1}n.prototype._fireEvent=O,n.prototype._execute=function($,J,Z){try{$(J,Z)}catch(se){return se}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function($){},n.prototype._attachCancellationCallback=function($){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function($,J){};function Y($,J,Z){var se=this;try{$(J,Z,function(pe){if(typeof pe!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(pe));se._attachCancellationCallback(pe)})}catch(pe){return pe}}function R($){if(!this._isCancellable())return this;var J=this._onCancel();J!==void 0?s.isArray(J)?J.push($):this._setOnCancel([J,$]):this._setOnCancel($)}function V(){return this._onCancelField}function S($){this._onCancelField=$}function K(){this._cancellationParent=void 0,this._onCancelField=void 0}function N($,J){if(J&1){this._cancellationParent=$;var Z=$._branchesRemainingToCancel;Z===void 0&&(Z=0),$._branchesRemainingToCancel=Z+1}J&2&&$._isBound()&&this._setBoundTo($._boundTo)}function B($,J){J&2&&$._isBound()&&this._setBoundTo($._boundTo)}var M=B;function L(){var $=this._boundTo;return $!==void 0&&$ instanceof n?$.isFulfilled()?$.value():void 0:$}function X(){this._trace=new oe(this._peekContext())}function H($,J){if(o($)){var Z=this._trace;if(Z!==void 0&&J&&(Z=Z._parent),Z!==void 0)Z.attachExtraTrace($);else if(!$.__stackCleaned__){var se=Me($);s.notEnumerableProp($,"stack",se.message+`
`+se.stack.join(`
`)),s.notEnumerableProp($,"__stackCleaned__",!0)}}}function z($,J,Z,se,pe){if($===void 0&&J!==null&&w){if(pe!==void 0&&pe._returnedNonUndefined()||!(se._bitField&65535))return;Z&&(Z=Z+" ");var xe="",Ne="";if(J._trace){for(var Ae=J._trace.stack.split(`
`),qe=_e(Ae),gt=qe.length-1;gt>=0;--gt){var Qe=qe[gt];if(!u.test(Qe)){var mi=Qe.match(h);mi&&(xe="at "+mi[1]+":"+mi[2]+":"+mi[3]+" ");break}}if(qe.length>0){for(var Hf=qe[0],gt=0;gt<Ae.length;++gt)if(Ae[gt]===Hf){gt>0&&(Ne=`
`+Ae[gt-1]);break}}}var Xr="a promise was created in a "+Z+"handler "+xe+"but was not returned from it, see http://goo.gl/rRqMUw"+Ne;se._warn(Xr,!0,J)}}function G($,J){var Z=$+" is deprecated and will be removed in a future version.";return J&&(Z+=" Use "+J+" instead."),ie(Z)}function ie($,J,Z){if(te.warnings){var se=new r($),pe;if(J)Z._attachExtraTrace(se);else if(te.longStackTraces&&(pe=n._peekContext()))pe.attachExtraTrace(se);else{var xe=Me(se);se.stack=xe.message+`
`+xe.stack.join(`
`)}P("warning",se)||Le(se,"",!0)}}function re($,J){for(var Z=0;Z<J.length-1;++Z)J[Z].push("From previous event:"),J[Z]=J[Z].join(`
`);return Z<J.length&&(J[Z]=J[Z].join(`
`)),$+`
`+J.join(`
`)}function ce($){for(var J=0;J<$.length;++J)($[J].length===0||J+1<$.length&&$[J][0]===$[J+1][0])&&($.splice(J,1),J--)}function de($){for(var J=$[0],Z=1;Z<$.length;++Z){for(var se=$[Z],pe=J.length-1,xe=J[pe],Ne=-1,Ae=se.length-1;Ae>=0;--Ae)if(se[Ae]===xe){Ne=Ae;break}for(var Ae=Ne;Ae>=0;--Ae){var qe=se[Ae];if(J[pe]===qe)J.pop(),pe--;else break}J=se}}function _e($){for(var J=[],Z=0;Z<$.length;++Z){var se=$[Z],pe=se==="    (No stack trace)"||f.test(se),xe=pe&&ee(se);pe&&!xe&&(_&&se.charAt(0)!==" "&&(se="    "+se),J.push(se))}return J}function Te($){for(var J=$.stack.replace(/\s+$/g,"").split(`
`),Z=0;Z<J.length;++Z){var se=J[Z];if(se==="    (No stack trace)"||f.test(se))break}return Z>0&&$.name!="SyntaxError"&&(J=J.slice(Z)),J}function Me($){var J=$.stack,Z=$.toString();return J=typeof J=="string"&&J.length>0?Te($):["    (No stack trace)"],{message:Z,stack:$.name=="SyntaxError"?J:_e(J)}}function Le($,J,Z){if(typeof console<"u"){var se;if(s.isObject($)){var pe=$.stack;se=J+g(pe,$)}else se=J+String($);typeof m=="function"?m(se,Z):(typeof console.log=="function"||typeof console.log=="object")&&console.log(se)}}function j($,J,Z,se){var pe=!1;try{typeof J=="function"&&(pe=!0,$==="rejectionHandled"?J(se):J(Z,se))}catch(xe){i.throwLater(xe)}$==="unhandledRejection"?!P($,Z,se)&&!pe&&Le(Z,"Unhandled rejection "):P($,se)}function ae($){var J;if(typeof $=="function")J="[function "+($.name||"anonymous")+"]";else{J=$&&typeof $.toString=="function"?$.toString():s.toString($);var Z=/\[object [a-zA-Z0-9$_]+\]/;if(Z.test(J))try{var se=JSON.stringify($);J=se}catch{}J.length===0&&(J="(empty array)")}return"(<"+U(J)+">, no stack trace)"}function U($){var J=41;return $.length<J?$:$.substr(0,J-3)+"..."}function ne(){return typeof le=="function"}var ee=function(){return!1},q=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function W($){var J=$.match(q);if(J)return{fileName:J[1],line:parseInt(J[2],10)}}function Q($,J){if(ne()){for(var Z=$.stack.split(`
`),se=J.stack.split(`
`),pe=-1,xe=-1,Ne,Ae,qe=0;qe<Z.length;++qe){var gt=W(Z[qe]);if(gt){Ne=gt.fileName,pe=gt.line;break}}for(var qe=0;qe<se.length;++qe){var gt=W(se[qe]);if(gt){Ae=gt.fileName,xe=gt.line;break}}pe<0||xe<0||!Ne||!Ae||Ne!==Ae||pe>=xe||(ee=function(Qe){if(c.test(Qe))return!0;var mi=W(Qe);return!!(mi&&mi.fileName===Ne&&pe<=mi.line&&mi.line<=xe)})}}function oe($){this._parent=$,this._promisesCreated=0;var J=this._length=1+($===void 0?0:$._length);le(this,oe),J>32&&this.uncycle()}s.inherits(oe,Error),e.CapturedTrace=oe,oe.prototype.uncycle=function(){var $=this._length;if(!($<2)){for(var J=[],Z={},se=0,pe=this;pe!==void 0;++se)J.push(pe),pe=pe._parent;$=this._length=se;for(var se=$-1;se>=0;--se){var xe=J[se].stack;Z[xe]===void 0&&(Z[xe]=se)}for(var se=0;se<$;++se){var Ne=J[se].stack,Ae=Z[Ne];if(Ae!==void 0&&Ae!==se){Ae>0&&(J[Ae-1]._parent=void 0,J[Ae-1]._length=1),J[se]._parent=void 0,J[se]._length=1;var qe=se>0?J[se-1]:this;Ae<$-1?(qe._parent=J[Ae+1],qe._parent.uncycle(),qe._length=qe._parent._length+1):(qe._parent=void 0,qe._length=1);for(var gt=qe._length+1,Qe=se-2;Qe>=0;--Qe)J[Qe]._length=gt,gt++;return}}}},oe.prototype.attachExtraTrace=function($){if(!$.__stackCleaned__){this.uncycle();for(var J=Me($),Z=J.message,se=[J.stack],pe=this;pe!==void 0;)se.push(_e(pe.stack.split(`
`))),pe=pe._parent;de(se),ce(se),s.notEnumerableProp($,"stack",re(Z,se)),s.notEnumerableProp($,"__stackCleaned__",!0)}};var le=function(){var J=/^\s*at\s*/,Z=function(Ne,Ae){return typeof Ne=="string"?Ne:Ae.name!==void 0&&Ae.message!==void 0?Ae.toString():ae(Ae)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,f=J,g=Z;var se=Error.captureStackTrace;return ee=function(Ne){return c.test(Ne)},function(Ne,Ae){Error.stackTraceLimit+=6,se(Ne,Ae),Error.stackTraceLimit-=6}}var pe=new Error;if(typeof pe.stack=="string"&&pe.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return f=/@/,g=Z,_=!0,function(Ae){Ae.stack=new Error().stack};var xe;try{throw new Error}catch(Ne){xe="stack"in Ne}return!("stack"in pe)&&xe&&typeof Error.stackTraceLimit=="number"?(f=J,g=Z,function(Ae){Error.stackTraceLimit+=6;try{throw new Error}catch(qe){Ae.stack=qe.stack}Error.stackTraceLimit-=6}):(g=function(Ne,Ae){return typeof Ne=="string"?Ne:(typeof Ae=="object"||typeof Ae=="function")&&Ae.name!==void 0&&Ae.message!==void 0?Ae.toString():ae(Ae)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(m=function($){console.warn($)},s.isNode&&process.stderr.isTTY?m=function($,J){var Z=J?"\x1B[33m":"\x1B[31m";console.warn(Z+$+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(m=function($,J){console.warn("%c"+$,J?"color: darkorange":"color: red")}));var te={warnings:y,longStackTraces:!1,cancellation:!1,monitoring:!1};return b&&n.longStackTraces(),{longStackTraces:function(){return te.longStackTraces},warnings:function(){return te.warnings},cancellation:function(){return te.cancellation},monitoring:function(){return te.monitoring},propagateFromFunction:function(){return M},boundValueFunction:function(){return L},checkForgottenReturns:z,setBounds:Q,warn:ie,deprecated:G,CapturedTrace:oe,fireDomEvent:T,fireGlobalEvent:E}}),$2}var X2,AS;function S9(){return AS||(AS=1,X2=function(n,e){var t=_t(),i=n.CancellationError,r=t.errorObj;function s(h,f,g){this.promise=h,this.type=f,this.handler=g,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function o(h){this.finallyHandler=h}o.prototype._resultCancelled=function(){a(this.finallyHandler)};function a(h,f){return h.cancelPromise!=null?(arguments.length>1?h.cancelPromise._reject(f):h.cancelPromise._cancel(),h.cancelPromise=null,!0):!1}function l(){return u.call(this,this.promise._target()._settledValue())}function c(h){if(!a(this,h))return r.e=h,r}function u(h){var f=this.promise,g=this.handler;if(!this.called){this.called=!0;var _=this.isFinallyHandler()?g.call(f._boundValue()):g.call(f._boundValue(),h);if(_!==void 0){f._setReturnedNonUndefined();var m=e(_,f);if(m instanceof n){if(this.cancelPromise!=null)if(m._isCancelled()){var D=new i("late cancellation observer");return f._attachExtraTrace(D),r.e=D,r}else m.isPending()&&m._attachCancellationCallback(new o(this));return m._then(l,c,void 0,this,void 0)}}}return f.isRejected()?(a(this),r.e=h,r):(a(this),h)}return n.prototype._passThrough=function(h,f,g,_){return typeof h!="function"?this.then():this._then(g,_,void 0,new s(this,f,h),void 0)},n.prototype.lastly=n.prototype.finally=function(h){return this._passThrough(h,0,u,u)},n.prototype.tap=function(h){return this._passThrough(h,1,u)},s}),X2}var Y2,CS;function U9(){return CS||(CS=1,Y2=function(n){var e=_t(),t=Mf().keys,i=e.tryCatch,r=e.errorObj;function s(o,a,l){return function(c){var u=l._boundValue();e:for(var h=0;h<o.length;++h){var f=o[h];if(f===Error||f!=null&&f.prototype instanceof Error){if(c instanceof f)return i(a).call(u,c)}else if(typeof f=="function"){var g=i(f).call(u,c);if(g===r)return g;if(g)return i(a).call(u,c)}else if(e.isObject(c)){for(var _=t(f),m=0;m<_.length;++m){var D=_[m];if(f[D]!=c[D])continue e}return i(a).call(u,c)}}return n}}return s}),Y2}var K2,SS;function NN(){if(SS)return K2;SS=1;var n=_t(),e=n.maybeWrapAsError,t=Wl(),i=t.OperationalError,r=Mf();function s(c){return c instanceof Error&&r.getPrototypeOf(c)===Error.prototype}var o=/^(?:name|message|stack|cause)$/;function a(c){var u;if(s(c)){u=new i(c),u.name=c.name,u.message=c.message,u.stack=c.stack;for(var h=r.keys(c),f=0;f<h.length;++f){var g=h[f];o.test(g)||(u[g]=c[g])}return u}return n.markAsOriginatingFromRejection(c),c}function l(c,u){return function(h,f){if(c!==null){if(h){var g=a(e(h));c._attachExtraTrace(g),c._reject(g)}else if(!u)c._fulfill(f);else{for(var _=arguments.length,m=new Array(Math.max(_-1,0)),D=1;D<_;++D)m[D-1]=arguments[D];c._fulfill(m)}c=null}}}return K2=l,K2}var J2,US;function I9(){return US||(US=1,J2=function(n,e,t,i,r){var s=_t(),o=s.tryCatch;n.method=function(a){if(typeof a!="function")throw new n.TypeError("expecting a function but got "+s.classString(a));return function(){var l=new n(e);l._captureStackTrace(),l._pushContext();var c=o(a).apply(this,arguments),u=l._popContext();return r.checkForgottenReturns(c,u,"Promise.method",l),l._resolveFromSyncValue(c),l}},n.attempt=n.try=function(a){if(typeof a!="function")return i("expecting a function but got "+s.classString(a));var l=new n(e);l._captureStackTrace(),l._pushContext();var c;if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],h=arguments[2];c=s.isArray(u)?o(a).apply(h,u):o(a).call(h,u)}else c=o(a)();var f=l._popContext();return r.checkForgottenReturns(c,f,"Promise.try",l),l._resolveFromSyncValue(c),l},n.prototype._resolveFromSyncValue=function(a){a===s.errorObj?this._rejectCallback(a.e,!1):this._resolveCallback(a,!0)}}),J2}var Q2,IS;function k9(){return IS||(IS=1,Q2=function(n,e,t,i){var r=!1,s=function(c,u){this._reject(u)},o=function(c,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(s,s,null,this,c)},a=function(c,u){this._bitField&50397184||this._resolveCallback(u.target)},l=function(c,u){u.promiseRejectionQueued||this._reject(c)};n.prototype.bind=function(c){r||(r=!0,n.prototype._propagateFrom=i.propagateFromFunction(),n.prototype._boundValue=i.boundValueFunction());var u=t(c),h=new n(e);h._propagateFrom(this,1);var f=this._target();if(h._setBoundTo(u),u instanceof n){var g={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:u};f._then(e,o,void 0,h,g),u._then(a,l,void 0,h,g),h._setOnCancel(u)}else h._resolveCallback(f);return h},n.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},n.prototype._isBound=function(){return(this._bitField&2097152)===2097152},n.bind=function(c,u){return n.resolve(u).bind(c)}}),Q2}var Z2,kS;function R9(){return kS||(kS=1,Z2=function(n,e,t,i){var r=_t(),s=r.tryCatch,o=r.errorObj,a=n._async;n.prototype.break=n.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var l=this,c=l;l._isCancellable();){if(!l._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var u=l._cancellationParent;if(u==null||!u._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),c=l,l=u}},n.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},n.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},n.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},n.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},n.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),a.invoke(this._cancelPromises,this,void 0))},n.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},n.prototype._unsetOnCancel=function(){this._onCancelField=void 0},n.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype._doInvokeOnCancel=function(l,c){if(r.isArray(l))for(var u=0;u<l.length;++u)this._doInvokeOnCancel(l[u],c);else if(l!==void 0)if(typeof l=="function"){if(!c){var h=s(l).call(this._boundValue());h===o&&(this._attachExtraTrace(h.e),a.throwLater(h.e))}}else l._resultCancelled(this)},n.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),a.invoke(this._doInvokeOnCancel,this,l)},n.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},n.prototype._resultCancelled=function(){this.cancel()}}),Z2}var j2,RS;function F9(){return RS||(RS=1,j2=function(n){function e(){return this.value}function t(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(i){return i instanceof n&&i.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:i},void 0)},n.prototype.throw=n.prototype.thenThrow=function(i){return this._then(t,void 0,void 0,{reason:i},void 0)},n.prototype.catchThrow=function(i){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:i},void 0);var r=arguments[1],s=function(){throw r};return this.caught(i,s)},n.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof n&&i.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:i},void 0);var r=arguments[1];r instanceof n&&r.suppressUnhandledRejections();var s=function(){return r};return this.caught(i,s)}}),j2}var e_,FS;function P9(){return FS||(FS=1,e_=function(n){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},o=e.prototype.isPending=function(){return(this._bitField&50397184)===0},a=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},n.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},n.prototype._isCancelled=function(){return this._target().__isCancelled()},n.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},n.prototype.isPending=function(){return o.call(this._target())},n.prototype.isRejected=function(){return s.call(this._target())},n.prototype.isFulfilled=function(){return r.call(this._target())},n.prototype.isResolved=function(){return a.call(this._target())},n.prototype.value=function(){return t.call(this._target())},n.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),i.call(l)},n.prototype._value=function(){return this._settledValue()},n.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},n.PromiseInspection=e}),e_}var t_,PS;function M9(){return PS||(PS=1,t_=function(n,e,t,i,r,s){var o=_t(),a=o.canEvaluate,l=o.tryCatch,c=o.errorObj,u;if(a){for(var h=function(b){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,b))},f=function(b){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,b))},g=function(b){for(var w=new Array(b),x=0;x<w.length;++x)w[x]="this.p"+(x+1);var T=w.join(" = ")+" = null;",E=`var promise;
`+w.map(function(O){return`                                                         
	                promise = `+O+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),C=w.join(", "),F="Holder$"+b,P=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return P=P.replace(/\[TheName\]/g,F).replace(/\[TheTotal\]/g,b).replace(/\[ThePassedArguments\]/g,C).replace(/\[TheProperties\]/g,T).replace(/\[CancellationCode\]/g,E),new Function("tryCatch","errorObj","Promise","async",P)(l,c,n,r)},_=[],m=[],D=[],y=0;y<8;++y)_.push(g(y+1)),m.push(h(y+1)),D.push(f(y+1));u=function(b){this._reject(b)}}n.join=function(){var b=arguments.length-1,w;if(b>0&&typeof arguments[b]=="function"&&(w=arguments[b],b<=8&&a)){var S=new n(i);S._captureStackTrace();for(var x=_[b-1],T=new x(w),E=m,C=0;C<b;++C){var F=t(arguments[C],S);if(F instanceof n){F=F._target();var P=F._bitField;P&50397184?P&33554432?E[C].call(S,F._value(),T):P&16777216?S._reject(F._reason()):S._cancel():(F._then(E[C],u,void 0,S,T),D[C](F,T),T.asyncNeeded=!1)}else E[C].call(S,F,T)}if(!S._isFateSealed()){if(T.asyncNeeded){var O=s();O!==null&&(T.fn=o.domainBind(O,T.fn))}S._setAsyncGuaranteed(),S._setOnCancel(T)}return S}for(var Y=arguments.length,R=new Array(Y),V=0;V<Y;++V)R[V]=arguments[V];w&&R.pop();var S=new e(R).promise();return w!==void 0?S.spread(w):S}}),t_}var n_,MS;function N9(){return MS||(MS=1,n_=function(n,e,t,i,r,s){var o=n._getDomain,a=_t(),l=a.tryCatch,c=a.errorObj,u=n._async;function h(g,_,m,D){this.constructor$(g),this._promise._captureStackTrace();var y=o();this._callback=y===null?_:a.domainBind(y,_),this._preservedValues=D===r?new Array(this.length()):null,this._limit=m,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}a.inherits(h,e),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(g,_){var m=this._values,D=this.length(),y=this._preservedValues,b=this._limit;if(_<0){if(_=_*-1-1,m[_]=g,b>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(b>=1&&this._inFlight>=b)return m[_]=g,this._queue.push(_),!1;y!==null&&(y[_]=g);var w=this._promise,x=this._callback,T=w._boundValue();w._pushContext();var E=l(x).call(T,g,_,D),C=w._popContext();if(s.checkForgottenReturns(E,C,y!==null?"Promise.filter":"Promise.map",w),E===c)return this._reject(E.e),!0;var F=i(E,this._promise);if(F instanceof n){F=F._target();var P=F._bitField;if(P&50397184)if(P&33554432)E=F._value();else return P&16777216?(this._reject(F._reason()),!0):(this._cancel(),!0);else return b>=1&&this._inFlight++,m[_]=F,F._proxy(this,(_+1)*-1),!1}m[_]=E}var O=++this._totalResolved;return O>=D?(y!==null?this._filter(m,y):this._resolve(m),!0):!1},h.prototype._drainQueue=function(){for(var g=this._queue,_=this._limit,m=this._values;g.length>0&&this._inFlight<_;){if(this._isResolved())return;var D=g.pop();this._promiseFulfilled(m[D],D)}},h.prototype._filter=function(g,_){for(var m=_.length,D=new Array(m),y=0,b=0;b<m;++b)g[b]&&(D[y++]=_[b]);D.length=y,this._resolve(D)},h.prototype.preservedValues=function(){return this._preservedValues};function f(g,_,m,D){if(typeof _!="function")return t("expecting a function but got "+a.classString(_));var y=0;if(m!==void 0)if(typeof m=="object"&&m!==null){if(typeof m.concurrency!="number")return n.reject(new TypeError("'concurrency' must be a number but it is "+a.classString(m.concurrency)));y=m.concurrency}else return n.reject(new TypeError("options argument must be an object but it is "+a.classString(m)));return y=typeof y=="number"&&isFinite(y)&&y>=1?y:0,new h(g,_,y,D).promise()}n.prototype.map=function(g,_){return f(this,g,_,null)},n.map=function(g,_,m,D){return f(g,_,m,D)}}),n_}var i_,NS;function L9(){if(NS)return i_;NS=1;var n=Object.create;if(n){var e=n(null),t=n(null);e[" size"]=t[" size"]=0}return i_=function(i){var r=_t(),s=r.canEvaluate,o=r.isIdentifier,a,l;{var c=function(D){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,D))(f)},u=function(D){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",D))},h=function(D,y,b){var w=b[D];if(typeof w!="function"){if(!o(D))return null;if(w=y(D),b[D]=w,b[" size"]++,b[" size"]>512){for(var x=Object.keys(b),T=0;T<256;++T)delete b[x[T]];b[" size"]=x.length-256}}return w};a=function(D){return h(D,c,e)},l=function(D){return h(D,u,t)}}function f(D,y){var b;if(D!=null&&(b=D[y]),typeof b!="function"){var w="Object "+r.classString(D)+" has no method '"+r.toString(y)+"'";throw new i.TypeError(w)}return b}function g(D){var y=this.pop(),b=f(D,y);return b.apply(D,this)}i.prototype.call=function(D){for(var y=arguments.length,b=new Array(Math.max(y-1,0)),w=1;w<y;++w)b[w-1]=arguments[w];if(s){var x=a(D);if(x!==null)return this._then(x,void 0,void 0,b,void 0)}return b.push(D),this._then(g,void 0,void 0,b,void 0)};function _(D){return D[this]}function m(D){var y=+this;return y<0&&(y=Math.max(0,y+D.length)),D[y]}i.prototype.get=function(D){var y=typeof D=="number",b;if(y)b=m;else if(s){var w=l(D);b=w!==null?w:_}else b=_;return this._then(b,void 0,void 0,D,void 0)}},i_}var r_,LS;function B9(){return LS||(LS=1,r_=function(n,e,t,i,r,s){var o=_t(),a=Wl().TypeError,l=_t().inherits,c=o.errorObj,u=o.tryCatch,h={};function f(w){setTimeout(function(){throw w},0)}function g(w){var x=t(w);return x!==w&&typeof w._isDisposable=="function"&&typeof w._getDisposer=="function"&&w._isDisposable()&&x._setDisposable(w._getDisposer()),x}function _(w,x){var T=0,E=w.length,C=new n(r);function F(){if(T>=E)return C._fulfill();var P=g(w[T++]);if(P instanceof n&&P._isDisposable()){try{P=t(P._getDisposer().tryDispose(x),w.promise)}catch(O){return f(O)}if(P instanceof n)return P._then(F,f,null,null,null)}F()}return F(),C}function m(w,x,T){this._data=w,this._promise=x,this._context=T}m.prototype.data=function(){return this._data},m.prototype.promise=function(){return this._promise},m.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},m.prototype.tryDispose=function(w){var x=this.resource(),T=this._context;T!==void 0&&T._pushContext();var E=x!==h?this.doDispose(x,w):null;return T!==void 0&&T._popContext(),this._promise._unsetDisposable(),this._data=null,E},m.isDisposer=function(w){return w!=null&&typeof w.resource=="function"&&typeof w.tryDispose=="function"};function D(w,x,T){this.constructor$(w,x,T)}l(D,m),D.prototype.doDispose=function(w,x){var T=this.data();return T.call(w,w,x)};function y(w){return m.isDisposer(w)?(this.resources[this.index]._setDisposable(w),w.promise()):w}function b(w){this.length=w,this.promise=null,this[w-1]=null}b.prototype._resultCancelled=function(){for(var w=this.length,x=0;x<w;++x){var T=this[x];T instanceof n&&T.cancel()}},n.using=function(){var w=arguments.length;if(w<2)return e("you must pass at least 2 arguments to Promise.using");var x=arguments[w-1];if(typeof x!="function")return e("expecting a function but got "+o.classString(x));var T,E=!0;w===2&&Array.isArray(arguments[0])?(T=arguments[0],w=T.length,E=!1):(T=arguments,w--);for(var C=new b(w),F=0;F<w;++F){var P=T[F];if(m.isDisposer(P)){var O=P;P=P.promise(),P._setDisposable(O)}else{var Y=t(P);Y instanceof n&&(P=Y._then(y,null,null,{resources:C,index:F},void 0))}C[F]=P}for(var R=new Array(C.length),F=0;F<R.length;++F)R[F]=n.resolve(C[F]).reflect();var V=n.all(R).then(function(K){for(var N=0;N<K.length;++N){var B=K[N];if(B.isRejected())return c.e=B.error(),c;if(!B.isFulfilled()){V.cancel();return}K[N]=B.value()}S._pushContext(),x=u(x);var M=E?x.apply(void 0,K):x(K),L=S._popContext();return s.checkForgottenReturns(M,L,"Promise.using",S),M}),S=V.lastly(function(){var K=new n.PromiseInspection(V);return _(C,K)});return C.promise=S,S._setOnCancel(C),S},n.prototype._setDisposable=function(w){this._bitField=this._bitField|131072,this._disposer=w},n.prototype._isDisposable=function(){return(this._bitField&131072)>0},n.prototype._getDisposer=function(){return this._disposer},n.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},n.prototype.disposer=function(w){if(typeof w=="function")return new D(w,this,i());throw new a}}),r_}var s_,BS;function O9(){return BS||(BS=1,s_=function(n,e,t){var i=_t(),r=n.TimeoutError;function s(h){this.handle=h}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(h){return a(+this).thenReturn(h)},a=n.delay=function(h,f){var g,_;return f!==void 0?(g=n.resolve(f)._then(o,null,null,h,void 0),t.cancellation()&&f instanceof n&&g._setOnCancel(f)):(g=new n(e),_=setTimeout(function(){g._fulfill()},+h),t.cancellation()&&g._setOnCancel(new s(_)),g._captureStackTrace()),g._setAsyncGuaranteed(),g};n.prototype.delay=function(h){return a(h,this)};var l=function(h,f,g){var _;typeof f!="string"?f instanceof Error?_=f:_=new r("operation timed out"):_=new r(f),i.markAsOriginatingFromRejection(_),h._attachExtraTrace(_),h._reject(_),g!=null&&g.cancel()};function c(h){return clearTimeout(this.handle),h}function u(h){throw clearTimeout(this.handle),h}n.prototype.timeout=function(h,f){h=+h;var g,_,m=new s(setTimeout(function(){g.isPending()&&l(g,f,_)},h));return t.cancellation()?(_=this.then(),g=_._then(c,u,void 0,m,void 0),g._setOnCancel(m)):g=this._then(c,u,void 0,m,void 0),g}}),s_}var o_,OS;function W9(){return OS||(OS=1,o_=function(n,e,t,i,r,s){var o=Wl(),a=o.TypeError,l=_t(),c=l.errorObj,u=l.tryCatch,h=[];function f(_,m,D){for(var y=0;y<m.length;++y){D._pushContext();var b=u(m[y])(_);if(D._popContext(),b===c){D._pushContext();var w=n.reject(c.e);return D._popContext(),w}var x=i(b,D);if(x instanceof n)return x}return null}function g(_,m,D,y){if(s.cancellation()){var b=new n(t),w=this._finallyPromise=new n(t);this._promise=b.lastly(function(){return w}),b._captureStackTrace(),b._setOnCancel(this)}else{var x=this._promise=new n(t);x._captureStackTrace()}this._stack=y,this._generatorFunction=_,this._receiver=m,this._generator=void 0,this._yieldHandlers=typeof D=="function"?[D].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(g,r),g.prototype._isResolved=function(){return this._promise===null},g.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},g.prototype._promiseCancelled=function(){if(!this._isResolved()){var _=typeof this._generator.return<"u",m;if(_)this._promise._pushContext(),m=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var D=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=D,this._promise._attachExtraTrace(D),this._promise._pushContext(),m=u(this._generator.throw).call(this._generator,D),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(m)}},g.prototype._promiseFulfilled=function(_){this._yieldedPromise=null,this._promise._pushContext();var m=u(this._generator.next).call(this._generator,_);this._promise._popContext(),this._continue(m)},g.prototype._promiseRejected=function(_){this._yieldedPromise=null,this._promise._attachExtraTrace(_),this._promise._pushContext();var m=u(this._generator.throw).call(this._generator,_);this._promise._popContext(),this._continue(m)},g.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof n){var _=this._yieldedPromise;this._yieldedPromise=null,_.cancel()}},g.prototype.promise=function(){return this._promise},g.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},g.prototype._continue=function(_){var m=this._promise;if(_===c)return this._cleanup(),this._cancellationPhase?m.cancel():m._rejectCallback(_.e,!1);var D=_.value;if(_.done===!0)return this._cleanup(),this._cancellationPhase?m.cancel():m._resolveCallback(D);var y=i(D,this._promise);if(!(y instanceof n)&&(y=f(y,this._yieldHandlers,this._promise),y===null)){this._promiseRejected(new a(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",D)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}y=y._target();var b=y._bitField;b&50397184?b&33554432?n._async.invoke(this._promiseFulfilled,this,y._value()):b&16777216?n._async.invoke(this._promiseRejected,this,y._reason()):this._promiseCancelled():(this._yieldedPromise=y,y._proxy(this,null))},n.coroutine=function(_,m){if(typeof _!="function")throw new a(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var D=Object(m).yieldHandler,y=g,b=new Error().stack;return function(){var w=_.apply(this,arguments),x=new y(void 0,void 0,D,b),T=x.promise();return x._generator=w,x._promiseFulfilled(void 0),T}},n.coroutine.addYieldHandler=function(_){if(typeof _!="function")throw new a("expecting a function but got "+l.classString(_));h.push(_)},n.spawn=function(_){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof _!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var m=new g(_,this),D=m.promise();return m._run(n.spawn),D}}),o_}var a_,WS;function V9(){return WS||(WS=1,a_=function(n){var e=_t(),t=n._async,i=e.tryCatch,r=e.errorObj;function s(l,c){var u=this;if(!e.isArray(l))return o.call(u,l,c);var h=i(c).apply(u._boundValue(),[null].concat(l));h===r&&t.throwLater(h.e)}function o(l,c){var u=this,h=u._boundValue(),f=l===void 0?i(c).call(h,null):i(c).call(h,null,l);f===r&&t.throwLater(f.e)}function a(l,c){var u=this;if(!l){var h=new Error(l+"");h.cause=l,l=h}var f=i(c).call(u._boundValue(),l);f===r&&t.throwLater(f.e)}n.prototype.asCallback=n.prototype.nodeify=function(l,c){if(typeof l=="function"){var u=o;c!==void 0&&Object(c).spread&&(u=s),this._then(u,a,void 0,this,l)}return this}}),a_}var l_,VS;function H9(){return VS||(VS=1,l_=function(n,e){var t={},i=_t(),r=NN(),s=i.withAppended,o=i.maybeWrapAsError,a=i.canEvaluate,l=Wl().TypeError,c="Async",u={__isPromisified__:!0},h=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],f=new RegExp("^(?:"+h.join("|")+")$"),g=function(V){return i.isIdentifier(V)&&V.charAt(0)!=="_"&&V!=="constructor"};function _(V){return!f.test(V)}function m(V){try{return V.__isPromisified__===!0}catch{return!1}}function D(V,S,K){var N=i.getDataPropertyOrDefault(V,S+K,u);return N?m(N):!1}function y(V,S,K){for(var N=0;N<V.length;N+=2){var B=V[N];if(K.test(B)){for(var M=B.replace(K,""),L=0;L<V.length;L+=2)if(V[L]===M)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",S))}}}function b(V,S,K,N){for(var B=i.inheritedDataKeys(V),M=[],L=0;L<B.length;++L){var X=B[L],H=V[X],z=N===g?!0:g(X);typeof H=="function"&&!m(H)&&!D(V,X,S)&&N(X,H,V,z)&&M.push(X,H)}return y(M,S,K),M}var w=function(V){return V.replace(/([$])/,"\\$")},x;{var T=function(V){for(var S=[V],K=Math.max(0,V-1-3),N=V-1;N>=K;--N)S.push(N);for(var N=V+1;N<=3;++N)S.push(N);return S},E=function(V){return i.filledRange(V,"_arg","")},C=function(V){return i.filledRange(Math.max(V,3),"_arg","")},F=function(V){return typeof V.length=="number"?Math.max(Math.min(V.length,1024),0):0};x=function(V,S,K,N,B,M){var L=Math.max(0,F(N)-1),X=T(L),H=typeof V=="string"||S===t;function z(ce){var de=E(ce).join(", "),_e=ce>0?", ":"",Te;return H?Te=`ret = callback.call(this, {{args}}, nodeback); break;
`:Te=S===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Te.replace("{{args}}",de).replace(", ",_e)}function G(){for(var ce="",de=0;de<X.length;++de)ce+="case "+X[de]+":"+z(X[de]);return ce+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",H?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ce}var ie=typeof V=="string"?"this != null ? this['"+V+"'] : fn":"fn",re=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+M+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",G()).replace("[GetFunctionCode]",ie);return re=re.replace("Parameters",C(L)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",re)(n,N,S,s,o,r,i.tryCatch,i.errorObj,i.notEnumerableProp,e)}}function P(V,S,K,N,B,M){var L=function(){return this}(),X=V;typeof X=="string"&&(V=N);function H(){var z=S;S===t&&(z=this);var G=new n(e);G._captureStackTrace();var ie=typeof X=="string"&&this!==L?this[X]:V,re=r(G,M);try{ie.apply(z,s(arguments,re))}catch(ce){G._rejectCallback(o(ce),!0,!0)}return G._isFateSealed()||G._setAsyncGuaranteed(),G}return i.notEnumerableProp(H,"__isPromisified__",!0),H}var O=a?x:P;function Y(V,S,K,N,B){for(var M=new RegExp(w(S)+"$"),L=b(V,S,M,K),X=0,H=L.length;X<H;X+=2){var z=L[X],G=L[X+1],ie=z+S;if(N===O)V[ie]=O(z,t,z,G,S,B);else{var re=N(G,function(){return O(z,t,z,G,S,B)});i.notEnumerableProp(re,"__isPromisified__",!0),V[ie]=re}}return i.toFastProperties(V),V}function R(V,S,K){return O(V,S,void 0,V,null,K)}n.promisify=function(V,S){if(typeof V!="function")throw new l("expecting a function but got "+i.classString(V));if(m(V))return V;S=Object(S);var K=S.context===void 0?t:S.context,N=!!S.multiArgs,B=R(V,K,N);return i.copyDescriptors(V,B,_),B},n.promisifyAll=function(V,S){if(typeof V!="function"&&typeof V!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);S=Object(S);var K=!!S.multiArgs,N=S.suffix;typeof N!="string"&&(N=c);var B=S.filter;typeof B!="function"&&(B=g);var M=S.promisifier;if(typeof M!="function"&&(M=O),!i.isIdentifier(N))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var L=i.inheritedDataKeys(V),X=0;X<L.length;++X){var H=V[L[X]];L[X]!=="constructor"&&i.isClass(H)&&(Y(H.prototype,N,B,M,K),Y(H,N,B,M,K))}return Y(V,N,B,M,K)}}),l_}var c_,HS;function q9(){return HS||(HS=1,c_=function(n,e,t,i){var r=_t(),s=r.isObject,o=Mf(),a;typeof Map=="function"&&(a=Map);var l=function(){var f=0,g=0;function _(m,D){this[f]=m,this[f+g]=D,f++}return function(D){g=D.size,f=0;var y=new Array(D.size*2);return D.forEach(_,y),y}}(),c=function(f){for(var g=new a,_=f.length/2|0,m=0;m<_;++m){var D=f[_+m],y=f[m];g.set(D,y)}return g};function u(f){var g=!1,_;if(a!==void 0&&f instanceof a)_=l(f),g=!0;else{var m=o.keys(f),D=m.length;_=new Array(D*2);for(var y=0;y<D;++y){var b=m[y];_[y]=f[b],_[y+D]=b}}this.constructor$(_),this._isMap=g,this._init$(void 0,-3)}r.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(f,g){this._values[g]=f;var _=++this._totalResolved;if(_>=this._length){var m;if(this._isMap)m=c(this._values);else{m={};for(var D=this.length(),y=0,b=this.length();y<b;++y)m[this._values[y+D]]=this._values[y]}return this._resolve(m),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(f){return f>>1};function h(f){var g,_=t(f);if(s(_))_ instanceof n?g=_._then(n.props,void 0,void 0,void 0,void 0):g=new u(_).promise();else return i(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return _ instanceof n&&g._propagateFrom(_,2),g}n.prototype.props=function(){return h(this)},n.props=function(f){return h(f)}}),c_}var u_,qS;function z9(){return qS||(qS=1,u_=function(n,e,t,i){var r=_t(),s=function(a){return a.then(function(l){return o(l,a)})};function o(a,l){var c=t(a);if(c instanceof n)return s(c);if(a=r.asArray(a),a===null)return i("expecting an array or an iterable object but got "+r.classString(a));var u=new n(e);l!==void 0&&u._propagateFrom(l,3);for(var h=u._fulfill,f=u._reject,g=0,_=a.length;g<_;++g){var m=a[g];m===void 0&&!(g in a)||n.cast(m)._then(h,f,void 0,u,null)}return u}n.race=function(a){return o(a,void 0)},n.prototype.race=function(){return o(this,void 0)}}),u_}var d_,zS;function G9(){return zS||(zS=1,d_=function(n,e,t,i,r,s){var o=n._getDomain,a=_t(),l=a.tryCatch;function c(_,m,D,y){this.constructor$(_);var b=o();this._fn=b===null?m:a.domainBind(b,m),D!==void 0&&(D=n.resolve(D),D._attachCancellationCallback(this)),this._initialValue=D,this._currentCancellable=null,y===r?this._eachValues=Array(this._length):y===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}a.inherits(c,e),c.prototype._gotAccum=function(_){this._eachValues!==void 0&&this._eachValues!==null&&_!==r&&this._eachValues.push(_)},c.prototype._eachComplete=function(_){return this._eachValues!==null&&this._eachValues.push(_),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(_){this._promise._resolveCallback(_),this._values=null},c.prototype._resultCancelled=function(_){if(_===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof n&&this._currentCancellable.cancel(),this._initialValue instanceof n&&this._initialValue.cancel())},c.prototype._iterate=function(_){this._values=_;var m,D,y=_.length;if(this._initialValue!==void 0?(m=this._initialValue,D=0):(m=n.resolve(_[0]),D=1),this._currentCancellable=m,!m.isRejected())for(;D<y;++D){var b={accum:null,value:_[D],index:D,length:y,array:this};m=m._then(f,void 0,void 0,b,void 0)}this._eachValues!==void 0&&(m=m._then(this._eachComplete,void 0,void 0,this,void 0)),m._then(u,u,void 0,m,this)},n.prototype.reduce=function(_,m){return h(this,_,m,null)},n.reduce=function(_,m,D,y){return h(_,m,D,y)};function u(_,m){this.isFulfilled()?m._resolve(_):m._reject(_)}function h(_,m,D,y){if(typeof m!="function")return t("expecting a function but got "+a.classString(m));var b=new c(_,m,D,y);return b.promise()}function f(_){this.accum=_,this.array._gotAccum(_);var m=i(this.value,this.array._promise);return m instanceof n?(this.array._currentCancellable=m,m._then(g,void 0,void 0,this,void 0)):g.call(this,m)}function g(_){var m=this.array,D=m._promise,y=l(m._fn);D._pushContext();var b;m._eachValues!==void 0?b=y.call(D._boundValue(),_,this.index,this.length):b=y.call(D._boundValue(),this.accum,_,this.index,this.length),b instanceof n&&(m._currentCancellable=b);var w=D._popContext();return s.checkForgottenReturns(b,w,m._eachValues!==void 0?"Promise.each":"Promise.reduce",D),b}}),d_}var h_,GS;function $9(){return GS||(GS=1,h_=function(n,e,t){var i=n.PromiseInspection,r=_t();function s(o){this.constructor$(o)}r.inherits(s,e),s.prototype._promiseResolved=function(o,a){this._values[o]=a;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(o,a){var l=new i;return l._bitField=33554432,l._settledValueField=o,this._promiseResolved(a,l)},s.prototype._promiseRejected=function(o,a){var l=new i;return l._bitField=16777216,l._settledValueField=o,this._promiseResolved(a,l)},n.settle=function(o){return t.deprecated(".settle()",".reflect()"),new s(o).promise()},n.prototype.settle=function(){return n.settle(this)}}),h_}var f_,$S;function X9(){return $S||($S=1,f_=function(n,e,t){var i=_t(),r=Wl().RangeError,s=Wl().AggregateError,o=i.isArray,a={};function l(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}i.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=o(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(u){this._howMany=u},l.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof n||this._values==null?this._cancel():(this._addRejected(a),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new s,h=this.length();h<this._values.length;++h)this._values[h]!==a&&u.push(this._values[h]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(u){this._values.push(u)},l.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(u){var h="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new r(h)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(u,h){if((h|0)!==h||h<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var f=new l(u),g=f.promise();return f.setHowMany(h),f.init(),g}n.some=function(u,h){return c(u,h)},n.prototype.some=function(u){return c(this,u)},n._SomePromiseArray=l}),f_}var p_,XS;function Y9(){return XS||(XS=1,p_=function(n,e){var t=n.map;n.prototype.filter=function(i,r){return t(this,i,r,e)},n.filter=function(i,r,s){return t(i,r,s,e)}}),p_}var g_,YS;function K9(){return YS||(YS=1,g_=function(n,e){var t=n.reduce,i=n.all;function r(){return i(this)}function s(o,a){return t(o,a,e,e)}n.prototype.each=function(o){return t(this,o,e,0)._then(r,void 0,void 0,this,void 0)},n.prototype.mapSeries=function(o){return t(this,o,e,e)},n.each=function(o,a){return t(o,a,e,0)._then(r,void 0,void 0,o,void 0)},n.mapSeries=s}),g_}var m_,KS;function J9(){return KS||(KS=1,m_=function(n){var e=n._SomePromiseArray;function t(i){var r=new e(i),s=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),s}n.any=function(i){return t(i)},n.prototype.any=function(){return t(this)}}),m_}(function(n){n.exports=function(){var e=function(){return new f(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new R.PromiseInspection(this._target())},i=function(N){return R.reject(new f(N))};function r(){}var s={},o=_t(),a;o.isNode?a=function(){var N=process.domain;return N===void 0&&(N=null),N}:a=function(){return null},o.notEnumerableProp(R,"_getDomain",a);var l=Mf(),c=x9(),u=new c;l.defineProperty(R,"_async",{value:u});var h=Wl(),f=R.TypeError=h.TypeError;R.RangeError=h.RangeError;var g=R.CancellationError=h.CancellationError;R.TimeoutError=h.TimeoutError,R.OperationalError=h.OperationalError,R.RejectionError=h.OperationalError,R.AggregateError=h.AggregateError;var _=function(){},m={},D={},y=T9()(R,_),b=E9()(R,_,y,i,r),w=A9()(R),x=w.create,T=C9()(R,w);T.CapturedTrace;var E=S9()(R,y),C=U9()(D),F=NN(),P=o.errorObj,O=o.tryCatch;function Y(N,B){if(typeof B!="function")throw new f("expecting a function but got "+o.classString(B));if(N.constructor!==R)throw new f(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function R(N){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,N!==_&&(Y(this,N),this._resolveFromExecutor(N)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}R.prototype.toString=function(){return"[object Promise]"},R.prototype.caught=R.prototype.catch=function(N){var B=arguments.length;if(B>1){var M=new Array(B-1),L=0,X;for(X=0;X<B-1;++X){var H=arguments[X];if(o.isObject(H))M[L++]=H;else return i("expecting an object but got A catch statement predicate "+o.classString(H))}return M.length=L,N=arguments[X],this.then(void 0,C(M,N,this))}return this.then(void 0,N)},R.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},R.prototype.then=function(N,B){if(T.warnings()&&arguments.length>0&&typeof N!="function"&&typeof B!="function"){var M=".then() only accepts functions but was passed: "+o.classString(N);arguments.length>1&&(M+=", "+o.classString(B)),this._warn(M)}return this._then(N,B,void 0,void 0,void 0)},R.prototype.done=function(N,B){var M=this._then(N,B,void 0,void 0,void 0);M._setIsFinal()},R.prototype.spread=function(N){return typeof N!="function"?i("expecting a function but got "+o.classString(N)):this.all()._then(N,void 0,void 0,m,void 0)},R.prototype.toJSON=function(){var N={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(N.fulfillmentValue=this.value(),N.isFulfilled=!0):this.isRejected()&&(N.rejectionReason=this.reason(),N.isRejected=!0),N},R.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},R.prototype.error=function(N){return this.caught(o.originatesFromRejection,N)},R.getNewLibraryCopy=n.exports,R.is=function(N){return N instanceof R},R.fromNode=R.fromCallback=function(N){var B=new R(_);B._captureStackTrace();var M=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,L=O(N)(F(B,M));return L===P&&B._rejectCallback(L.e,!0),B._isFateSealed()||B._setAsyncGuaranteed(),B},R.all=function(N){return new b(N).promise()},R.cast=function(N){var B=y(N);return B instanceof R||(B=new R(_),B._captureStackTrace(),B._setFulfilled(),B._rejectionHandler0=N),B},R.resolve=R.fulfilled=R.cast,R.reject=R.rejected=function(N){var B=new R(_);return B._captureStackTrace(),B._rejectCallback(N,!0),B},R.setScheduler=function(N){if(typeof N!="function")throw new f("expecting a function but got "+o.classString(N));return u.setScheduler(N)},R.prototype._then=function(N,B,M,L,X){var H=X!==void 0,z=H?X:new R(_),G=this._target(),ie=G._bitField;H||(z._propagateFrom(this,3),z._captureStackTrace(),L===void 0&&this._bitField&2097152&&(ie&50397184?L=this._boundValue():L=G===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,z));var re=a();if(ie&50397184){var ce,de,_e=G._settlePromiseCtx;ie&33554432?(de=G._rejectionHandler0,ce=N):ie&16777216?(de=G._fulfillmentHandler0,ce=B,G._unsetRejectionIsUnhandled()):(_e=G._settlePromiseLateCancellationObserver,de=new g("late cancellation observer"),G._attachExtraTrace(de),ce=B),u.invoke(_e,G,{handler:re===null?ce:typeof ce=="function"&&o.domainBind(re,ce),promise:z,receiver:L,value:de})}else G._addCallbacks(N,B,z,L,re);return z},R.prototype._length=function(){return this._bitField&65535},R.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},R.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},R.prototype._setLength=function(N){this._bitField=this._bitField&-65536|N&65535},R.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},R.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},R.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},R.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},R.prototype._isFinal=function(){return(this._bitField&4194304)>0},R.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},R.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},R.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},R.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},R.prototype._receiverAt=function(N){var B=N===0?this._receiver0:this[N*4-4+3];if(B!==s)return B===void 0&&this._isBound()?this._boundValue():B},R.prototype._promiseAt=function(N){return this[N*4-4+2]},R.prototype._fulfillmentHandlerAt=function(N){return this[N*4-4+0]},R.prototype._rejectionHandlerAt=function(N){return this[N*4-4+1]},R.prototype._boundValue=function(){},R.prototype._migrateCallback0=function(N){N._bitField;var B=N._fulfillmentHandler0,M=N._rejectionHandler0,L=N._promise0,X=N._receiverAt(0);X===void 0&&(X=s),this._addCallbacks(B,M,L,X,null)},R.prototype._migrateCallbackAt=function(N,B){var M=N._fulfillmentHandlerAt(B),L=N._rejectionHandlerAt(B),X=N._promiseAt(B),H=N._receiverAt(B);H===void 0&&(H=s),this._addCallbacks(M,L,X,H,null)},R.prototype._addCallbacks=function(N,B,M,L,X){var H=this._length();if(H>=65531&&(H=0,this._setLength(0)),H===0)this._promise0=M,this._receiver0=L,typeof N=="function"&&(this._fulfillmentHandler0=X===null?N:o.domainBind(X,N)),typeof B=="function"&&(this._rejectionHandler0=X===null?B:o.domainBind(X,B));else{var z=H*4-4;this[z+2]=M,this[z+3]=L,typeof N=="function"&&(this[z+0]=X===null?N:o.domainBind(X,N)),typeof B=="function"&&(this[z+1]=X===null?B:o.domainBind(X,B))}return this._setLength(H+1),H},R.prototype._proxy=function(N,B){this._addCallbacks(void 0,void 0,B,N,null)},R.prototype._resolveCallback=function(N,B){if(!(this._bitField&117506048)){if(N===this)return this._rejectCallback(e(),!1);var M=y(N,this);if(!(M instanceof R))return this._fulfill(N);B&&this._propagateFrom(M,2);var L=M._target();if(L===this){this._reject(e());return}var X=L._bitField;if(X&50397184)if(X&33554432)this._fulfill(L._value());else if(X&16777216)this._reject(L._reason());else{var G=new g("late cancellation observer");L._attachExtraTrace(G),this._reject(G)}else{var H=this._length();H>0&&L._migrateCallback0(this);for(var z=1;z<H;++z)L._migrateCallbackAt(this,z);this._setFollowing(),this._setLength(0),this._setFollowee(L)}}},R.prototype._rejectCallback=function(N,B,M){var L=o.ensureErrorObject(N),X=L===N;if(!X&&!M&&T.warnings()){var H="a promise was rejected with a non-error: "+o.classString(N);this._warn(H,!0)}this._attachExtraTrace(L,B?X:!1),this._reject(N)},R.prototype._resolveFromExecutor=function(N){var B=this;this._captureStackTrace(),this._pushContext();var M=!0,L=this._execute(N,function(X){B._resolveCallback(X)},function(X){B._rejectCallback(X,M)});M=!1,this._popContext(),L!==void 0&&B._rejectCallback(L,!0)},R.prototype._settlePromiseFromHandler=function(N,B,M,L){var X=L._bitField;if(!(X&65536)){L._pushContext();var H;B===m?!M||typeof M.length!="number"?(H=P,H.e=new f("cannot .spread() a non-array: "+o.classString(M))):H=O(N).apply(this._boundValue(),M):H=O(N).call(B,M);var z=L._popContext();X=L._bitField,!(X&65536)&&(H===D?L._reject(M):H===P?L._rejectCallback(H.e,!1):(T.checkForgottenReturns(H,z,"",L,this),L._resolveCallback(H)))}},R.prototype._target=function(){for(var N=this;N._isFollowing();)N=N._followee();return N},R.prototype._followee=function(){return this._rejectionHandler0},R.prototype._setFollowee=function(N){this._rejectionHandler0=N},R.prototype._settlePromise=function(N,B,M,L){var X=N instanceof R,H=this._bitField,z=(H&134217728)!==0;H&65536?(X&&N._invokeInternalOnCancel(),M instanceof E&&M.isFinallyHandler()?(M.cancelPromise=N,O(B).call(M,L)===P&&N._reject(P.e)):B===t?N._fulfill(t.call(M)):M instanceof r?M._promiseCancelled(N):X||N instanceof b?N._cancel():M.cancel()):typeof B=="function"?X?(z&&N._setAsyncGuaranteed(),this._settlePromiseFromHandler(B,M,L,N)):B.call(M,L,N):M instanceof r?M._isResolved()||(H&33554432?M._promiseFulfilled(L,N):M._promiseRejected(L,N)):X&&(z&&N._setAsyncGuaranteed(),H&33554432?N._fulfill(L):N._reject(L))},R.prototype._settlePromiseLateCancellationObserver=function(N){var B=N.handler,M=N.promise,L=N.receiver,X=N.value;typeof B=="function"?M instanceof R?this._settlePromiseFromHandler(B,L,X,M):B.call(L,X,M):M instanceof R&&M._reject(X)},R.prototype._settlePromiseCtx=function(N){this._settlePromise(N.promise,N.handler,N.receiver,N.value)},R.prototype._settlePromise0=function(N,B,M){var L=this._promise0,X=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(L,N,X,B)},R.prototype._clearCallbackDataAtIndex=function(N){var B=N*4-4;this[B+2]=this[B+3]=this[B+0]=this[B+1]=void 0},R.prototype._fulfill=function(N){var B=this._bitField;if(!((B&117506048)>>>16)){if(N===this){var M=e();return this._attachExtraTrace(M),this._reject(M)}this._setFulfilled(),this._rejectionHandler0=N,(B&65535)>0&&(B&134217728?this._settlePromises():u.settlePromises(this))}},R.prototype._reject=function(N){var B=this._bitField;if(!((B&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=N,this._isFinal())return u.fatalError(N,o.isNode);(B&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},R.prototype._fulfillPromises=function(N,B){for(var M=1;M<N;M++){var L=this._fulfillmentHandlerAt(M),X=this._promiseAt(M),H=this._receiverAt(M);this._clearCallbackDataAtIndex(M),this._settlePromise(X,L,H,B)}},R.prototype._rejectPromises=function(N,B){for(var M=1;M<N;M++){var L=this._rejectionHandlerAt(M),X=this._promiseAt(M),H=this._receiverAt(M);this._clearCallbackDataAtIndex(M),this._settlePromise(X,L,H,B)}},R.prototype._settlePromises=function(){var N=this._bitField,B=N&65535;if(B>0){if(N&16842752){var M=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,M,N),this._rejectPromises(B,M)}else{var L=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,L,N),this._fulfillPromises(B,L)}this._setLength(0)}this._clearCancellationData()},R.prototype._settledValue=function(){var N=this._bitField;if(N&33554432)return this._rejectionHandler0;if(N&16777216)return this._fulfillmentHandler0};function V(N){this.promise._resolveCallback(N)}function S(N){this.promise._rejectCallback(N,!1)}R.defer=R.pending=function(){T.deprecated("Promise.defer","new Promise");var N=new R(_);return{promise:N,resolve:V,reject:S}},o.notEnumerableProp(R,"_makeSelfResolutionError",e),I9()(R,_,y,i,T),k9()(R,_,y,T),R9()(R,b,i,T),F9()(R),P9()(R),M9()(R,b,y,_,u,a),R.Promise=R,R.version="3.4.7",N9()(R,b,i,y,_,T),L9()(R),B9()(R,i,y,x,_,T),O9()(R,_,T),W9()(R,i,_,y,r,T),V9()(R),H9()(R,_),q9()(R,b,y,i),z9()(R,_,y,i),G9()(R,b,i,y,_,T),$9()(R,b,T),X9()(R,b,i),Y9()(R,_),K9()(R,_),J9()(R),o.toFastProperties(R),o.toFastProperties(R.prototype);function K(N){var B=new R(_);B._fulfillmentHandler0=N,B._rejectionHandler0=N,B._promise0=N,B._receiver0=N}return K({a:1}),K({b:2}),K({c:3}),K(1),K(function(){}),K(void 0),K(!1),K(new R(_)),T.setBounds(c.firstLineError,o.lastLineError),R}})(MN);var Q9=MN.exports,Z9=Xt,Fi=Q9();_n.defer=j9;_n.when=Fi.resolve;_n.resolve=Fi.resolve;_n.all=Fi.all;_n.props=Fi.props;_n.reject=Fi.reject;_n.promisify=Fi.promisify;_n.mapSeries=Fi.mapSeries;_n.attempt=Fi.attempt;_n.nfcall=function(n){var e=Array.prototype.slice.call(arguments,1),t=Fi.promisify(n);return t.apply(null,e)};Fi.prototype.fail=Fi.prototype.caught;Fi.prototype.also=function(n){return this.then(function(e){var t=Z9.extend({},e,n(e));return Fi.props(t)})};function j9(){var n,e,t=new Fi.Promise(function(i,r){n=i,e=r});return{resolve:n,reject:e,promise:t}}var He={},e7=Xt,Mn=He.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function t7(n,e){return e=e||{},{type:Mn.document,children:n,notes:e.notes||new vb({}),comments:e.comments||[]}}function n7(n,e){e=e||{};var t=e.indent||{};return{type:Mn.paragraph,children:n,styleId:e.styleId||null,styleName:e.styleName||null,numbering:e.numbering||null,alignment:e.alignment||null,indent:{start:t.start||null,end:t.end||null,firstLine:t.firstLine||null,hanging:t.hanging||null}}}function i7(n,e){return e=e||{},{type:Mn.run,children:n,styleId:e.styleId||null,styleName:e.styleName||null,isBold:!!e.isBold,isUnderline:!!e.isUnderline,isItalic:!!e.isItalic,isStrikethrough:!!e.isStrikethrough,isAllCaps:!!e.isAllCaps,isSmallCaps:!!e.isSmallCaps,verticalAlignment:e.verticalAlignment||LN.baseline,font:e.font||null,fontSize:e.fontSize||null,highlight:e.highlight||null}}var LN={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function r7(n){return{type:Mn.text,value:n}}function s7(){return{type:Mn.tab}}function o7(n){return{type:Mn.checkbox,checked:n.checked}}function a7(n,e){return{type:Mn.hyperlink,children:n,href:e.href,anchor:e.anchor,targetFrame:e.targetFrame}}function l7(n){return{type:Mn.noteReference,noteType:n.noteType,noteId:n.noteId}}function vb(n){this._notes=e7.indexBy(n,function(e){return BN(e.noteType,e.noteId)})}vb.prototype.resolve=function(n){return this.findNoteByKey(BN(n.noteType,n.noteId))};vb.prototype.findNoteByKey=function(n){return this._notes[n]||null};function c7(n){return{type:Mn.note,noteType:n.noteType,noteId:n.noteId,body:n.body}}function u7(n){return{type:Mn.commentReference,commentId:n.commentId}}function d7(n){return{type:Mn.comment,commentId:n.commentId,body:n.body,authorName:n.authorName,authorInitials:n.authorInitials}}function BN(n,e){return n+"-"+e}function h7(n){return{type:Mn.image,read:function(e){return e?n.readImage(e):n.readImage().then(function(t){return Buffer.from(t)})},readAsArrayBuffer:function(){return n.readImage()},readAsBase64String:function(){return n.readImage("base64")},readAsBuffer:function(){return n.readImage().then(function(e){return Buffer.from(e)})},altText:n.altText,contentType:n.contentType}}function f7(n,e){return e=e||{},{type:Mn.table,children:n,styleId:e.styleId||null,styleName:e.styleName||null}}function p7(n,e){return e=e||{},{type:Mn.tableRow,children:n,isHeader:e.isHeader||!1}}function g7(n,e){return e=e||{},{type:Mn.tableCell,children:n,colSpan:e.colSpan==null?1:e.colSpan,rowSpan:e.rowSpan==null?1:e.rowSpan}}function SE(n){return{type:Mn.break,breakType:n}}function m7(n){return{type:Mn.bookmarkStart,name:n.name}}He.document=He.Document=t7;He.paragraph=He.Paragraph=n7;He.run=He.Run=i7;He.text=He.Text=r7;He.tab=He.Tab=s7;He.checkbox=He.Checkbox=o7;He.Hyperlink=a7;He.noteReference=He.NoteReference=l7;He.Notes=vb;He.Note=c7;He.commentReference=u7;He.comment=d7;He.Image=h7;He.Table=f7;He.TableRow=p7;He.TableCell=g7;He.lineBreak=SE("line");He.pageBreak=SE("page");He.columnBreak=SE("column");He.BookmarkStart=m7;He.verticalAlignment=LN;var mr={},bg=Xt;mr.Result=oo;mr.success=y7;mr.warning=v7;mr.error=b7;function oo(n,e){this.value=n,this.messages=e||[]}oo.prototype.map=function(n){return new oo(n(this.value),this.messages)};oo.prototype.flatMap=function(n){var e=n(this.value);return new oo(e.value,UE([this,e]))};oo.prototype.flatMapThen=function(n){var e=this;return n(this.value).then(function(t){return new oo(t.value,UE([e,t]))})};oo.combine=function(n){var e=bg.flatten(bg.pluck(n,"value")),t=UE(n);return new oo(e,t)};function y7(n){return new oo(n,[])}function v7(n){return{type:"warning",message:n}}function b7(n){return{type:"error",message:n.message,error:n}}function UE(n){var e=[];return bg.flatten(bg.pluck(n,"messages"),!0).forEach(function(t){_7(e,t)||e.push(t)}),e}function _7(n,e){return bg.find(n,D7.bind(null,e))!==void 0}function D7(n,e){return n.type===e.type&&n.message===e.message}var Ry={},bb={};bb.byteLength=T7;bb.toByteArray=A7;bb.fromByteArray=U7;var eo=[],_r=[],w7=typeof Uint8Array<"u"?Uint8Array:Array,y_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ju=0,x7=y_.length;Ju<x7;++Ju)eo[Ju]=y_[Ju],_r[y_.charCodeAt(Ju)]=Ju;_r[45]=62;_r[95]=63;function ON(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function T7(n){var e=ON(n),t=e[0],i=e[1];return(t+i)*3/4-i}function E7(n,e,t){return(e+t)*3/4-t}function A7(n){var e,t=ON(n),i=t[0],r=t[1],s=new w7(E7(n,i,r)),o=0,a=r>0?i-4:i,l;for(l=0;l<a;l+=4)e=_r[n.charCodeAt(l)]<<18|_r[n.charCodeAt(l+1)]<<12|_r[n.charCodeAt(l+2)]<<6|_r[n.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return r===2&&(e=_r[n.charCodeAt(l)]<<2|_r[n.charCodeAt(l+1)]>>4,s[o++]=e&255),r===1&&(e=_r[n.charCodeAt(l)]<<10|_r[n.charCodeAt(l+1)]<<4|_r[n.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function C7(n){return eo[n>>18&63]+eo[n>>12&63]+eo[n>>6&63]+eo[n&63]}function S7(n,e,t){for(var i,r=[],s=e;s<t;s+=3)i=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),r.push(C7(i));return r.join("")}function U7(n){for(var e,t=n.length,i=t%3,r=[],s=16383,o=0,a=t-i;o<a;o+=s)r.push(S7(n,o,o+s>a?a:o+s));return i===1?(e=n[t-1],r.push(eo[e>>2]+eo[e<<4&63]+"==")):i===2&&(e=(n[t-2]<<8)+n[t-1],r.push(eo[e>>10]+eo[e>>4&63]+eo[e<<2&63]+"=")),r.join("")}function hv(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var WN={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,e){(function(t){n.exports=t()})(function(){return function t(i,r,s){function o(c,u){if(!r[c]){if(!i[c]){var h=typeof hv=="function"&&hv;if(!u&&h)return h(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var g=r[c]={exports:{}};i[c][0].call(g.exports,function(_){var m=i[c][1][_];return o(m||_)},g,g.exports,t,i,r,s)}return r[c].exports}for(var a=typeof hv=="function"&&hv,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,i,r){var s=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var c,u,h,f,g,_,m,D=[],y=0,b=l.length,w=b,x=s.getTypeOf(l)!=="string";y<l.length;)w=b-y,h=x?(c=l[y++],u=y<b?l[y++]:0,y<b?l[y++]:0):(c=l.charCodeAt(y++),u=y<b?l.charCodeAt(y++):0,y<b?l.charCodeAt(y++):0),f=c>>2,g=(3&c)<<4|u>>4,_=1<w?(15&u)<<2|h>>6:64,m=2<w?63&h:64,D.push(a.charAt(f)+a.charAt(g)+a.charAt(_)+a.charAt(m));return D.join("")},r.decode=function(l){var c,u,h,f,g,_,m=0,D=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var b,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=o.uint8array?new Uint8Array(0|w):new Array(0|w);m<l.length;)c=a.indexOf(l.charAt(m++))<<2|(f=a.indexOf(l.charAt(m++)))>>4,u=(15&f)<<4|(g=a.indexOf(l.charAt(m++)))>>2,h=(3&g)<<6|(_=a.indexOf(l.charAt(m++))),b[D++]=c,g!==64&&(b[D++]=u),_!==64&&(b[D++]=h);return b}},{"./support":30,"./utils":32}],2:[function(t,i,r){var s=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(u,h,f,g,_){this.compressedSize=u,this.uncompressedSize=h,this.crc32=f,this.compression=g,this.compressedContent=_}c.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,h,f){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},i.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,r){var s=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,r){var s=t("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();i.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,u,h,f){var g=o,_=f+h;c^=-1;for(var m=f;m<_;m++)c=c>>>8^g[255&(c^u[m])];return-1^c}(0|l,a,a.length,0):function(c,u,h,f){var g=o,_=f+h;c^=-1;for(var m=f;m<_;m++)c=c>>>8^g[255&(c^u.charCodeAt(m))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(t,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,i,r){var s=null;s=typeof Promise<"u"?Promise:t("lie"),i.exports={Promise:s}},{lie:37}],7:[function(t,i,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),a=t("./utils"),l=t("./stream/GenericWorker"),c=s?"uint8array":"array";function u(h,f){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}r.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},r.compressWorker=function(h){return new u("Deflate",h)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,r){function s(g,_){var m,D="";for(m=0;m<_;m++)D+=String.fromCharCode(255&g),g>>>=8;return D}function o(g,_,m,D,y,b){var w,x,T=g.file,E=g.compression,C=b!==c.utf8encode,F=a.transformTo("string",b(T.name)),P=a.transformTo("string",c.utf8encode(T.name)),O=T.comment,Y=a.transformTo("string",b(O)),R=a.transformTo("string",c.utf8encode(O)),V=P.length!==T.name.length,S=R.length!==O.length,K="",N="",B="",M=T.dir,L=T.date,X={crc32:0,compressedSize:0,uncompressedSize:0};_&&!m||(X.crc32=g.crc32,X.compressedSize=g.compressedSize,X.uncompressedSize=g.uncompressedSize);var H=0;_&&(H|=8),C||!V&&!S||(H|=2048);var z=0,G=0;M&&(z|=16),y==="UNIX"?(G=798,z|=function(re,ce){var de=re;return re||(de=ce?16893:33204),(65535&de)<<16}(T.unixPermissions,M)):(G=20,z|=function(re){return 63&(re||0)}(T.dosPermissions)),w=L.getUTCHours(),w<<=6,w|=L.getUTCMinutes(),w<<=5,w|=L.getUTCSeconds()/2,x=L.getUTCFullYear()-1980,x<<=4,x|=L.getUTCMonth()+1,x<<=5,x|=L.getUTCDate(),V&&(N=s(1,1)+s(u(F),4)+P,K+="up"+s(N.length,2)+N),S&&(B=s(1,1)+s(u(Y),4)+R,K+="uc"+s(B.length,2)+B);var ie="";return ie+=`
\0`,ie+=s(H,2),ie+=E.magic,ie+=s(w,2),ie+=s(x,2),ie+=s(X.crc32,4),ie+=s(X.compressedSize,4),ie+=s(X.uncompressedSize,4),ie+=s(F.length,2),ie+=s(K.length,2),{fileRecord:h.LOCAL_FILE_HEADER+ie+F+K,dirRecord:h.CENTRAL_FILE_HEADER+s(G,2)+ie+s(Y.length,2)+"\0\0\0\0"+s(z,4)+s(D,4)+F+K+Y}}var a=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),u=t("../crc32"),h=t("../signature");function f(g,_,m,D){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=m,this.encodeFileName=D,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(g){var _=g.meta.percent||0,m=this.entriesCount,D=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,l.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:m?(_+100*(m-D-1))/m:100}}))},f.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var _=this.streamFiles&&!g.file.dir;if(_){var m=o(g,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(g){this.accumulate=!1;var _=this.streamFiles&&!g.file.dir,m=o(g,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),_)this.push({data:function(D){return h.DATA_DESCRIPTOR+s(D.crc32,4)+s(D.compressedSize,4)+s(D.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var g=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var m=this.bytesWritten-g,D=function(y,b,w,x,T){var E=a.transformTo("string",T(x));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(y,2)+s(y,2)+s(b,4)+s(w,4)+s(E.length,2)+E}(this.dirRecords.length,m,g,this.zipComment,this.encodeFileName);this.push({data:D,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(g){this._sources.push(g);var _=this;return g.on("data",function(m){_.processChunk(m)}),g.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),g.on("error",function(m){_.error(m)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(g){var _=this._sources;if(!l.prototype.error.call(this,g))return!1;for(var m=0;m<_.length;m++)try{_[m].error(g)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var g=this._sources,_=0;_<g.length;_++)g[_].lock()},i.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,r){var s=t("../compressions"),o=t("./ZipFileWorker");r.generateWorker=function(a,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{a.forEach(function(f,g){h++;var _=function(b,w){var x=b||w,T=s[x];if(!T)throw new Error(x+" is not a valid compression method !");return T}(g.options.compression,l.compression),m=g.options.compressionOptions||l.compressionOptions||{},D=g.dir,y=g.date;g._compressWorker(_,m).withStreamInfo("file",{name:f,dir:D,date:y,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=t("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,r){var s=t("./utils"),o=t("./external"),a=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function h(f){return new o.Promise(function(g,_){var m=f.decompressed.getContentWorker().pipe(new c);m.on("error",function(D){_(D)}).on("end",function(){m.streamInfo.crc32!==f.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}i.exports=function(f,g){var _=this;return g=s.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,g.optimizedBinaryString,g.base64).then(function(m){var D=new l(g);return D.load(m),D}).then(function(m){var D=[o.Promise.resolve(m)],y=m.files;if(g.checkCRC32)for(var b=0;b<y.length;b++)D.push(h(y[b]));return o.Promise.all(D)}).then(function(m){for(var D=m.shift(),y=D.files,b=0;b<y.length;b++){var w=y[b],x=w.fileNameStr,T=s.resolve(w.fileNameStr);_.file(T,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:g.createFolders}),w.dir||(_.file(T).unsafeOriginalName=x)}return D.zipComment.length&&(_.comment=D.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,r){var s=t("../utils"),o=t("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,r){var s=t("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var u=this;a.on("data",function(h,f){u.push(h)||u._helper.pause(),c&&c(f)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,i,r){function s(T,E,C){var F,P=a.getTypeOf(E),O=a.extend(C||{},u);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(T=y(T)),O.createFolders&&(F=D(T))&&b.call(this,F,!0);var Y=P==="string"&&O.binary===!1&&O.base64===!1;C&&C.binary!==void 0||(O.binary=!Y),(E instanceof h&&E.uncompressedSize===0||O.dir||!E||E.length===0)&&(O.base64=!1,O.binary=!0,E="",O.compression="STORE",P="string");var R=null;R=E instanceof h||E instanceof l?E:_.isNode&&_.isStream(E)?new m(T,E):a.prepareContent(T,E,O.binary,O.optimizedBinaryString,O.base64);var V=new f(T,R,O);this.files[T]=V}var o=t("./utf8"),a=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),u=t("./defaults"),h=t("./compressedObject"),f=t("./zipObject"),g=t("./generate"),_=t("./nodejsUtils"),m=t("./nodejs/NodejsStreamInputAdapter"),D=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var E=T.lastIndexOf("/");return 0<E?T.substring(0,E):""},y=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},b=function(T,E){return E=E!==void 0?E:u.createFolders,T=y(T),this.files[T]||s.call(this,T,null,{dir:!0,createFolders:E}),this.files[T]};function w(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var E,C,F;for(E in this.files)F=this.files[E],(C=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&T(C,F)},filter:function(T){var E=[];return this.forEach(function(C,F){T(C,F)&&E.push(F)}),E},file:function(T,E,C){if(arguments.length!==1)return T=this.root+T,s.call(this,T,E,C),this;if(w(T)){var F=T;return this.filter(function(O,Y){return!Y.dir&&F.test(O)})}var P=this.files[this.root+T];return P&&!P.dir?P:null},folder:function(T){if(!T)return this;if(w(T))return this.filter(function(P,O){return O.dir&&T.test(P)});var E=this.root+T,C=b.call(this,E),F=this.clone();return F.root=C.name,F},remove:function(T){T=this.root+T;var E=this.files[T];if(E||(T.slice(-1)!=="/"&&(T+="/"),E=this.files[T]),E&&!E.dir)delete this.files[T];else for(var C=this.filter(function(P,O){return O.name.slice(0,T.length)===T}),F=0;F<C.length;F++)delete this.files[C[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var E,C={};try{if((C=a.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");a.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var F=C.comment||this.comment||"";E=g.generateWorker(this,C,F)}catch(P){(E=new l("error")).error(P)}return new c(E,C.type||"string",C.mimeType)},generateAsync:function(T,E){return this.generateInternalStream(T).accumulate(E)},generateNodeStream:function(T,E){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(E)}};i.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,r){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,r){var s=t("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===h)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&h===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,i,r){var s=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},i.exports=o},{"../utils":32}],19:[function(t,i,r){var s=t("./Uint8ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,r){var s=t("./DataReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,i,r){var s=t("./ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,r){var s=t("../utils"),o=t("../support"),a=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");i.exports=function(h){var f=s.getTypeOf(h);return s.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new c(h):o.uint8array?new u(s.transformTo("uint8array",h)):new a(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,r){var s=t("./GenericWorker"),o=t("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},i.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,r){var s=t("./GenericWorker"),o=t("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},i.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,r){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},i.exports=s},{}],29:[function(t,i,r){var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),l=t("../base64"),c=t("../support"),u=t("../external"),h=null;if(c.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(_,m){return new u.Promise(function(D,y){var b=[],w=_._internalType,x=_._outputType,T=_._mimeType;_.on("data",function(E,C){b.push(E),m&&m(C)}).on("error",function(E){b=[],y(E)}).on("end",function(){try{var E=function(C,F,P){switch(C){case"blob":return s.newBlob(s.transformTo("arraybuffer",F),P);case"base64":return l.encode(F);default:return s.transformTo(C,F)}}(x,function(C,F){var P,O=0,Y=null,R=0;for(P=0;P<F.length;P++)R+=F[P].length;switch(C){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(Y=new Uint8Array(R),P=0;P<F.length;P++)Y.set(F[P],O),O+=F[P].length;return Y;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+C+"'")}}(w,b),T);D(E)}catch(C){y(C)}b=[]}).resume()})}function g(_,m,D){var y=m;switch(m){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=m,this._mimeType=D,s.checkSupport(y),this._worker=_.pipe(new o(y)),_.lock()}catch(b){this._worker=new a("error"),this._worker.error(b)}}g.prototype={accumulate:function(_){return f(this,_)},on:function(_,m){var D=this;return _==="data"?this._worker.on(_,function(y){m.call(D,y.data,y.meta)}):this._worker.on(_,function(){s.delay(m,arguments,D)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},_)}},i.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),r.blob=o.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,r){for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}r.utf8encode=function(g){return o.nodebuffer?a.newBufferFrom(g,"utf-8"):function(_){var m,D,y,b,w,x=_.length,T=0;for(b=0;b<x;b++)(64512&(D=_.charCodeAt(b)))==55296&&b+1<x&&(64512&(y=_.charCodeAt(b+1)))==56320&&(D=65536+(D-55296<<10)+(y-56320),b++),T+=D<128?1:D<2048?2:D<65536?3:4;for(m=o.uint8array?new Uint8Array(T):new Array(T),b=w=0;w<T;b++)(64512&(D=_.charCodeAt(b)))==55296&&b+1<x&&(64512&(y=_.charCodeAt(b+1)))==56320&&(D=65536+(D-55296<<10)+(y-56320),b++),D<128?m[w++]=D:(D<2048?m[w++]=192|D>>>6:(D<65536?m[w++]=224|D>>>12:(m[w++]=240|D>>>18,m[w++]=128|D>>>12&63),m[w++]=128|D>>>6&63),m[w++]=128|63&D);return m}(g)},r.utf8decode=function(g){return o.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):function(_){var m,D,y,b,w=_.length,x=new Array(2*w);for(m=D=0;m<w;)if((y=_[m++])<128)x[D++]=y;else if(4<(b=c[y]))x[D++]=65533,m+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&m<w;)y=y<<6|63&_[m++],b--;1<b?x[D++]=65533:y<65536?x[D++]=y:(y-=65536,x[D++]=55296|y>>10&1023,x[D++]=56320|1023&y)}return x.length!==D&&(x.subarray?x=x.subarray(0,D):x.length=D),s.applyFromCharCode(x)}(g=s.transformTo(o.uint8array?"uint8array":"array",g))},s.inherits(h,l),h.prototype.processChunk=function(g){var _=s.transformTo(o.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=_;(_=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),_.set(m,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var D=function(b,w){var x;for((w=w||b.length)>b.length&&(w=b.length),x=w-1;0<=x&&(192&b[x])==128;)x--;return x<0||x===0?w:x+c[b[x]]>w?x:w}(_),y=_;D!==_.length&&(o.uint8array?(y=_.subarray(0,D),this.leftOver=_.subarray(D,_.length)):(y=_.slice(0,D),this.leftOver=_.slice(D,_.length))),this.push({data:r.utf8decode(y),meta:g.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=h,s.inherits(f,l),f.prototype.processChunk=function(g){this.push({data:r.utf8encode(g.data),meta:g.meta})},r.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,r){var s=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),l=t("./external");function c(m){return m}function u(m,D){for(var y=0;y<m.length;++y)D[y]=255&m.charCodeAt(y);return D}t("setimmediate"),r.newBlob=function(m,D){r.checkSupport("blob");try{return new Blob([m],{type:D})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(D)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(m,D,y){var b=[],w=0,x=m.length;if(x<=y)return String.fromCharCode.apply(null,m);for(;w<x;)D==="array"||D==="nodebuffer"?b.push(String.fromCharCode.apply(null,m.slice(w,Math.min(w+y,x)))):b.push(String.fromCharCode.apply(null,m.subarray(w,Math.min(w+y,x)))),w+=y;return b.join("")},stringifyByChar:function(m){for(var D="",y=0;y<m.length;y++)D+=String.fromCharCode(m[y]);return D},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(m){var D=65536,y=r.getTypeOf(m),b=!0;if(y==="uint8array"?b=h.applyCanBeUsed.uint8array:y==="nodebuffer"&&(b=h.applyCanBeUsed.nodebuffer),b)for(;1<D;)try{return h.stringifyByChunk(m,y,D)}catch{D=Math.floor(D/2)}return h.stringifyByChar(m)}function g(m,D){for(var y=0;y<m.length;y++)D[y]=m[y];return D}r.applyFromCharCode=f;var _={};_.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return _.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,a.allocBuffer(m.length))}},_.array={string:f,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},_.arraybuffer={string:function(m){return f(new Uint8Array(m))},array:function(m){return g(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},_.uint8array={string:f,array:function(m){return g(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return a.newBufferFrom(m)}},_.nodebuffer={string:f,array:function(m){return g(m,new Array(m.length))},arraybuffer:function(m){return _.nodebuffer.uint8array(m).buffer},uint8array:function(m){return g(m,new Uint8Array(m.length))},nodebuffer:c},r.transformTo=function(m,D){if(D=D||"",!m)return D;r.checkSupport(m);var y=r.getTypeOf(D);return _[y][m](D)},r.resolve=function(m){for(var D=m.split("/"),y=[],b=0;b<D.length;b++){var w=D[b];w==="."||w===""&&b!==0&&b!==D.length-1||(w===".."?y.pop():y.push(w))}return y.join("/")},r.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(m){var D,y,b="";for(y=0;y<(m||"").length;y++)b+="\\x"+((D=m.charCodeAt(y))<16?"0":"")+D.toString(16).toUpperCase();return b},r.delay=function(m,D,y){setImmediate(function(){m.apply(y||null,D||[])})},r.inherits=function(m,D){function y(){}y.prototype=D.prototype,m.prototype=new y},r.extend=function(){var m,D,y={};for(m=0;m<arguments.length;m++)for(D in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],D)&&y[D]===void 0&&(y[D]=arguments[m][D]);return y},r.prepareContent=function(m,D,y,b,w){return l.Promise.resolve(D).then(function(x){return s.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,E){var C=new FileReader;C.onload=function(F){T(F.target.result)},C.onerror=function(F){E(F.target.error)},C.readAsArrayBuffer(x)}):x}).then(function(x){var T=r.getTypeOf(x);return T?(T==="arraybuffer"?x=r.transformTo("uint8array",x):T==="string"&&(w?x=o.decode(x):y&&b!==!0&&(x=function(E){return u(E,s.uint8array?new Uint8Array(E.length):new Array(E.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),c=t("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(h)+")")}},isSignature:function(h,f){var g=this.reader.index;this.reader.setIndex(h);var _=this.reader.readString(4)===f;return this.reader.setIndex(g),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",g=o.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,g,_=this.zip64EndOfCentralSize-44;0<_;)h=this.reader.readInt(2),f=this.reader.readInt(4),g=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var _=f-g;if(0<_)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),u=t("./compressions"),h=t("./support");function f(g,_){this.options=g,this.loadOptions=_}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var _,m;if(g.skip(22),this.fileNameLength=g.readInt(2),m=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(D){for(var y in u)if(Object.prototype.hasOwnProperty.call(u,y)&&u[y].magic===D)return u[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,_,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var _=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(_),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var _,m,D,y=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<y;)_=g.readInt(2),m=g.readInt(2),D=g.readData(m),this.extraFields[_]={id:_,length:m,value:D};g.setIndex(y)},handleUTF8:function(){var g=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var m=o.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var D=this.findExtraFieldUnicodeComment();if(D!==null)this.fileCommentStr=D;else{var y=o.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var _=s(g.value);return _.readInt(1)!==1||l(this.fileName)!==_.readInt(4)?null:c.utf8decode(_.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var _=s(g.value);return _.readInt(1)!==1||l(this.fileComment)!==_.readInt(4)?null:c.utf8decode(_.readData(g.length-5))}return null}},i.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,r){function s(_,m,D){this.name=_,this.dir=D.dir,this.date=D.date,this.comment=D.comment,this.unixPermissions=D.unixPermissions,this.dosPermissions=D.dosPermissions,this._data=m,this._dataBinary=D.binary,this.options={compression:D.compression,compressionOptions:D.compressionOptions}}var o=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),u=t("./stream/GenericWorker");s.prototype={internalStream:function(_){var m=null,D="string";try{if(!_)throw new Error("No output type specified.");var y=(D=_.toLowerCase())==="string"||D==="text";D!=="binarystring"&&D!=="text"||(D="string"),m=this._decompressWorker();var b=!this._dataBinary;b&&!y&&(m=m.pipe(new l.Utf8EncodeWorker)),!b&&y&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(w){(m=new u("error")).error(w)}return new o(m,D,"")},async:function(_,m){return this.internalStream(_).accumulate(m)},nodeStream:function(_,m){return this.internalStream(_||"nodebuffer").toNodejsStream(m)},_compressWorker:function(_,m){if(this._data instanceof c&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var D=this._decompressWorker();return this._dataBinary||(D=D.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(D,_,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<h.length;g++)s.prototype[h[g]]=f;i.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,r){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(_),h=s.document.createTextNode("");u.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){_(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(_,0)};else{var f=new s.MessageChannel;f.port1.onmessage=_,o=function(){f.port2.postMessage(0)}}var g=[];function _(){var m,D;a=!0;for(var y=g.length;y;){for(D=g,g=[],m=-1;++m<y;)D[m]();y=g.length}a=!1}i.exports=function(m){g.push(m)!==1||a||o()}}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,r){var s=t("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function h(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,y!==o&&m(this,y)}function f(y,b,w){this.promise=y,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function g(y,b,w){s(function(){var x;try{x=b(w)}catch(T){return a.reject(y,T)}x===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,x)})}function _(y){var b=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof b=="function")return function(){b.apply(y,arguments)}}function m(y,b){var w=!1;function x(C){w||(w=!0,a.reject(y,C))}function T(C){w||(w=!0,a.resolve(y,C))}var E=D(function(){b(T,x)});E.status==="error"&&x(E.value)}function D(y,b){var w={};try{w.value=y(b),w.status="success"}catch(x){w.status="error",w.value=x}return w}(i.exports=h).prototype.finally=function(y){if(typeof y!="function")return this;var b=this.constructor;return this.then(function(w){return b.resolve(y()).then(function(){return w})},function(w){return b.resolve(y()).then(function(){throw w})})},h.prototype.catch=function(y){return this.then(null,y)},h.prototype.then=function(y,b){if(typeof y!="function"&&this.state===c||typeof b!="function"&&this.state===l)return this;var w=new this.constructor(o);return this.state!==u?g(w,this.state===c?y:b,this.outcome):this.queue.push(new f(w,y,b)),w},f.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},f.prototype.otherCallFulfilled=function(y){g(this.promise,this.onFulfilled,y)},f.prototype.callRejected=function(y){a.reject(this.promise,y)},f.prototype.otherCallRejected=function(y){g(this.promise,this.onRejected,y)},a.resolve=function(y,b){var w=D(_,b);if(w.status==="error")return a.reject(y,w.value);var x=w.value;if(x)m(y,x);else{y.state=c,y.outcome=b;for(var T=-1,E=y.queue.length;++T<E;)y.queue[T].callFulfilled(b)}return y},a.reject=function(y,b){y.state=l,y.outcome=b;for(var w=-1,x=y.queue.length;++w<x;)y.queue[w].callRejected(b);return y},h.resolve=function(y){return y instanceof this?y:a.resolve(new this(o),y)},h.reject=function(y){var b=new this(o);return a.reject(b,y)},h.all=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=y.length,x=!1;if(!w)return this.resolve([]);for(var T=new Array(w),E=0,C=-1,F=new this(o);++C<w;)P(y[C],C);return F;function P(O,Y){b.resolve(O).then(function(R){T[Y]=R,++E!==w||x||(x=!0,a.resolve(F,T))},function(R){x||(x=!0,a.reject(F,R))})}},h.race=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=y.length,x=!1;if(!w)return this.resolve([]);for(var T=-1,E=new this(o);++T<w;)C=y[T],b.resolve(C).then(function(F){x||(x=!0,a.resolve(E,F))},function(F){x||(x=!0,a.reject(E,F))});var C;return E}},{immediate:36}],38:[function(t,i,r){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),i.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,r){var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),u=Object.prototype.toString,h=0,f=-1,g=0,_=8;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({level:f,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},y||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(w!==h)throw new Error(l[w]);if(b.header&&s.deflateSetHeader(this.strm,b.header),b.dictionary){var x;if(x=typeof b.dictionary=="string"?a.string2buf(b.dictionary):u.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(w=s.deflateSetDictionary(this.strm,x))!==h)throw new Error(l[w]);this._dict_set=!0}}function D(y,b){var w=new m(b);if(w.push(y,!0),w.err)throw w.msg||l[w.err];return w.result}m.prototype.push=function(y,b){var w,x,T=this.strm,E=this.options.chunkSize;if(this.ended)return!1;x=b===~~b?b:b===!0?4:0,typeof y=="string"?T.input=a.string2buf(y):u.call(y)==="[object ArrayBuffer]"?T.input=new Uint8Array(y):T.input=y,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new o.Buf8(E),T.next_out=0,T.avail_out=E),(w=s.deflate(T,x))!==1&&w!==h)return this.onEnd(w),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(T.output,T.next_out))):this.onData(o.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&w!==1);return x===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===h):x!==2||(this.onEnd(h),!(T.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},r.Deflate=m,r.deflate=D,r.deflateRaw=function(y,b){return(b=b||{}).raw=!0,D(y,b)},r.gzip=function(y,b){return(b=b||{}).gzip=!0,D(y,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,r){var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),u=t("./zlib/zstream"),h=t("./zlib/gzheader"),f=Object.prototype.toString;function g(m){if(!(this instanceof g))return new g(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var D=this.options;D.raw&&0<=D.windowBits&&D.windowBits<16&&(D.windowBits=-D.windowBits,D.windowBits===0&&(D.windowBits=-15)),!(0<=D.windowBits&&D.windowBits<16)||m&&m.windowBits||(D.windowBits+=32),15<D.windowBits&&D.windowBits<48&&!(15&D.windowBits)&&(D.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,D.windowBits);if(y!==l.Z_OK)throw new Error(c[y]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function _(m,D){var y=new g(D);if(y.push(m,!0),y.err)throw y.msg||c[y.err];return y.result}g.prototype.push=function(m,D){var y,b,w,x,T,E,C=this.strm,F=this.options.chunkSize,P=this.options.dictionary,O=!1;if(this.ended)return!1;b=D===~~D?D:D===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?C.input=a.binstring2buf(m):f.call(m)==="[object ArrayBuffer]"?C.input=new Uint8Array(m):C.input=m,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(F),C.next_out=0,C.avail_out=F),(y=s.inflate(C,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(E=typeof P=="string"?a.string2buf(P):f.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,y=s.inflateSetDictionary(this.strm,E)),y===l.Z_BUF_ERROR&&O===!0&&(y=l.Z_OK,O=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&y!==l.Z_STREAM_END&&(C.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(C.output,C.next_out),x=C.next_out-w,T=a.buf2string(C.output,w),C.next_out=x,C.avail_out=F-x,x&&o.arraySet(C.output,C.output,w,x,0),this.onData(T)):this.onData(o.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(O=!0)}while((0<C.avail_in||C.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(y=s.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(C.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},r.Inflate=g,r.inflate=_,r.inflateRaw=function(m,D){return(D=D||{}).raw=!0,_(m,D)},r.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},r.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,h,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+h),f);else for(var g=0;g<h;g++)l[f+g]=c[u+g]},flattenChunks:function(l){var c,u,h,f,g,_;for(c=h=0,u=l.length;c<u;c++)h+=l[c].length;for(_=new Uint8Array(h),c=f=0,u=l.length;c<u;c++)g=l[c],_.set(g,f),f+=g.length;return _}},a={arraySet:function(l,c,u,h,f){for(var g=0;g<h;g++)l[f+g]=c[u+g]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(s)},{}],42:[function(t,i,r){var s=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(h,f){if(f<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(h,f));for(var g="",_=0;_<f;_++)g+=String.fromCharCode(h[_]);return g}l[254]=l[254]=1,r.string2buf=function(h){var f,g,_,m,D,y=h.length,b=0;for(m=0;m<y;m++)(64512&(g=h.charCodeAt(m)))==55296&&m+1<y&&(64512&(_=h.charCodeAt(m+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),m++),b+=g<128?1:g<2048?2:g<65536?3:4;for(f=new s.Buf8(b),m=D=0;D<b;m++)(64512&(g=h.charCodeAt(m)))==55296&&m+1<y&&(64512&(_=h.charCodeAt(m+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),m++),g<128?f[D++]=g:(g<2048?f[D++]=192|g>>>6:(g<65536?f[D++]=224|g>>>12:(f[D++]=240|g>>>18,f[D++]=128|g>>>12&63),f[D++]=128|g>>>6&63),f[D++]=128|63&g);return f},r.buf2binstring=function(h){return u(h,h.length)},r.binstring2buf=function(h){for(var f=new s.Buf8(h.length),g=0,_=f.length;g<_;g++)f[g]=h.charCodeAt(g);return f},r.buf2string=function(h,f){var g,_,m,D,y=f||h.length,b=new Array(2*y);for(g=_=0;g<y;)if((m=h[g++])<128)b[_++]=m;else if(4<(D=l[m]))b[_++]=65533,g+=D-1;else{for(m&=D===2?31:D===3?15:7;1<D&&g<y;)m=m<<6|63&h[g++],D--;1<D?b[_++]=65533:m<65536?b[_++]=m:(m-=65536,b[_++]=55296|m>>10&1023,b[_++]=56320|1023&m)}return u(b,_)},r.utf8border=function(h,f){var g;for((f=f||h.length)>h.length&&(f=h.length),g=f-1;0<=g&&(192&h[g])==128;)g--;return g<0||g===0?f:g+l[h[g]]>f?g:f}},{"./common":41}],43:[function(t,i,r){i.exports=function(s,o,a,l){for(var c=65535&s|0,u=s>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;u=u+(c=c+o[l++]|0)|0,--h;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(t,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,r){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();i.exports=function(o,a,l,c){var u=s,h=c+l;o^=-1;for(var f=c;f<h;f++)o=o>>>8^u[255&(o^a[f])];return-1^o}},{}],46:[function(t,i,r){var s,o=t("../utils/common"),a=t("./trees"),l=t("./adler32"),c=t("./crc32"),u=t("./messages"),h=0,f=4,g=0,_=-2,m=-1,D=4,y=2,b=8,w=9,x=286,T=30,E=19,C=2*x+1,F=15,P=3,O=258,Y=O+P+1,R=42,V=113,S=1,K=2,N=3,B=4;function M(U,ne){return U.msg=u[ne],ne}function L(U){return(U<<1)-(4<U?9:0)}function X(U){for(var ne=U.length;0<=--ne;)U[ne]=0}function H(U){var ne=U.state,ee=ne.pending;ee>U.avail_out&&(ee=U.avail_out),ee!==0&&(o.arraySet(U.output,ne.pending_buf,ne.pending_out,ee,U.next_out),U.next_out+=ee,ne.pending_out+=ee,U.total_out+=ee,U.avail_out-=ee,ne.pending-=ee,ne.pending===0&&(ne.pending_out=0))}function z(U,ne){a._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,ne),U.block_start=U.strstart,H(U.strm)}function G(U,ne){U.pending_buf[U.pending++]=ne}function ie(U,ne){U.pending_buf[U.pending++]=ne>>>8&255,U.pending_buf[U.pending++]=255&ne}function re(U,ne){var ee,q,W=U.max_chain_length,Q=U.strstart,oe=U.prev_length,le=U.nice_match,te=U.strstart>U.w_size-Y?U.strstart-(U.w_size-Y):0,$=U.window,J=U.w_mask,Z=U.prev,se=U.strstart+O,pe=$[Q+oe-1],xe=$[Q+oe];U.prev_length>=U.good_match&&(W>>=2),le>U.lookahead&&(le=U.lookahead);do if($[(ee=ne)+oe]===xe&&$[ee+oe-1]===pe&&$[ee]===$[Q]&&$[++ee]===$[Q+1]){Q+=2,ee++;do;while($[++Q]===$[++ee]&&$[++Q]===$[++ee]&&$[++Q]===$[++ee]&&$[++Q]===$[++ee]&&$[++Q]===$[++ee]&&$[++Q]===$[++ee]&&$[++Q]===$[++ee]&&$[++Q]===$[++ee]&&Q<se);if(q=O-(se-Q),Q=se-O,oe<q){if(U.match_start=ne,le<=(oe=q))break;pe=$[Q+oe-1],xe=$[Q+oe]}}while((ne=Z[ne&J])>te&&--W!=0);return oe<=U.lookahead?oe:U.lookahead}function ce(U){var ne,ee,q,W,Q,oe,le,te,$,J,Z=U.w_size;do{if(W=U.window_size-U.lookahead-U.strstart,U.strstart>=Z+(Z-Y)){for(o.arraySet(U.window,U.window,Z,Z,0),U.match_start-=Z,U.strstart-=Z,U.block_start-=Z,ne=ee=U.hash_size;q=U.head[--ne],U.head[ne]=Z<=q?q-Z:0,--ee;);for(ne=ee=Z;q=U.prev[--ne],U.prev[ne]=Z<=q?q-Z:0,--ee;);W+=Z}if(U.strm.avail_in===0)break;if(oe=U.strm,le=U.window,te=U.strstart+U.lookahead,$=W,J=void 0,J=oe.avail_in,$<J&&(J=$),ee=J===0?0:(oe.avail_in-=J,o.arraySet(le,oe.input,oe.next_in,J,te),oe.state.wrap===1?oe.adler=l(oe.adler,le,J,te):oe.state.wrap===2&&(oe.adler=c(oe.adler,le,J,te)),oe.next_in+=J,oe.total_in+=J,J),U.lookahead+=ee,U.lookahead+U.insert>=P)for(Q=U.strstart-U.insert,U.ins_h=U.window[Q],U.ins_h=(U.ins_h<<U.hash_shift^U.window[Q+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[Q+P-1])&U.hash_mask,U.prev[Q&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=Q,Q++,U.insert--,!(U.lookahead+U.insert<P)););}while(U.lookahead<Y&&U.strm.avail_in!==0)}function de(U,ne){for(var ee,q;;){if(U.lookahead<Y){if(ce(U),U.lookahead<Y&&ne===h)return S;if(U.lookahead===0)break}if(ee=0,U.lookahead>=P&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+P-1])&U.hash_mask,ee=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),ee!==0&&U.strstart-ee<=U.w_size-Y&&(U.match_length=re(U,ee)),U.match_length>=P)if(q=a._tr_tally(U,U.strstart-U.match_start,U.match_length-P),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=P){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+P-1])&U.hash_mask,ee=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else q=a._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(q&&(z(U,!1),U.strm.avail_out===0))return S}return U.insert=U.strstart<P-1?U.strstart:P-1,ne===f?(z(U,!0),U.strm.avail_out===0?N:B):U.last_lit&&(z(U,!1),U.strm.avail_out===0)?S:K}function _e(U,ne){for(var ee,q,W;;){if(U.lookahead<Y){if(ce(U),U.lookahead<Y&&ne===h)return S;if(U.lookahead===0)break}if(ee=0,U.lookahead>=P&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+P-1])&U.hash_mask,ee=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=P-1,ee!==0&&U.prev_length<U.max_lazy_match&&U.strstart-ee<=U.w_size-Y&&(U.match_length=re(U,ee),U.match_length<=5&&(U.strategy===1||U.match_length===P&&4096<U.strstart-U.match_start)&&(U.match_length=P-1)),U.prev_length>=P&&U.match_length<=U.prev_length){for(W=U.strstart+U.lookahead-P,q=a._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-P),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=W&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+P-1])&U.hash_mask,ee=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=P-1,U.strstart++,q&&(z(U,!1),U.strm.avail_out===0))return S}else if(U.match_available){if((q=a._tr_tally(U,0,U.window[U.strstart-1]))&&z(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return S}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(q=a._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<P-1?U.strstart:P-1,ne===f?(z(U,!0),U.strm.avail_out===0?N:B):U.last_lit&&(z(U,!1),U.strm.avail_out===0)?S:K}function Te(U,ne,ee,q,W){this.good_length=U,this.max_lazy=ne,this.nice_length=ee,this.max_chain=q,this.func=W}function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*C),this.dyn_dtree=new o.Buf16(2*(2*T+1)),this.bl_tree=new o.Buf16(2*(2*E+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(F+1),this.heap=new o.Buf16(2*x+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Le(U){var ne;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=y,(ne=U.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?R:V,U.adler=ne.wrap===2?0:1,ne.last_flush=h,a._tr_init(ne),g):M(U,_)}function j(U){var ne=Le(U);return ne===g&&function(ee){ee.window_size=2*ee.w_size,X(ee.head),ee.max_lazy_match=s[ee.level].max_lazy,ee.good_match=s[ee.level].good_length,ee.nice_match=s[ee.level].nice_length,ee.max_chain_length=s[ee.level].max_chain,ee.strstart=0,ee.block_start=0,ee.lookahead=0,ee.insert=0,ee.match_length=ee.prev_length=P-1,ee.match_available=0,ee.ins_h=0}(U.state),ne}function ae(U,ne,ee,q,W,Q){if(!U)return _;var oe=1;if(ne===m&&(ne=6),q<0?(oe=0,q=-q):15<q&&(oe=2,q-=16),W<1||w<W||ee!==b||q<8||15<q||ne<0||9<ne||Q<0||D<Q)return M(U,_);q===8&&(q=9);var le=new Me;return(U.state=le).strm=U,le.wrap=oe,le.gzhead=null,le.w_bits=q,le.w_size=1<<le.w_bits,le.w_mask=le.w_size-1,le.hash_bits=W+7,le.hash_size=1<<le.hash_bits,le.hash_mask=le.hash_size-1,le.hash_shift=~~((le.hash_bits+P-1)/P),le.window=new o.Buf8(2*le.w_size),le.head=new o.Buf16(le.hash_size),le.prev=new o.Buf16(le.w_size),le.lit_bufsize=1<<W+6,le.pending_buf_size=4*le.lit_bufsize,le.pending_buf=new o.Buf8(le.pending_buf_size),le.d_buf=1*le.lit_bufsize,le.l_buf=3*le.lit_bufsize,le.level=ne,le.strategy=Q,le.method=ee,j(U)}s=[new Te(0,0,0,0,function(U,ne){var ee=65535;for(ee>U.pending_buf_size-5&&(ee=U.pending_buf_size-5);;){if(U.lookahead<=1){if(ce(U),U.lookahead===0&&ne===h)return S;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var q=U.block_start+ee;if((U.strstart===0||U.strstart>=q)&&(U.lookahead=U.strstart-q,U.strstart=q,z(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-Y&&(z(U,!1),U.strm.avail_out===0))return S}return U.insert=0,ne===f?(z(U,!0),U.strm.avail_out===0?N:B):(U.strstart>U.block_start&&(z(U,!1),U.strm.avail_out),S)}),new Te(4,4,8,4,de),new Te(4,5,16,8,de),new Te(4,6,32,32,de),new Te(4,4,16,16,_e),new Te(8,16,32,32,_e),new Te(8,16,128,128,_e),new Te(8,32,128,256,_e),new Te(32,128,258,1024,_e),new Te(32,258,258,4096,_e)],r.deflateInit=function(U,ne){return ae(U,ne,b,15,8,0)},r.deflateInit2=ae,r.deflateReset=j,r.deflateResetKeep=Le,r.deflateSetHeader=function(U,ne){return U&&U.state?U.state.wrap!==2?_:(U.state.gzhead=ne,g):_},r.deflate=function(U,ne){var ee,q,W,Q;if(!U||!U.state||5<ne||ne<0)return U?M(U,_):_;if(q=U.state,!U.output||!U.input&&U.avail_in!==0||q.status===666&&ne!==f)return M(U,U.avail_out===0?-5:_);if(q.strm=U,ee=q.last_flush,q.last_flush=ne,q.status===R)if(q.wrap===2)U.adler=0,G(q,31),G(q,139),G(q,8),q.gzhead?(G(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),G(q,255&q.gzhead.time),G(q,q.gzhead.time>>8&255),G(q,q.gzhead.time>>16&255),G(q,q.gzhead.time>>24&255),G(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),G(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(G(q,255&q.gzhead.extra.length),G(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(U.adler=c(U.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(G(q,0),G(q,0),G(q,0),G(q,0),G(q,0),G(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),G(q,3),q.status=V);else{var oe=b+(q.w_bits-8<<4)<<8;oe|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(oe|=32),oe+=31-oe%31,q.status=V,ie(q,oe),q.strstart!==0&&(ie(q,U.adler>>>16),ie(q,65535&U.adler)),U.adler=1}if(q.status===69)if(q.gzhead.extra){for(W=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>W&&(U.adler=c(U.adler,q.pending_buf,q.pending-W,W)),H(U),W=q.pending,q.pending!==q.pending_buf_size));)G(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>W&&(U.adler=c(U.adler,q.pending_buf,q.pending-W,W)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){W=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>W&&(U.adler=c(U.adler,q.pending_buf,q.pending-W,W)),H(U),W=q.pending,q.pending===q.pending_buf_size)){Q=1;break}Q=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,G(q,Q)}while(Q!==0);q.gzhead.hcrc&&q.pending>W&&(U.adler=c(U.adler,q.pending_buf,q.pending-W,W)),Q===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){W=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>W&&(U.adler=c(U.adler,q.pending_buf,q.pending-W,W)),H(U),W=q.pending,q.pending===q.pending_buf_size)){Q=1;break}Q=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,G(q,Q)}while(Q!==0);q.gzhead.hcrc&&q.pending>W&&(U.adler=c(U.adler,q.pending_buf,q.pending-W,W)),Q===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&H(U),q.pending+2<=q.pending_buf_size&&(G(q,255&U.adler),G(q,U.adler>>8&255),U.adler=0,q.status=V)):q.status=V),q.pending!==0){if(H(U),U.avail_out===0)return q.last_flush=-1,g}else if(U.avail_in===0&&L(ne)<=L(ee)&&ne!==f)return M(U,-5);if(q.status===666&&U.avail_in!==0)return M(U,-5);if(U.avail_in!==0||q.lookahead!==0||ne!==h&&q.status!==666){var le=q.strategy===2?function(te,$){for(var J;;){if(te.lookahead===0&&(ce(te),te.lookahead===0)){if($===h)return S;break}if(te.match_length=0,J=a._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,J&&(z(te,!1),te.strm.avail_out===0))return S}return te.insert=0,$===f?(z(te,!0),te.strm.avail_out===0?N:B):te.last_lit&&(z(te,!1),te.strm.avail_out===0)?S:K}(q,ne):q.strategy===3?function(te,$){for(var J,Z,se,pe,xe=te.window;;){if(te.lookahead<=O){if(ce(te),te.lookahead<=O&&$===h)return S;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=P&&0<te.strstart&&(Z=xe[se=te.strstart-1])===xe[++se]&&Z===xe[++se]&&Z===xe[++se]){pe=te.strstart+O;do;while(Z===xe[++se]&&Z===xe[++se]&&Z===xe[++se]&&Z===xe[++se]&&Z===xe[++se]&&Z===xe[++se]&&Z===xe[++se]&&Z===xe[++se]&&se<pe);te.match_length=O-(pe-se),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=P?(J=a._tr_tally(te,1,te.match_length-P),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(J=a._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),J&&(z(te,!1),te.strm.avail_out===0))return S}return te.insert=0,$===f?(z(te,!0),te.strm.avail_out===0?N:B):te.last_lit&&(z(te,!1),te.strm.avail_out===0)?S:K}(q,ne):s[q.level].func(q,ne);if(le!==N&&le!==B||(q.status=666),le===S||le===N)return U.avail_out===0&&(q.last_flush=-1),g;if(le===K&&(ne===1?a._tr_align(q):ne!==5&&(a._tr_stored_block(q,0,0,!1),ne===3&&(X(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),H(U),U.avail_out===0))return q.last_flush=-1,g}return ne!==f?g:q.wrap<=0?1:(q.wrap===2?(G(q,255&U.adler),G(q,U.adler>>8&255),G(q,U.adler>>16&255),G(q,U.adler>>24&255),G(q,255&U.total_in),G(q,U.total_in>>8&255),G(q,U.total_in>>16&255),G(q,U.total_in>>24&255)):(ie(q,U.adler>>>16),ie(q,65535&U.adler)),H(U),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?g:1)},r.deflateEnd=function(U){var ne;return U&&U.state?(ne=U.state.status)!==R&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==V&&ne!==666?M(U,_):(U.state=null,ne===V?M(U,-3):g):_},r.deflateSetDictionary=function(U,ne){var ee,q,W,Q,oe,le,te,$,J=ne.length;if(!U||!U.state||(Q=(ee=U.state).wrap)===2||Q===1&&ee.status!==R||ee.lookahead)return _;for(Q===1&&(U.adler=l(U.adler,ne,J,0)),ee.wrap=0,J>=ee.w_size&&(Q===0&&(X(ee.head),ee.strstart=0,ee.block_start=0,ee.insert=0),$=new o.Buf8(ee.w_size),o.arraySet($,ne,J-ee.w_size,ee.w_size,0),ne=$,J=ee.w_size),oe=U.avail_in,le=U.next_in,te=U.input,U.avail_in=J,U.next_in=0,U.input=ne,ce(ee);ee.lookahead>=P;){for(q=ee.strstart,W=ee.lookahead-(P-1);ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[q+P-1])&ee.hash_mask,ee.prev[q&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=q,q++,--W;);ee.strstart=q,ee.lookahead=P-1,ce(ee)}return ee.strstart+=ee.lookahead,ee.block_start=ee.strstart,ee.insert=ee.lookahead,ee.lookahead=0,ee.match_length=ee.prev_length=P-1,ee.match_available=0,U.next_in=le,U.input=te,U.avail_in=oe,ee.wrap=Q,g},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,r){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,i,r){i.exports=function(s,o){var a,l,c,u,h,f,g,_,m,D,y,b,w,x,T,E,C,F,P,O,Y,R,V,S,K;a=s.state,l=s.next_in,S=s.input,c=l+(s.avail_in-5),u=s.next_out,K=s.output,h=u-(o-s.avail_out),f=u+(s.avail_out-257),g=a.dmax,_=a.wsize,m=a.whave,D=a.wnext,y=a.window,b=a.hold,w=a.bits,x=a.lencode,T=a.distcode,E=(1<<a.lenbits)-1,C=(1<<a.distbits)-1;e:do{w<15&&(b+=S[l++]<<w,w+=8,b+=S[l++]<<w,w+=8),F=x[b&E];t:for(;;){if(b>>>=P=F>>>24,w-=P,(P=F>>>16&255)===0)K[u++]=65535&F;else{if(!(16&P)){if(!(64&P)){F=x[(65535&F)+(b&(1<<P)-1)];continue t}if(32&P){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}O=65535&F,(P&=15)&&(w<P&&(b+=S[l++]<<w,w+=8),O+=b&(1<<P)-1,b>>>=P,w-=P),w<15&&(b+=S[l++]<<w,w+=8,b+=S[l++]<<w,w+=8),F=T[b&C];n:for(;;){if(b>>>=P=F>>>24,w-=P,!(16&(P=F>>>16&255))){if(!(64&P)){F=T[(65535&F)+(b&(1<<P)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(Y=65535&F,w<(P&=15)&&(b+=S[l++]<<w,(w+=8)<P&&(b+=S[l++]<<w,w+=8)),g<(Y+=b&(1<<P)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(b>>>=P,w-=P,(P=u-h)<Y){if(m<(P=Y-P)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(V=y,(R=0)===D){if(R+=_-P,P<O){for(O-=P;K[u++]=y[R++],--P;);R=u-Y,V=K}}else if(D<P){if(R+=_+D-P,(P-=D)<O){for(O-=P;K[u++]=y[R++],--P;);if(R=0,D<O){for(O-=P=D;K[u++]=y[R++],--P;);R=u-Y,V=K}}}else if(R+=D-P,P<O){for(O-=P;K[u++]=y[R++],--P;);R=u-Y,V=K}for(;2<O;)K[u++]=V[R++],K[u++]=V[R++],K[u++]=V[R++],O-=3;O&&(K[u++]=V[R++],1<O&&(K[u++]=V[R++]))}else{for(R=u-Y;K[u++]=K[R++],K[u++]=K[R++],K[u++]=K[R++],2<(O-=3););O&&(K[u++]=K[R++],1<O&&(K[u++]=K[R++]))}break}}break}}while(l<c&&u<f);l-=O=w>>3,b&=(1<<(w-=O<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<f?f-u+257:257-(u-f),a.hold=b,a.bits=w}},{}],49:[function(t,i,r){var s=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),u=1,h=2,f=0,g=-2,_=1,m=852,D=592;function y(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(R){var V;return R&&R.state?(V=R.state,R.total_in=R.total_out=V.total=0,R.msg="",V.wrap&&(R.adler=1&V.wrap),V.mode=_,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new s.Buf32(m),V.distcode=V.distdyn=new s.Buf32(D),V.sane=1,V.back=-1,f):g}function x(R){var V;return R&&R.state?((V=R.state).wsize=0,V.whave=0,V.wnext=0,w(R)):g}function T(R,V){var S,K;return R&&R.state?(K=R.state,V<0?(S=0,V=-V):(S=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?g:(K.window!==null&&K.wbits!==V&&(K.window=null),K.wrap=S,K.wbits=V,x(R))):g}function E(R,V){var S,K;return R?(K=new b,(R.state=K).window=null,(S=T(R,V))!==f&&(R.state=null),S):g}var C,F,P=!0;function O(R){if(P){var V;for(C=new s.Buf32(512),F=new s.Buf32(32),V=0;V<144;)R.lens[V++]=8;for(;V<256;)R.lens[V++]=9;for(;V<280;)R.lens[V++]=7;for(;V<288;)R.lens[V++]=8;for(c(u,R.lens,0,288,C,0,R.work,{bits:9}),V=0;V<32;)R.lens[V++]=5;c(h,R.lens,0,32,F,0,R.work,{bits:5}),P=!1}R.lencode=C,R.lenbits=9,R.distcode=F,R.distbits=5}function Y(R,V,S,K){var N,B=R.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new s.Buf8(B.wsize)),K>=B.wsize?(s.arraySet(B.window,V,S-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(K<(N=B.wsize-B.wnext)&&(N=K),s.arraySet(B.window,V,S-K,N,B.wnext),(K-=N)?(s.arraySet(B.window,V,S-K,K,0),B.wnext=K,B.whave=B.wsize):(B.wnext+=N,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=N))),0}r.inflateReset=x,r.inflateReset2=T,r.inflateResetKeep=w,r.inflateInit=function(R){return E(R,15)},r.inflateInit2=E,r.inflate=function(R,V){var S,K,N,B,M,L,X,H,z,G,ie,re,ce,de,_e,Te,Me,Le,j,ae,U,ne,ee,q,W=0,Q=new s.Buf8(4),oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return g;(S=R.state).mode===12&&(S.mode=13),M=R.next_out,N=R.output,X=R.avail_out,B=R.next_in,K=R.input,L=R.avail_in,H=S.hold,z=S.bits,G=L,ie=X,ne=f;e:for(;;)switch(S.mode){case _:if(S.wrap===0){S.mode=13;break}for(;z<16;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}if(2&S.wrap&&H===35615){Q[S.check=0]=255&H,Q[1]=H>>>8&255,S.check=a(S.check,Q,2,0),z=H=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&H)<<8)+(H>>8))%31){R.msg="incorrect header check",S.mode=30;break}if((15&H)!=8){R.msg="unknown compression method",S.mode=30;break}if(z-=4,U=8+(15&(H>>>=4)),S.wbits===0)S.wbits=U;else if(U>S.wbits){R.msg="invalid window size",S.mode=30;break}S.dmax=1<<U,R.adler=S.check=1,S.mode=512&H?10:12,z=H=0;break;case 2:for(;z<16;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}if(S.flags=H,(255&S.flags)!=8){R.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){R.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=H>>8&1),512&S.flags&&(Q[0]=255&H,Q[1]=H>>>8&255,S.check=a(S.check,Q,2,0)),z=H=0,S.mode=3;case 3:for(;z<32;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}S.head&&(S.head.time=H),512&S.flags&&(Q[0]=255&H,Q[1]=H>>>8&255,Q[2]=H>>>16&255,Q[3]=H>>>24&255,S.check=a(S.check,Q,4,0)),z=H=0,S.mode=4;case 4:for(;z<16;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}S.head&&(S.head.xflags=255&H,S.head.os=H>>8),512&S.flags&&(Q[0]=255&H,Q[1]=H>>>8&255,S.check=a(S.check,Q,2,0)),z=H=0,S.mode=5;case 5:if(1024&S.flags){for(;z<16;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}S.length=H,S.head&&(S.head.extra_len=H),512&S.flags&&(Q[0]=255&H,Q[1]=H>>>8&255,S.check=a(S.check,Q,2,0)),z=H=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(L<(re=S.length)&&(re=L),re&&(S.head&&(U=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,K,B,re,U)),512&S.flags&&(S.check=a(S.check,K,re,B)),L-=re,B+=re,S.length-=re),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(L===0)break e;for(re=0;U=K[B+re++],S.head&&U&&S.length<65536&&(S.head.name+=String.fromCharCode(U)),U&&re<L;);if(512&S.flags&&(S.check=a(S.check,K,re,B)),L-=re,B+=re,U)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(L===0)break e;for(re=0;U=K[B+re++],S.head&&U&&S.length<65536&&(S.head.comment+=String.fromCharCode(U)),U&&re<L;);if(512&S.flags&&(S.check=a(S.check,K,re,B)),L-=re,B+=re,U)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;z<16;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}if(H!==(65535&S.check)){R.msg="header crc mismatch",S.mode=30;break}z=H=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),R.adler=S.check=0,S.mode=12;break;case 10:for(;z<32;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}R.adler=S.check=y(H),z=H=0,S.mode=11;case 11:if(S.havedict===0)return R.next_out=M,R.avail_out=X,R.next_in=B,R.avail_in=L,S.hold=H,S.bits=z,2;R.adler=S.check=1,S.mode=12;case 12:if(V===5||V===6)break e;case 13:if(S.last){H>>>=7&z,z-=7&z,S.mode=27;break}for(;z<3;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}switch(S.last=1&H,z-=1,3&(H>>>=1)){case 0:S.mode=14;break;case 1:if(O(S),S.mode=20,V!==6)break;H>>>=2,z-=2;break e;case 2:S.mode=17;break;case 3:R.msg="invalid block type",S.mode=30}H>>>=2,z-=2;break;case 14:for(H>>>=7&z,z-=7&z;z<32;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}if((65535&H)!=(H>>>16^65535)){R.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&H,z=H=0,S.mode=15,V===6)break e;case 15:S.mode=16;case 16:if(re=S.length){if(L<re&&(re=L),X<re&&(re=X),re===0)break e;s.arraySet(N,K,B,re,M),L-=re,B+=re,X-=re,M+=re,S.length-=re;break}S.mode=12;break;case 17:for(;z<14;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}if(S.nlen=257+(31&H),H>>>=5,z-=5,S.ndist=1+(31&H),H>>>=5,z-=5,S.ncode=4+(15&H),H>>>=4,z-=4,286<S.nlen||30<S.ndist){R.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;z<3;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}S.lens[oe[S.have++]]=7&H,H>>>=3,z-=3}for(;S.have<19;)S.lens[oe[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,ee={bits:S.lenbits},ne=c(0,S.lens,0,19,S.lencode,0,S.work,ee),S.lenbits=ee.bits,ne){R.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;Te=(W=S.lencode[H&(1<<S.lenbits)-1])>>>16&255,Me=65535&W,!((_e=W>>>24)<=z);){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}if(Me<16)H>>>=_e,z-=_e,S.lens[S.have++]=Me;else{if(Me===16){for(q=_e+2;z<q;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}if(H>>>=_e,z-=_e,S.have===0){R.msg="invalid bit length repeat",S.mode=30;break}U=S.lens[S.have-1],re=3+(3&H),H>>>=2,z-=2}else if(Me===17){for(q=_e+3;z<q;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}z-=_e,U=0,re=3+(7&(H>>>=_e)),H>>>=3,z-=3}else{for(q=_e+7;z<q;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}z-=_e,U=0,re=11+(127&(H>>>=_e)),H>>>=7,z-=7}if(S.have+re>S.nlen+S.ndist){R.msg="invalid bit length repeat",S.mode=30;break}for(;re--;)S.lens[S.have++]=U}}if(S.mode===30)break;if(S.lens[256]===0){R.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,ee={bits:S.lenbits},ne=c(u,S.lens,0,S.nlen,S.lencode,0,S.work,ee),S.lenbits=ee.bits,ne){R.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,ee={bits:S.distbits},ne=c(h,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ee),S.distbits=ee.bits,ne){R.msg="invalid distances set",S.mode=30;break}if(S.mode=20,V===6)break e;case 20:S.mode=21;case 21:if(6<=L&&258<=X){R.next_out=M,R.avail_out=X,R.next_in=B,R.avail_in=L,S.hold=H,S.bits=z,l(R,ie),M=R.next_out,N=R.output,X=R.avail_out,B=R.next_in,K=R.input,L=R.avail_in,H=S.hold,z=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;Te=(W=S.lencode[H&(1<<S.lenbits)-1])>>>16&255,Me=65535&W,!((_e=W>>>24)<=z);){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}if(Te&&!(240&Te)){for(Le=_e,j=Te,ae=Me;Te=(W=S.lencode[ae+((H&(1<<Le+j)-1)>>Le)])>>>16&255,Me=65535&W,!(Le+(_e=W>>>24)<=z);){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}H>>>=Le,z-=Le,S.back+=Le}if(H>>>=_e,z-=_e,S.back+=_e,S.length=Me,Te===0){S.mode=26;break}if(32&Te){S.back=-1,S.mode=12;break}if(64&Te){R.msg="invalid literal/length code",S.mode=30;break}S.extra=15&Te,S.mode=22;case 22:if(S.extra){for(q=S.extra;z<q;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}S.length+=H&(1<<S.extra)-1,H>>>=S.extra,z-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;Te=(W=S.distcode[H&(1<<S.distbits)-1])>>>16&255,Me=65535&W,!((_e=W>>>24)<=z);){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}if(!(240&Te)){for(Le=_e,j=Te,ae=Me;Te=(W=S.distcode[ae+((H&(1<<Le+j)-1)>>Le)])>>>16&255,Me=65535&W,!(Le+(_e=W>>>24)<=z);){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}H>>>=Le,z-=Le,S.back+=Le}if(H>>>=_e,z-=_e,S.back+=_e,64&Te){R.msg="invalid distance code",S.mode=30;break}S.offset=Me,S.extra=15&Te,S.mode=24;case 24:if(S.extra){for(q=S.extra;z<q;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}S.offset+=H&(1<<S.extra)-1,H>>>=S.extra,z-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){R.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(X===0)break e;if(re=ie-X,S.offset>re){if((re=S.offset-re)>S.whave&&S.sane){R.msg="invalid distance too far back",S.mode=30;break}ce=re>S.wnext?(re-=S.wnext,S.wsize-re):S.wnext-re,re>S.length&&(re=S.length),de=S.window}else de=N,ce=M-S.offset,re=S.length;for(X<re&&(re=X),X-=re,S.length-=re;N[M++]=de[ce++],--re;);S.length===0&&(S.mode=21);break;case 26:if(X===0)break e;N[M++]=S.length,X--,S.mode=21;break;case 27:if(S.wrap){for(;z<32;){if(L===0)break e;L--,H|=K[B++]<<z,z+=8}if(ie-=X,R.total_out+=ie,S.total+=ie,ie&&(R.adler=S.check=S.flags?a(S.check,N,ie,M-ie):o(S.check,N,ie,M-ie)),ie=X,(S.flags?H:y(H))!==S.check){R.msg="incorrect data check",S.mode=30;break}z=H=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;z<32;){if(L===0)break e;L--,H+=K[B++]<<z,z+=8}if(H!==(4294967295&S.total)){R.msg="incorrect length check",S.mode=30;break}z=H=0}S.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return g}return R.next_out=M,R.avail_out=X,R.next_in=B,R.avail_in=L,S.hold=H,S.bits=z,(S.wsize||ie!==R.avail_out&&S.mode<30&&(S.mode<27||V!==4))&&Y(R,R.output,R.next_out,ie-R.avail_out)?(S.mode=31,-4):(G-=R.avail_in,ie-=R.avail_out,R.total_in+=G,R.total_out+=ie,S.total+=ie,S.wrap&&ie&&(R.adler=S.check=S.flags?a(S.check,N,ie,R.next_out-ie):o(S.check,N,ie,R.next_out-ie)),R.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(G==0&&ie===0||V===4)&&ne===f&&(ne=-5),ne)},r.inflateEnd=function(R){if(!R||!R.state)return g;var V=R.state;return V.window&&(V.window=null),R.state=null,f},r.inflateGetHeader=function(R,V){var S;return R&&R.state&&2&(S=R.state).wrap?((S.head=V).done=!1,f):g},r.inflateSetDictionary=function(R,V){var S,K=V.length;return R&&R.state?(S=R.state).wrap!==0&&S.mode!==11?g:S.mode===11&&o(1,V,K,0)!==S.check?-3:Y(R,V,K,K)?(S.mode=31,-4):(S.havedict=1,f):g},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,r){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(u,h,f,g,_,m,D,y){var b,w,x,T,E,C,F,P,O,Y=y.bits,R=0,V=0,S=0,K=0,N=0,B=0,M=0,L=0,X=0,H=0,z=null,G=0,ie=new s.Buf16(16),re=new s.Buf16(16),ce=null,de=0;for(R=0;R<=15;R++)ie[R]=0;for(V=0;V<g;V++)ie[h[f+V]]++;for(N=Y,K=15;1<=K&&ie[K]===0;K--);if(K<N&&(N=K),K===0)return _[m++]=20971520,_[m++]=20971520,y.bits=1,0;for(S=1;S<K&&ie[S]===0;S++);for(N<S&&(N=S),R=L=1;R<=15;R++)if(L<<=1,(L-=ie[R])<0)return-1;if(0<L&&(u===0||K!==1))return-1;for(re[1]=0,R=1;R<15;R++)re[R+1]=re[R]+ie[R];for(V=0;V<g;V++)h[f+V]!==0&&(D[re[h[f+V]]++]=V);if(C=u===0?(z=ce=D,19):u===1?(z=o,G-=257,ce=a,de-=257,256):(z=l,ce=c,-1),R=S,E=m,M=V=H=0,x=-1,T=(X=1<<(B=N))-1,u===1&&852<X||u===2&&592<X)return 1;for(;;){for(F=R-M,O=D[V]<C?(P=0,D[V]):D[V]>C?(P=ce[de+D[V]],z[G+D[V]]):(P=96,0),b=1<<R-M,S=w=1<<B;_[E+(H>>M)+(w-=b)]=F<<24|P<<16|O|0,w!==0;);for(b=1<<R-1;H&b;)b>>=1;if(b!==0?(H&=b-1,H+=b):H=0,V++,--ie[R]==0){if(R===K)break;R=h[f+D[V]]}if(N<R&&(H&T)!==x){for(M===0&&(M=N),E+=S,L=1<<(B=R-M);B+M<K&&!((L-=ie[B+M])<=0);)B++,L<<=1;if(X+=1<<B,u===1&&852<X||u===2&&592<X)return 1;_[x=H&T]=N<<24|B<<16|E-m|0}}return H!==0&&(_[E+H]=R-M<<24|64<<16|0),y.bits=N,0}},{"../utils/common":41}],51:[function(t,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,r){var s=t("../utils/common"),o=0,a=1;function l(W){for(var Q=W.length;0<=--Q;)W[Q]=0}var c=0,u=29,h=256,f=h+1+u,g=30,_=19,m=2*f+1,D=15,y=16,b=7,w=256,x=16,T=17,E=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(f+2));l(Y);var R=new Array(2*g);l(R);var V=new Array(512);l(V);var S=new Array(256);l(S);var K=new Array(u);l(K);var N,B,M,L=new Array(g);function X(W,Q,oe,le,te){this.static_tree=W,this.extra_bits=Q,this.extra_base=oe,this.elems=le,this.max_length=te,this.has_stree=W&&W.length}function H(W,Q){this.dyn_tree=W,this.max_code=0,this.stat_desc=Q}function z(W){return W<256?V[W]:V[256+(W>>>7)]}function G(W,Q){W.pending_buf[W.pending++]=255&Q,W.pending_buf[W.pending++]=Q>>>8&255}function ie(W,Q,oe){W.bi_valid>y-oe?(W.bi_buf|=Q<<W.bi_valid&65535,G(W,W.bi_buf),W.bi_buf=Q>>y-W.bi_valid,W.bi_valid+=oe-y):(W.bi_buf|=Q<<W.bi_valid&65535,W.bi_valid+=oe)}function re(W,Q,oe){ie(W,oe[2*Q],oe[2*Q+1])}function ce(W,Q){for(var oe=0;oe|=1&W,W>>>=1,oe<<=1,0<--Q;);return oe>>>1}function de(W,Q,oe){var le,te,$=new Array(D+1),J=0;for(le=1;le<=D;le++)$[le]=J=J+oe[le-1]<<1;for(te=0;te<=Q;te++){var Z=W[2*te+1];Z!==0&&(W[2*te]=ce($[Z]++,Z))}}function _e(W){var Q;for(Q=0;Q<f;Q++)W.dyn_ltree[2*Q]=0;for(Q=0;Q<g;Q++)W.dyn_dtree[2*Q]=0;for(Q=0;Q<_;Q++)W.bl_tree[2*Q]=0;W.dyn_ltree[2*w]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function Te(W){8<W.bi_valid?G(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function Me(W,Q,oe,le){var te=2*Q,$=2*oe;return W[te]<W[$]||W[te]===W[$]&&le[Q]<=le[oe]}function Le(W,Q,oe){for(var le=W.heap[oe],te=oe<<1;te<=W.heap_len&&(te<W.heap_len&&Me(Q,W.heap[te+1],W.heap[te],W.depth)&&te++,!Me(Q,le,W.heap[te],W.depth));)W.heap[oe]=W.heap[te],oe=te,te<<=1;W.heap[oe]=le}function j(W,Q,oe){var le,te,$,J,Z=0;if(W.last_lit!==0)for(;le=W.pending_buf[W.d_buf+2*Z]<<8|W.pending_buf[W.d_buf+2*Z+1],te=W.pending_buf[W.l_buf+Z],Z++,le===0?re(W,te,Q):(re(W,($=S[te])+h+1,Q),(J=C[$])!==0&&ie(W,te-=K[$],J),re(W,$=z(--le),oe),(J=F[$])!==0&&ie(W,le-=L[$],J)),Z<W.last_lit;);re(W,w,Q)}function ae(W,Q){var oe,le,te,$=Q.dyn_tree,J=Q.stat_desc.static_tree,Z=Q.stat_desc.has_stree,se=Q.stat_desc.elems,pe=-1;for(W.heap_len=0,W.heap_max=m,oe=0;oe<se;oe++)$[2*oe]!==0?(W.heap[++W.heap_len]=pe=oe,W.depth[oe]=0):$[2*oe+1]=0;for(;W.heap_len<2;)$[2*(te=W.heap[++W.heap_len]=pe<2?++pe:0)]=1,W.depth[te]=0,W.opt_len--,Z&&(W.static_len-=J[2*te+1]);for(Q.max_code=pe,oe=W.heap_len>>1;1<=oe;oe--)Le(W,$,oe);for(te=se;oe=W.heap[1],W.heap[1]=W.heap[W.heap_len--],Le(W,$,1),le=W.heap[1],W.heap[--W.heap_max]=oe,W.heap[--W.heap_max]=le,$[2*te]=$[2*oe]+$[2*le],W.depth[te]=(W.depth[oe]>=W.depth[le]?W.depth[oe]:W.depth[le])+1,$[2*oe+1]=$[2*le+1]=te,W.heap[1]=te++,Le(W,$,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],function(xe,Ne){var Ae,qe,gt,Qe,mi,Hf,Xr=Ne.dyn_tree,TA=Ne.max_code,h5=Ne.stat_desc.static_tree,f5=Ne.stat_desc.has_stree,p5=Ne.stat_desc.extra_bits,EA=Ne.stat_desc.extra_base,qf=Ne.stat_desc.max_length,Ly=0;for(Qe=0;Qe<=D;Qe++)xe.bl_count[Qe]=0;for(Xr[2*xe.heap[xe.heap_max]+1]=0,Ae=xe.heap_max+1;Ae<m;Ae++)qf<(Qe=Xr[2*Xr[2*(qe=xe.heap[Ae])+1]+1]+1)&&(Qe=qf,Ly++),Xr[2*qe+1]=Qe,TA<qe||(xe.bl_count[Qe]++,mi=0,EA<=qe&&(mi=p5[qe-EA]),Hf=Xr[2*qe],xe.opt_len+=Hf*(Qe+mi),f5&&(xe.static_len+=Hf*(h5[2*qe+1]+mi)));if(Ly!==0){do{for(Qe=qf-1;xe.bl_count[Qe]===0;)Qe--;xe.bl_count[Qe]--,xe.bl_count[Qe+1]+=2,xe.bl_count[qf]--,Ly-=2}while(0<Ly);for(Qe=qf;Qe!==0;Qe--)for(qe=xe.bl_count[Qe];qe!==0;)TA<(gt=xe.heap[--Ae])||(Xr[2*gt+1]!==Qe&&(xe.opt_len+=(Qe-Xr[2*gt+1])*Xr[2*gt],Xr[2*gt+1]=Qe),qe--)}}(W,Q),de($,pe,W.bl_count)}function U(W,Q,oe){var le,te,$=-1,J=Q[1],Z=0,se=7,pe=4;for(J===0&&(se=138,pe=3),Q[2*(oe+1)+1]=65535,le=0;le<=oe;le++)te=J,J=Q[2*(le+1)+1],++Z<se&&te===J||(Z<pe?W.bl_tree[2*te]+=Z:te!==0?(te!==$&&W.bl_tree[2*te]++,W.bl_tree[2*x]++):Z<=10?W.bl_tree[2*T]++:W.bl_tree[2*E]++,$=te,pe=(Z=0)===J?(se=138,3):te===J?(se=6,3):(se=7,4))}function ne(W,Q,oe){var le,te,$=-1,J=Q[1],Z=0,se=7,pe=4;for(J===0&&(se=138,pe=3),le=0;le<=oe;le++)if(te=J,J=Q[2*(le+1)+1],!(++Z<se&&te===J)){if(Z<pe)for(;re(W,te,W.bl_tree),--Z!=0;);else te!==0?(te!==$&&(re(W,te,W.bl_tree),Z--),re(W,x,W.bl_tree),ie(W,Z-3,2)):Z<=10?(re(W,T,W.bl_tree),ie(W,Z-3,3)):(re(W,E,W.bl_tree),ie(W,Z-11,7));$=te,pe=(Z=0)===J?(se=138,3):te===J?(se=6,3):(se=7,4)}}l(L);var ee=!1;function q(W,Q,oe,le){ie(W,(c<<1)+(le?1:0),3),function(te,$,J,Z){Te(te),G(te,J),G(te,~J),s.arraySet(te.pending_buf,te.window,$,J,te.pending),te.pending+=J}(W,Q,oe)}r._tr_init=function(W){ee||(function(){var Q,oe,le,te,$,J=new Array(D+1);for(te=le=0;te<u-1;te++)for(K[te]=le,Q=0;Q<1<<C[te];Q++)S[le++]=te;for(S[le-1]=te,te=$=0;te<16;te++)for(L[te]=$,Q=0;Q<1<<F[te];Q++)V[$++]=te;for($>>=7;te<g;te++)for(L[te]=$<<7,Q=0;Q<1<<F[te]-7;Q++)V[256+$++]=te;for(oe=0;oe<=D;oe++)J[oe]=0;for(Q=0;Q<=143;)Y[2*Q+1]=8,Q++,J[8]++;for(;Q<=255;)Y[2*Q+1]=9,Q++,J[9]++;for(;Q<=279;)Y[2*Q+1]=7,Q++,J[7]++;for(;Q<=287;)Y[2*Q+1]=8,Q++,J[8]++;for(de(Y,f+1,J),Q=0;Q<g;Q++)R[2*Q+1]=5,R[2*Q]=ce(Q,5);N=new X(Y,C,h+1,f,D),B=new X(R,F,0,g,D),M=new X(new Array(0),P,0,_,b)}(),ee=!0),W.l_desc=new H(W.dyn_ltree,N),W.d_desc=new H(W.dyn_dtree,B),W.bl_desc=new H(W.bl_tree,M),W.bi_buf=0,W.bi_valid=0,_e(W)},r._tr_stored_block=q,r._tr_flush_block=function(W,Q,oe,le){var te,$,J=0;0<W.level?(W.strm.data_type===2&&(W.strm.data_type=function(Z){var se,pe=4093624447;for(se=0;se<=31;se++,pe>>>=1)if(1&pe&&Z.dyn_ltree[2*se]!==0)return o;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return a;for(se=32;se<h;se++)if(Z.dyn_ltree[2*se]!==0)return a;return o}(W)),ae(W,W.l_desc),ae(W,W.d_desc),J=function(Z){var se;for(U(Z,Z.dyn_ltree,Z.l_desc.max_code),U(Z,Z.dyn_dtree,Z.d_desc.max_code),ae(Z,Z.bl_desc),se=_-1;3<=se&&Z.bl_tree[2*O[se]+1]===0;se--);return Z.opt_len+=3*(se+1)+5+5+4,se}(W),te=W.opt_len+3+7>>>3,($=W.static_len+3+7>>>3)<=te&&(te=$)):te=$=oe+5,oe+4<=te&&Q!==-1?q(W,Q,oe,le):W.strategy===4||$===te?(ie(W,2+(le?1:0),3),j(W,Y,R)):(ie(W,4+(le?1:0),3),function(Z,se,pe,xe){var Ne;for(ie(Z,se-257,5),ie(Z,pe-1,5),ie(Z,xe-4,4),Ne=0;Ne<xe;Ne++)ie(Z,Z.bl_tree[2*O[Ne]+1],3);ne(Z,Z.dyn_ltree,se-1),ne(Z,Z.dyn_dtree,pe-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,J+1),j(W,W.dyn_ltree,W.dyn_dtree)),_e(W),le&&Te(W)},r._tr_tally=function(W,Q,oe){return W.pending_buf[W.d_buf+2*W.last_lit]=Q>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&Q,W.pending_buf[W.l_buf+W.last_lit]=255&oe,W.last_lit++,Q===0?W.dyn_ltree[2*oe]++:(W.matches++,Q--,W.dyn_ltree[2*(S[oe]+h+1)]++,W.dyn_dtree[2*z(Q)]++),W.last_lit===W.lit_bufsize-1},r._tr_align=function(W){ie(W,2,3),re(W,w,Y),function(Q){Q.bi_valid===16?(G(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=255&Q.bi_buf,Q.bi_buf>>=8,Q.bi_valid-=8)}(W)}},{"../utils/common":41}],53:[function(t,i,r){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,i,r){(function(s){(function(o,a){if(!o.setImmediate){var l,c,u,h,f=1,g={},_=!1,m=o.document,D=Object.getPrototypeOf&&Object.getPrototypeOf(o);D=D&&D.setTimeout?D:o,l={}.toString.call(o.process)==="[object process]"?function(x){process.nextTick(function(){b(x)})}:function(){if(o.postMessage&&!o.importScripts){var x=!0,T=o.onmessage;return o.onmessage=function(){x=!1},o.postMessage("","*"),o.onmessage=T,x}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(x){o.postMessage(h+x,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(x){b(x.data)},function(x){u.port2.postMessage(x)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(x){var T=m.createElement("script");T.onreadystatechange=function(){b(x),T.onreadystatechange=null,c.removeChild(T),T=null},c.appendChild(T)}):function(x){setTimeout(b,0,x)},D.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var T=new Array(arguments.length-1),E=0;E<T.length;E++)T[E]=arguments[E+1];var C={callback:x,args:T};return g[f]=C,l(f),f++},D.clearImmediate=y}function y(x){delete g[x]}function b(x){if(_)setTimeout(b,0,x);else{var T=g[x];if(T){_=!0;try{(function(E){var C=E.callback,F=E.args;switch(F.length){case 0:C();break;case 1:C(F[0]);break;case 2:C(F[0],F[1]);break;case 3:C(F[0],F[1],F[2]);break;default:C.apply(a,F)}})(T)}finally{y(x),_=!1}}}}function w(x){x.source===o&&typeof x.data=="string"&&x.data.indexOf(h)===0&&b(+x.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(WN);var I7=WN.exports,k7=bb,R7=I7;Ry.openArrayBuffer=F7;Ry.splitPath=P7;Ry.joinPath=M7;function F7(n){return R7.loadAsync(n).then(function(e){function t(o){return e.file(o)!==null}function i(o,a){return e.file(o).async("uint8array").then(function(l){if(a==="base64")return k7.fromByteArray(l);if(a){var c=new TextDecoder(a);return c.decode(l)}else return l})}function r(o,a){e.file(o,a)}function s(){return e.generateAsync({type:"arraybuffer"})}return{exists:t,read:i,write:r,toArrayBuffer:s}})}function P7(n){var e=n.lastIndexOf("/");return e===-1?{dirname:"",basename:n}:{dirname:n.substring(0,e),basename:n.substring(e+1)}}function M7(){var n=Array.prototype.filter.call(arguments,function(t){return t}),e=[];return n.forEach(function(t){/^\//.test(t)?e=[t]:e.push(t)}),e.join("/")}var IE={},ba={},Nf={},_b=Xt;Nf.Element=Lf;Nf.element=function(n,e,t){return new Lf(n,e,t)};Nf.text=function(n){return{type:"text",value:n}};var VN=Nf.emptyElement={first:function(){return null},firstOrEmpty:function(){return VN},attributes:{},children:[]};function Lf(n,e,t){this.type="element",this.name=n,this.attributes=e||{},this.children=t||[]}Lf.prototype.first=function(n){return _b.find(this.children,function(e){return e.name===n})};Lf.prototype.firstOrEmpty=function(n){return this.first(n)||VN};Lf.prototype.getElementsByTagName=function(n){var e=_b.filter(this.children,function(t){return t.name===n});return HN(e)};Lf.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var N7={getElementsByTagName:function(n){return HN(_b.flatten(this.map(function(e){return e.getElementsByTagName(n)},!0)))}};function HN(n){return _b.extend(n,N7)}var qN={},kE={},Db={},lo={},_a={};function L7(n,e,t){if(t===void 0&&(t=Array.prototype),n&&typeof t.find=="function")return t.find.call(n,e);for(var i=0;i<n.length;i++)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];if(e.call(void 0,r,i,n))return r}}function RE(n,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(n):n}function B7(n,e){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}var zN=RE({HTML:"text/html",isHTML:function(n){return n===zN.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),GN=RE({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===GN.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});_a.assign=B7;_a.find=L7;_a.freeze=RE;_a.MIME_TYPE=zN;_a.NAMESPACE=GN;var $N=_a,io=$N.find,_g=$N.NAMESPACE;function O7(n){return n!==""}function W7(n){return n?n.split(/[\t\n\f\r ]+/).filter(O7):[]}function V7(n,e){return n.hasOwnProperty(e)||(n[e]=!0),n}function JS(n){if(!n)return[];var e=W7(n);return Object.keys(e.reduce(V7,{}))}function H7(n){return function(e){return n&&n.indexOf(e)!==-1}}function Fy(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}function Mi(n,e){var t=n.prototype;if(!(t instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,Fy(t,i),n.prototype=t=i}t.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),t.constructor=n)}var Ni={},Wr=Ni.ELEMENT_NODE=1,Af=Ni.ATTRIBUTE_NODE=2,l1=Ni.TEXT_NODE=3,XN=Ni.CDATA_SECTION_NODE=4,YN=Ni.ENTITY_REFERENCE_NODE=5,q7=Ni.ENTITY_NODE=6,KN=Ni.PROCESSING_INSTRUCTION_NODE=7,JN=Ni.COMMENT_NODE=8,QN=Ni.DOCUMENT_NODE=9,ZN=Ni.DOCUMENT_TYPE_NODE=10,fa=Ni.DOCUMENT_FRAGMENT_NODE=11,z7=Ni.NOTATION_NODE=12,jn={},bn={};jn.INDEX_SIZE_ERR=(bn[1]="Index size error",1);jn.DOMSTRING_SIZE_ERR=(bn[2]="DOMString size error",2);var Ci=jn.HIERARCHY_REQUEST_ERR=(bn[3]="Hierarchy request error",3);jn.WRONG_DOCUMENT_ERR=(bn[4]="Wrong document",4);jn.INVALID_CHARACTER_ERR=(bn[5]="Invalid character",5);jn.NO_DATA_ALLOWED_ERR=(bn[6]="No data allowed",6);jn.NO_MODIFICATION_ALLOWED_ERR=(bn[7]="No modification allowed",7);var jN=jn.NOT_FOUND_ERR=(bn[8]="Not found",8);jn.NOT_SUPPORTED_ERR=(bn[9]="Not supported",9);var QS=jn.INUSE_ATTRIBUTE_ERR=(bn[10]="Attribute in use",10);jn.INVALID_STATE_ERR=(bn[11]="Invalid state",11);jn.SYNTAX_ERR=(bn[12]="Syntax error",12);jn.INVALID_MODIFICATION_ERR=(bn[13]="Invalid modification",13);jn.NAMESPACE_ERR=(bn[14]="Invalid namespace",14);jn.INVALID_ACCESS_ERR=(bn[15]="Invalid access",15);function $t(n,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,bn[n]),this.message=bn[n],Error.captureStackTrace&&Error.captureStackTrace(this,$t);return t.code=n,e&&(this.message=this.message+": "+e),t}$t.prototype=Error.prototype;Fy(jn,$t);function ra(){}ra.prototype={length:0,item:function(n){return n>=0&&n<this.length?this[n]:null},toString:function(n,e){for(var t=[],i=0;i<this.length;i++)Ed(this[i],t,n,e);return t.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function Cf(n,e){this._node=n,this._refresh=e,FE(this)}function FE(n){var e=n._node._inc||n._node.ownerDocument._inc;if(n._inc!==e){var t=n._refresh(n._node);if(dL(n,"length",t.length),!n.$$length||t.length<n.$$length)for(var i=t.length;i in n;i++)Object.prototype.hasOwnProperty.call(n,i)&&delete n[i];Fy(t,n),n._inc=e}}Cf.prototype.item=function(n){return FE(this),this[n]||null};Mi(Cf,ra);function c1(){}function eL(n,e){for(var t=n.length;t--;)if(n[t]===e)return t}function ZS(n,e,t,i){if(i?e[eL(e,i)]=t:e[e.length++]=t,n){t.ownerElement=n;var r=n.ownerDocument;r&&(i&&iL(r,n,i),G7(r,n,t))}}function jS(n,e,t){var i=eL(e,t);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,n){var s=n.ownerDocument;s&&(iL(s,n,t),t.ownerElement=null)}}else throw new $t(jN,new Error(n.tagName+"@"+t))}c1.prototype={length:0,item:ra.prototype.item,getNamedItem:function(n){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==n)return t}},setNamedItem:function(n){var e=n.ownerElement;if(e&&e!=this._ownerElement)throw new $t(QS);var t=this.getNamedItem(n.nodeName);return ZS(this._ownerElement,this,n,t),t},setNamedItemNS:function(n){var e=n.ownerElement,t;if(e&&e!=this._ownerElement)throw new $t(QS);return t=this.getNamedItemNS(n.namespaceURI,n.localName),ZS(this._ownerElement,this,n,t),t},removeNamedItem:function(n){var e=this.getNamedItem(n);return jS(this._ownerElement,this,e),e},removeNamedItemNS:function(n,e){var t=this.getNamedItemNS(n,e);return jS(this._ownerElement,this,t),t},getNamedItemNS:function(n,e){for(var t=this.length;t--;){var i=this[t];if(i.localName==e&&i.namespaceURI==n)return i}return null}};function tL(){}tL.prototype={hasFeature:function(n,e){return!0},createDocument:function(n,e,t){var i=new Py;if(i.implementation=this,i.childNodes=new ra,i.doctype=t||null,t&&i.appendChild(t),e){var r=i.createElementNS(n,e);i.appendChild(r)}return i},createDocumentType:function(n,e,t){var i=new wb;return i.name=n,i.nodeName=n,i.publicId=e||"",i.systemId=t||"",i}};function rt(){}rt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,e){return u1(this,n,e)},replaceChild:function(n,e){u1(this,n,e,sL),e&&this.removeChild(e)},removeChild:function(n){return rL(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return Dx(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var e=n.nextSibling;e&&e.nodeType==l1&&n.nodeType==l1?(this.removeChild(e),n.appendData(e.data)):(n.normalize(),n=e)}},isSupported:function(n,e){return this.ownerDocument.implementation.hasFeature(n,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var e=this;e;){var t=e._nsMap;if(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&t[i]===n)return i}e=e.nodeType==Af?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(n){for(var e=this;e;){var t=e._nsMap;if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n];e=e.nodeType==Af?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(n){var e=this.lookupPrefix(n);return e==null}};function nL(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}Fy(Ni,rt);Fy(Ni,rt.prototype);function Dg(n,e){if(e(n))return!0;if(n=n.firstChild)do if(Dg(n,e))return!0;while(n=n.nextSibling)}function Py(){this.ownerDocument=this}function G7(n,e,t){n&&n._inc++;var i=t.namespaceURI;i===_g.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function iL(n,e,t,i){n&&n._inc++;var r=t.namespaceURI;r===_g.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function PE(n,e,t){if(n&&n._inc){n._inc++;var i=e.childNodes;if(t)i[i.length++]=t;else{for(var r=e.firstChild,s=0;r;)i[s++]=r,r=r.nextSibling;i.length=s,delete i[i.length]}}}function rL(n,e){var t=e.previousSibling,i=e.nextSibling;return t?t.nextSibling=i:n.firstChild=i,i?i.previousSibling=t:n.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,PE(n.ownerDocument,n),e}function $7(n){return n&&(n.nodeType===rt.DOCUMENT_NODE||n.nodeType===rt.DOCUMENT_FRAGMENT_NODE||n.nodeType===rt.ELEMENT_NODE)}function X7(n){return n&&(ro(n)||ME(n)||pa(n)||n.nodeType===rt.DOCUMENT_FRAGMENT_NODE||n.nodeType===rt.COMMENT_NODE||n.nodeType===rt.PROCESSING_INSTRUCTION_NODE)}function pa(n){return n&&n.nodeType===rt.DOCUMENT_TYPE_NODE}function ro(n){return n&&n.nodeType===rt.ELEMENT_NODE}function ME(n){return n&&n.nodeType===rt.TEXT_NODE}function eU(n,e){var t=n.childNodes||[];if(io(t,ro)||pa(e))return!1;var i=io(t,pa);return!(e&&i&&t.indexOf(i)>t.indexOf(e))}function tU(n,e){var t=n.childNodes||[];function i(s){return ro(s)&&s!==e}if(io(t,i))return!1;var r=io(t,pa);return!(e&&r&&t.indexOf(r)>t.indexOf(e))}function Y7(n,e,t){if(!$7(n))throw new $t(Ci,"Unexpected parent node type "+n.nodeType);if(t&&t.parentNode!==n)throw new $t(jN,"child not in parent");if(!X7(e)||pa(e)&&n.nodeType!==rt.DOCUMENT_NODE)throw new $t(Ci,"Unexpected node type "+e.nodeType+" for parent node type "+n.nodeType)}function K7(n,e,t){var i=n.childNodes||[],r=e.childNodes||[];if(e.nodeType===rt.DOCUMENT_FRAGMENT_NODE){var s=r.filter(ro);if(s.length>1||io(r,ME))throw new $t(Ci,"More than one element or text in fragment");if(s.length===1&&!eU(n,t))throw new $t(Ci,"Element in fragment can not be inserted before doctype")}if(ro(e)&&!eU(n,t))throw new $t(Ci,"Only one element can be added and only after doctype");if(pa(e)){if(io(i,pa))throw new $t(Ci,"Only one doctype is allowed");var o=io(i,ro);if(t&&i.indexOf(o)<i.indexOf(t))throw new $t(Ci,"Doctype can only be inserted before an element");if(!t&&o)throw new $t(Ci,"Doctype can not be appended since element is present")}}function sL(n,e,t){var i=n.childNodes||[],r=e.childNodes||[];if(e.nodeType===rt.DOCUMENT_FRAGMENT_NODE){var s=r.filter(ro);if(s.length>1||io(r,ME))throw new $t(Ci,"More than one element or text in fragment");if(s.length===1&&!tU(n,t))throw new $t(Ci,"Element in fragment can not be inserted before doctype")}if(ro(e)&&!tU(n,t))throw new $t(Ci,"Only one element can be added and only after doctype");if(pa(e)){if(io(i,function(l){return pa(l)&&l!==t}))throw new $t(Ci,"Only one doctype is allowed");var o=io(i,ro);if(t&&i.indexOf(o)<i.indexOf(t))throw new $t(Ci,"Doctype can only be inserted before an element")}}function u1(n,e,t,i){Y7(n,e,t),n.nodeType===rt.DOCUMENT_NODE&&(i||K7)(n,e,t);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===fa){var s=e.firstChild;if(s==null)return e;var o=e.lastChild}else s=o=e;var a=t?t.previousSibling:n.lastChild;s.previousSibling=a,o.nextSibling=t,a?a.nextSibling=s:n.firstChild=s,t==null?n.lastChild=o:t.previousSibling=o;do{s.parentNode=n;var l=n.ownerDocument||n;wg(s,l)}while(s!==o&&(s=s.nextSibling));return PE(n.ownerDocument||n,n),e.nodeType==fa&&(e.firstChild=e.lastChild=null),e}function wg(n,e){if(n.ownerDocument!==e){if(n.ownerDocument=e,n.nodeType===Wr&&n.attributes)for(var t=0;t<n.attributes.length;t++){var i=n.attributes.item(t);i&&(i.ownerDocument=e)}for(var r=n.firstChild;r;)wg(r,e),r=r.nextSibling}}function J7(n,e){e.parentNode&&e.parentNode.removeChild(e),e.parentNode=n,e.previousSibling=n.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,n.lastChild=e,PE(n.ownerDocument,n,e);var t=n.ownerDocument||n;return wg(e,t),e}Py.prototype={nodeName:"#document",nodeType:QN,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,e){if(n.nodeType==fa){for(var t=n.firstChild;t;){var i=t.nextSibling;this.insertBefore(t,e),t=i}return n}return u1(this,n,e),wg(n,this),this.documentElement===null&&n.nodeType===Wr&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),rL(this,n)},replaceChild:function(n,e){u1(this,n,e,sL),wg(n,this),e&&this.removeChild(e),ro(n)&&(this.documentElement=n)},importNode:function(n,e){return uL(this,n,e)},getElementById:function(n){var e=null;return Dg(this.documentElement,function(t){if(t.nodeType==Wr&&t.getAttribute("id")==n)return e=t,!0}),e},getElementsByClassName:function(n){var e=JS(n);return new Cf(this,function(t){var i=[];return e.length>0&&Dg(t.documentElement,function(r){if(r!==t&&r.nodeType===Wr){var s=r.getAttribute("class");if(s){var o=n===s;if(!o){var a=JS(s);o=e.every(H7(a))}o&&i.push(r)}}}),i})},createElement:function(n){var e=new Lu;e.ownerDocument=this,e.nodeName=n,e.tagName=n,e.localName=n,e.childNodes=new ra;var t=e.attributes=new c1;return t._ownerElement=e,e},createDocumentFragment:function(){var n=new xb;return n.ownerDocument=this,n.childNodes=new ra,n},createTextNode:function(n){var e=new NE;return e.ownerDocument=this,e.appendData(n),e},createComment:function(n){var e=new LE;return e.ownerDocument=this,e.appendData(n),e},createCDATASection:function(n){var e=new BE;return e.ownerDocument=this,e.appendData(n),e},createProcessingInstruction:function(n,e){var t=new WE;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=n,t.nodeValue=t.data=e,t},createAttribute:function(n){var e=new d1;return e.ownerDocument=this,e.name=n,e.nodeName=n,e.localName=n,e.specified=!0,e},createEntityReference:function(n){var e=new OE;return e.ownerDocument=this,e.nodeName=n,e},createElementNS:function(n,e){var t=new Lu,i=e.split(":"),r=t.attributes=new c1;return t.childNodes=new ra,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=n,i.length==2?(t.prefix=i[0],t.localName=i[1]):t.localName=e,r._ownerElement=t,t},createAttributeNS:function(n,e){var t=new d1,i=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=n,t.specified=!0,i.length==2?(t.prefix=i[0],t.localName=i[1]):t.localName=e,t}};Mi(Py,rt);function Lu(){this._nsMap={}}Lu.prototype={nodeType:Wr,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var e=this.getAttributeNode(n);return e&&e.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,e){var t=this.ownerDocument.createAttribute(n);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(n){var e=this.getAttributeNode(n);e&&this.removeAttributeNode(e)},appendChild:function(n){return n.nodeType===fa?this.insertBefore(n,null):J7(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,e){var t=this.getAttributeNodeNS(n,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(n,e){return this.getAttributeNodeNS(n,e)!=null},getAttributeNS:function(n,e){var t=this.getAttributeNodeNS(n,e);return t&&t.value||""},setAttributeNS:function(n,e,t){var i=this.ownerDocument.createAttributeNS(n,e);i.value=i.nodeValue=""+t,this.setAttributeNode(i)},getAttributeNodeNS:function(n,e){return this.attributes.getNamedItemNS(n,e)},getElementsByTagName:function(n){return new Cf(this,function(e){var t=[];return Dg(e,function(i){i!==e&&i.nodeType==Wr&&(n==="*"||i.tagName==n)&&t.push(i)}),t})},getElementsByTagNameNS:function(n,e){return new Cf(this,function(t){var i=[];return Dg(t,function(r){r!==t&&r.nodeType===Wr&&(n==="*"||r.namespaceURI===n)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};Py.prototype.getElementsByTagName=Lu.prototype.getElementsByTagName;Py.prototype.getElementsByTagNameNS=Lu.prototype.getElementsByTagNameNS;Mi(Lu,rt);function d1(){}d1.prototype.nodeType=Af;Mi(d1,rt);function My(){}My.prototype={data:"",substringData:function(n,e){return this.data.substring(n,n+e)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,e){this.replaceData(n,0,e)},appendChild:function(n){throw new Error(bn[Ci])},deleteData:function(n,e){this.replaceData(n,e,"")},replaceData:function(n,e,t){var i=this.data.substring(0,n),r=this.data.substring(n+e);t=i+t+r,this.nodeValue=this.data=t,this.length=t.length}};Mi(My,rt);function NE(){}NE.prototype={nodeName:"#text",nodeType:l1,splitText:function(n){var e=this.data,t=e.substring(n);e=e.substring(0,n),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};Mi(NE,My);function LE(){}LE.prototype={nodeName:"#comment",nodeType:JN};Mi(LE,My);function BE(){}BE.prototype={nodeName:"#cdata-section",nodeType:XN};Mi(BE,My);function wb(){}wb.prototype.nodeType=ZN;Mi(wb,rt);function oL(){}oL.prototype.nodeType=z7;Mi(oL,rt);function aL(){}aL.prototype.nodeType=q7;Mi(aL,rt);function OE(){}OE.prototype.nodeType=YN;Mi(OE,rt);function xb(){}xb.prototype.nodeName="#document-fragment";xb.prototype.nodeType=fa;Mi(xb,rt);function WE(){}WE.prototype.nodeType=KN;Mi(WE,rt);function lL(){}lL.prototype.serializeToString=function(n,e,t){return cL.call(n,e,t)};rt.prototype.toString=cL;function cL(n,e){var t=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,s=i.namespaceURI;if(s&&r==null){var r=i.lookupPrefix(s);if(r==null)var o=[{namespace:s,prefix:null}]}return Ed(this,t,n,e,o),t.join("")}function nU(n,e,t){var i=n.prefix||"",r=n.namespaceURI;if(!r||i==="xml"&&r===_g.XML||r===_g.XMLNS)return!1;for(var s=t.length;s--;){var o=t[s];if(o.prefix===i)return o.namespace!==r}return!0}function v_(n,e,t){n.push(" ",e,'="',t.replace(/[<>&"\t\n\r]/g,nL),'"')}function Ed(n,e,t,i,r){if(r||(r=[]),i)if(n=i(n),n){if(typeof n=="string"){e.push(n);return}}else return;switch(n.nodeType){case Wr:var s=n.attributes,o=s.length,y=n.firstChild,a=n.tagName;t=_g.isHTML(n.namespaceURI)||t;var l=a;if(!t&&!n.prefix&&n.namespaceURI){for(var c,u=0;u<s.length;u++)if(s.item(u).name==="xmlns"){c=s.item(u).value;break}if(!c)for(var h=r.length-1;h>=0;h--){var f=r[h];if(f.prefix===""&&f.namespace===n.namespaceURI){c=f.namespace;break}}if(c!==n.namespaceURI)for(var h=r.length-1;h>=0;h--){var f=r[h];if(f.namespace===n.namespaceURI){f.prefix&&(l=f.prefix+":"+a);break}}}e.push("<",l);for(var g=0;g<o;g++){var _=s.item(g);_.prefix=="xmlns"?r.push({prefix:_.localName,namespace:_.value}):_.nodeName=="xmlns"&&r.push({prefix:"",namespace:_.value})}for(var g=0;g<o;g++){var _=s.item(g);if(nU(_,t,r)){var m=_.prefix||"",D=_.namespaceURI;v_(e,m?"xmlns:"+m:"xmlns",D),r.push({prefix:m,namespace:D})}Ed(_,e,t,i,r)}if(a===l&&nU(n,t,r)){var m=n.prefix||"",D=n.namespaceURI;v_(e,m?"xmlns:"+m:"xmlns",D),r.push({prefix:m,namespace:D})}if(y||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),t&&/^script$/i.test(a))for(;y;)y.data?e.push(y.data):Ed(y,e,t,i,r.slice()),y=y.nextSibling;else for(;y;)Ed(y,e,t,i,r.slice()),y=y.nextSibling;e.push("</",l,">")}else e.push("/>");return;case QN:case fa:for(var y=n.firstChild;y;)Ed(y,e,t,i,r.slice()),y=y.nextSibling;return;case Af:return v_(e,n.name,n.value);case l1:return e.push(n.data.replace(/[<&>]/g,nL));case XN:return e.push("<![CDATA[",n.data,"]]>");case JN:return e.push("<!--",n.data,"-->");case ZN:var b=n.publicId,w=n.systemId;if(e.push("<!DOCTYPE ",n.name),b)e.push(" PUBLIC ",b),w&&w!="."&&e.push(" ",w),e.push(">");else if(w&&w!=".")e.push(" SYSTEM ",w,">");else{var x=n.internalSubset;x&&e.push(" [",x,"]"),e.push(">")}return;case KN:return e.push("<?",n.target," ",n.data,"?>");case YN:return e.push("&",n.nodeName,";");default:e.push("??",n.nodeName)}}function uL(n,e,t){var i;switch(e.nodeType){case Wr:i=e.cloneNode(!1),i.ownerDocument=n;case fa:break;case Af:t=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=n,i.parentNode=null,t)for(var r=e.firstChild;r;)i.appendChild(uL(n,r,t)),r=r.nextSibling;return i}function Dx(n,e,t){var i=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s!="object"&&s!=i[r]&&(i[r]=s)}switch(e.childNodes&&(i.childNodes=new ra),i.ownerDocument=n,i.nodeType){case Wr:var o=e.attributes,a=i.attributes=new c1,l=o.length;a._ownerElement=i;for(var c=0;c<l;c++)i.setAttributeNode(Dx(n,o.item(c),!0));break;case Af:t=!0}if(t)for(var u=e.firstChild;u;)i.appendChild(Dx(n,u,t)),u=u.nextSibling;return i}function dL(n,e,t){n[e]=t}try{if(Object.defineProperty){let n=function(e){switch(e.nodeType){case Wr:case fa:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(n(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};Object.defineProperty(Cf.prototype,"length",{get:function(){return FE(this),this.$$length}}),Object.defineProperty(rt.prototype,"textContent",{get:function(){return n(this)},set:function(e){switch(this.nodeType){case Wr:case fa:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),dL=function(e,t,i){e["$$"+t]=i}}}catch{}lo.DocumentType=wb;lo.DOMException=$t;lo.DOMImplementation=tL;lo.Element=Lu;lo.Node=rt;lo.NodeList=ra;lo.XMLSerializer=lL;var Tb={},hL={};(function(n){var e=_a.freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),n.entityMap=n.HTML_ENTITIES})(hL);var VE={},xg=_a.NAMESPACE,wx=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,iU=new RegExp("[\\-\\.0-9"+wx.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),rU=new RegExp("^"+wx.source+iU.source+"*(?::"+wx.source+iU.source+"*)?$"),ip=0,Ta=1,Qu=2,rp=3,Zu=4,ju=5,sp=6,fv=7;function Sf(n,e){this.message=n,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Sf)}Sf.prototype=new Error;Sf.prototype.name=Sf.name;function fL(){}fL.prototype={parse:function(n,e,t){var i=this.domBuilder;i.startDocument(),pL(e,e={}),Q7(n,e,t,i,this.errorHandler),i.endDocument()}};function Q7(n,e,t,i,r){function s(N){if(N>65535){N-=65536;var B=55296+(N>>10),M=56320+(N&1023);return String.fromCharCode(B,M)}else return String.fromCharCode(N)}function o(N){var B=N.slice(1,-1);return Object.hasOwnProperty.call(t,B)?t[B]:B.charAt(0)==="#"?s(parseInt(B.substr(1).replace("x","0x"))):(r.error("entity not found:"+N),N)}function a(N){if(N>m){var B=n.substring(m,N).replace(/&#?\w+;/g,o);f&&l(m),i.characters(B,0,N-m),m=N}}function l(N,B){for(;N>=u&&(B=h.exec(n));)c=B.index,u=c+B[0].length,f.lineNumber++;f.columnNumber=N-c+1}for(var c=0,u=0,h=/.*(?:\r\n?|\n)|.*$/g,f=i.locator,g=[{currentNSMap:e}],_={},m=0;;){try{var D=n.indexOf("<",m);if(D<0){if(!n.substr(m).match(/^\s*$/)){var y=i.doc,b=y.createTextNode(n.substr(m));y.appendChild(b),i.currentElement=b}return}switch(D>m&&a(D),n.charAt(D+1)){case"/":var Y=n.indexOf(">",D+3),w=n.substring(D+2,Y).replace(/[ \t\n\r]+$/g,""),x=g.pop();Y<0?(w=n.substring(D+2).replace(/[\s<].*/,""),r.error("end tag name: "+w+" is not complete:"+x.tagName),Y=D+1+w.length):w.match(/\s</)&&(w=w.replace(/[\s<].*/,""),r.error("end tag name: "+w+" maybe not complete"),Y=D+1+w.length);var T=x.localNSMap,E=x.tagName==w,C=E||x.tagName&&x.tagName.toLowerCase()==w.toLowerCase();if(C){if(i.endElement(x.uri,x.localName,w),T)for(var F in T)Object.prototype.hasOwnProperty.call(T,F)&&i.endPrefixMapping(F);E||r.fatalError("end tag name: "+w+" is not match the current start tagName:"+x.tagName)}else g.push(x);Y++;break;case"?":f&&l(D),Y=nW(n,D,i);break;case"!":f&&l(D),Y=tW(n,D,i,r);break;default:f&&l(D);var P=new gL,O=g[g.length-1].currentNSMap,Y=Z7(n,D,P,O,o,r),R=P.length;if(!P.closed&&eW(n,Y,P.tagName,_)&&(P.closed=!0,t.nbsp||r.warning("unclosed xml attribute")),f&&R){for(var V=sU(f,{}),S=0;S<R;S++){var K=P[S];l(K.offset),K.locator=sU(f,{})}i.locator=V,oU(P,i,O)&&g.push(P),i.locator=f}else oU(P,i,O)&&g.push(P);xg.isHTML(P.uri)&&!P.closed?Y=j7(n,Y,P.tagName,o,i):Y++}}catch(N){if(N instanceof Sf)throw N;r.error("element parse error: "+N),Y=-1}Y>m?m=Y:a(Math.max(D,m)+1)}}function sU(n,e){return e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber,e}function Z7(n,e,t,i,r,s){function o(f,g,_){t.attributeNames.hasOwnProperty(f)&&s.fatalError("Attribute "+f+" redefined"),t.addValue(f,g.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),_)}for(var a,l,c=++e,u=ip;;){var h=n.charAt(c);switch(h){case"=":if(u===Ta)a=n.slice(e,c),u=rp;else if(u===Qu)u=rp;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(u===rp||u===Ta)if(u===Ta&&(s.warning('attribute value must after "="'),a=n.slice(e,c)),e=c+1,c=n.indexOf(h,e),c>0)l=n.slice(e,c),o(a,l,e-1),u=ju;else throw new Error("attribute value no end '"+h+"' match");else if(u==Zu)l=n.slice(e,c),o(a,l,e),s.warning('attribute "'+a+'" missed start quot('+h+")!!"),e=c+1,u=ju;else throw new Error('attribute value must after "="');break;case"/":switch(u){case ip:t.setTagName(n.slice(e,c));case ju:case sp:case fv:u=fv,t.closed=!0;case Zu:case Ta:break;case Qu:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),u==ip&&t.setTagName(n.slice(e,c)),c;case">":switch(u){case ip:t.setTagName(n.slice(e,c));case ju:case sp:case fv:break;case Zu:case Ta:l=n.slice(e,c),l.slice(-1)==="/"&&(t.closed=!0,l=l.slice(0,-1));case Qu:u===Qu&&(l=a),u==Zu?(s.warning('attribute "'+l+'" missed quot(")!'),o(a,l,e)):((!xg.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,e));break;case rp:throw new Error("attribute value missed!!")}return c;case"":h=" ";default:if(h<=" ")switch(u){case ip:t.setTagName(n.slice(e,c)),u=sp;break;case Ta:a=n.slice(e,c),u=Qu;break;case Zu:var l=n.slice(e,c);s.warning('attribute "'+l+'" missed quot(")!!'),o(a,l,e);case ju:u=sp;break}else switch(u){case Qu:t.tagName,(!xg.isHTML(i[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=c,u=Ta;break;case ju:s.warning('attribute space is required"'+a+'"!!');case sp:u=Ta,e=c;break;case rp:u=Zu,e=c;break;case fv:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function oU(n,e,t){for(var i=n.tagName,r=null,h=n.length;h--;){var s=n[h],o=s.qName,a=s.value,f=o.indexOf(":");if(f>0)var l=s.prefix=o.slice(0,f),c=o.slice(f+1),u=l==="xmlns"&&c;else c=o,l=null,u=o==="xmlns"&&"";s.localName=c,u!==!1&&(r==null&&(r={},pL(t,t={})),t[u]=r[u]=a,s.uri=xg.XMLNS,e.startPrefixMapping(u,a))}for(var h=n.length;h--;){s=n[h];var l=s.prefix;l&&(l==="xml"&&(s.uri=xg.XML),l!=="xmlns"&&(s.uri=t[l||""]))}var f=i.indexOf(":");f>0?(l=n.prefix=i.slice(0,f),c=n.localName=i.slice(f+1)):(l=null,c=n.localName=i);var g=n.uri=t[l||""];if(e.startElement(g,c,i,n),n.closed){if(e.endElement(g,c,i),r)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&e.endPrefixMapping(l)}else return n.currentNSMap=t,n.localNSMap=r,!0}function j7(n,e,t,i,r){if(/^(?:script|textarea)$/i.test(t)){var s=n.indexOf("</"+t+">",e),o=n.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(t)?(r.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,i),r.characters(o,0,o.length),s)}return e+1}function eW(n,e,t,i){var r=i[t];return r==null&&(r=n.lastIndexOf("</"+t+">"),r<e&&(r=n.lastIndexOf("</"+t)),i[t]=r),r<e}function pL(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}function tW(n,e,t,i){var r=n.charAt(e+2);switch(r){case"-":if(n.charAt(e+3)==="-"){var s=n.indexOf("-->",e+4);return s>e?(t.comment(n,e+4,s-e-4),s+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(e+3,6)=="CDATA["){var s=n.indexOf("]]>",e+9);return t.startCDATA(),t.characters(n,e+9,s-e-9),t.endCDATA(),s+3}var o=iW(n,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],c=!1,u=!1;a>3&&(/^public$/i.test(o[2][0])?(c=o[3][0],u=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(u=o[3][0]));var h=o[a-1];return t.startDTD(l,c,u),t.endDTD(),h.index+h[0].length}}return-1}function nW(n,e,t){var i=n.indexOf("?>",e);if(i){var r=n.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,t.processingInstruction(r[1],r[2]),i+2):-1}return-1}function gL(){this.attributeNames={}}gL.prototype={setTagName:function(n){if(!rU.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,e,t){if(!rU.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:e,offset:t}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function iW(n,e){var t,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(n);t=r.exec(n);)if(i.push(t),t[1])return i}VE.XMLReader=fL;VE.ParseError=Sf;var rW=_a,sW=lo,aU=hL,mL=VE,oW=sW.DOMImplementation,lU=rW.NAMESPACE,aW=mL.ParseError,lW=mL.XMLReader;function yL(n){return n.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function vL(n){this.options=n||{locator:{}}}vL.prototype.parseFromString=function(n,e){var t=this.options,i=new lW,r=t.domBuilder||new Ny,s=t.errorHandler,o=t.locator,a=t.xmlns||{},l=/\/x?html?$/.test(e),c=l?aU.HTML_ENTITIES:aU.XML_ENTITIES;o&&r.setDocumentLocator(o),i.errorHandler=cW(s,r,o),i.domBuilder=t.domBuilder||r,l&&(a[""]=lU.HTML),a.xml=a.xml||lU.XML;var u=t.normalizeLineEndings||yL;return n&&typeof n=="string"?i.parse(u(n),a,c):i.errorHandler.error("invalid doc source"),r.doc};function cW(n,e,t){if(!n){if(e instanceof Ny)return e;n=e}var i={},r=n instanceof Function;t=t||{};function s(o){var a=n[o];!a&&r&&(a=n.length==2?function(l){n(o,l)}:n),i[o]=a&&function(l){a("[xmldom "+o+"]	"+l+xx(t))}||function(){}}return s("warning"),s("error"),s("fatalError"),i}function Ny(){this.cdata=!1}function ed(n,e){e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber}Ny.prototype={startDocument:function(){this.doc=new oW().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,e,t,i){var r=this.doc,s=r.createElementNS(n,t||e),o=i.length;pv(this,s),this.currentElement=s,this.locator&&ed(this.locator,s);for(var a=0;a<o;a++){var n=i.getURI(a),l=i.getValue(a),t=i.getQName(a),c=r.createAttributeNS(n,t);this.locator&&ed(i.getLocator(a),c),c.value=c.nodeValue=l,s.setAttributeNode(c)}},endElement:function(n,e,t){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(n,e){},endPrefixMapping:function(n){},processingInstruction:function(n,e){var t=this.doc.createProcessingInstruction(n,e);this.locator&&ed(this.locator,t),pv(this,t)},ignorableWhitespace:function(n,e,t){},characters:function(n,e,t){if(n=cU.apply(this,arguments),n){if(this.cdata)var i=this.doc.createCDATASection(n);else var i=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(n)&&this.doc.appendChild(i),this.locator&&ed(this.locator,i)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,e,t){n=cU.apply(this,arguments);var i=this.doc.createComment(n);this.locator&&ed(this.locator,i),pv(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,e,t){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(n,e,t);this.locator&&ed(this.locator,r),pv(this,r),this.doc.doctype=r}},warning:function(n){console.warn("[xmldom warning]	"+n,xx(this.locator))},error:function(n){console.error("[xmldom error]	"+n,xx(this.locator))},fatalError:function(n){throw new aW(n,this.locator)}};function xx(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function cU(n,e,t){return typeof n=="string"?n.substr(e,t):n.length>=e+t||e?new java.lang.String(n,e,t)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){Ny.prototype[n]=function(){return null}});function pv(n,e){n.currentElement?n.currentElement.appendChild(e):n.doc.appendChild(e)}Tb.__DOMHandler=Ny;Tb.normalizeLineEndings=yL;Tb.DOMParser=vL;var bL=lo;Db.DOMImplementation=bL.DOMImplementation;Db.XMLSerializer=bL.XMLSerializer;Db.DOMParser=Tb.DOMParser;var uW=Db,dW=lo;function hW(n){var e=null,t=new uW.DOMParser({errorHandler:function(r,s){e={level:r,message:s}}}),i=t.parseFromString(n);if(e===null)return i;throw new Error(e.level+": "+e.message)}kE.parseFromString=hW;kE.Node=dW.Node;var b_=_n,uU=Xt,_L=kE,DL=Nf,fW=DL.Element;qN.readString=pW;var dU=_L.Node;function pW(n,e){e=e||{};try{var t=_L.parseFromString(n,"text/xml")}catch(o){return b_.reject(o)}if(t.documentElement.tagName==="parsererror")return b_.resolve(new Error(t.documentElement.textContent));function i(o){switch(o.nodeType){case dU.ELEMENT_NODE:return r(o);case dU.TEXT_NODE:return DL.text(o.nodeValue)}}function r(o){var a=s(o),l=[];uU.forEach(o.childNodes,function(u){var h=i(u);h&&l.push(h)});var c={};return uU.forEach(o.attributes,function(u){c[s(u)]=u.value}),new fW(a,c,l)}function s(o){if(o.namespaceURI){var a=e[o.namespaceURI],l;return a?l=a+":":l="{"+o.namespaceURI+"}",l+o.localName}else return o.localName}return b_.resolve(i(t.documentElement))}var wL={},Pp={},co={},hU;function Yl(){return hU||(hU=1,(function(){var n,e,t,i,r,s,o,a=[].slice,l={}.hasOwnProperty;n=function(){var c,u,h,f,g,_;if(_=arguments[0],g=2<=arguments.length?a.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(c=0,h=g.length;c<h;c++)if(f=g[c],f!=null)for(u in f)l.call(f,u)&&(_[u]=f[u]);return _},r=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},s=function(c){var u;return!!c&&((u=typeof c)=="function"||u==="object")},t=function(c){return r(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},i=function(c){var u;if(t(c))return!c.length;for(u in c)if(l.call(c,u))return!1;return!0},o=function(c){var u,h;return s(c)&&(h=Object.getPrototypeOf(c))&&(u=h.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(c){return r(c.valueOf)?c.valueOf():c},co.assign=n,co.isFunction=r,co.isObject=s,co.isArray=t,co.isEmpty=i,co.isPlainObject=o,co.getValue=e}).call(Oe)),co}var __={exports:{}},D_={exports:{}},w_={exports:{}},x_={exports:{}},fU;function xL(){return fU||(fU=1,(function(){x_.exports=function(){function n(e,t,i){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,t==null)throw new Error("Missing attribute name. "+this.debugInfo(t));if(i==null)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(i)}return n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},n.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},n}()}).call(Oe)),x_.exports}var pU;function Eb(){return pU||(pU=1,(function(){var n,e,t,i,r,s,o=function(l,c){for(var u in c)a.call(c,u)&&(l[u]=c[u]);function h(){this.constructor=l}return h.prototype=c.prototype,l.prototype=new h,l.__super__=c.prototype,l},a={}.hasOwnProperty;s=Yl(),r=s.isObject,i=s.isFunction,t=s.getValue,e=Li(),n=xL(),w_.exports=function(l){o(c,l);function c(u,h,f){if(c.__super__.constructor.call(this,u),h==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(h),this.attributes={},f!=null&&this.attribute(f),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return c.prototype.clone=function(){var u,h,f,g;f=Object.create(this),f.isRoot&&(f.documentObject=null),f.attributes={},g=this.attributes;for(h in g)a.call(g,h)&&(u=g[h],f.attributes[h]=u.clone());return f.children=[],this.children.forEach(function(_){var m;return m=_.clone(),m.parent=f,f.children.push(m)}),f},c.prototype.attribute=function(u,h){var f,g;if(u!=null&&(u=t(u)),r(u))for(f in u)a.call(u,f)&&(g=u[f],this.attribute(f,g));else i(h)&&(h=h.apply()),(!this.options.skipNullAttributes||h!=null)&&(this.attributes[u]=new n(this,u,h));return this},c.prototype.removeAttribute=function(u){var h,f,g;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=t(u),Array.isArray(u))for(f=0,g=u.length;f<g;f++)h=u[f],delete this.attributes[h];else delete this.attributes[u];return this},c.prototype.toString=function(u){return this.options.writer.set(u).element(this)},c.prototype.att=function(u,h){return this.attribute(u,h)},c.prototype.a=function(u,h){return this.attribute(u,h)},c}(e)}).call(Oe)),w_.exports}var T_={exports:{}},gU;function Ab(){return gU||(gU=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=Li(),T_.exports=function(i){e(r,i);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},r}(n)}).call(Oe)),T_.exports}var E_={exports:{}},mU;function Cb(){return mU||(mU=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=Li(),E_.exports=function(i){e(r,i);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},r}(n)}).call(Oe)),E_.exports}var A_={exports:{}},yU;function Sb(){return yU||(yU=1,(function(){var n,e,t=function(r,s){for(var o in s)i.call(s,o)&&(r[o]=s[o]);function a(){this.constructor=r}return a.prototype=s.prototype,r.prototype=new a,r.__super__=s.prototype,r},i={}.hasOwnProperty;e=Yl().isObject,n=Li(),A_.exports=function(r){t(s,r);function s(o,a,l,c){var u;s.__super__.constructor.call(this,o),e(a)&&(u=a,a=u.version,l=u.encoding,c=u.standalone),a||(a="1.0"),this.version=this.stringify.xmlVersion(a),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}return s.prototype.toString=function(o){return this.options.writer.set(o).declaration(this)},s}(n)}).call(Oe)),A_.exports}var C_={exports:{}},S_={exports:{}},vU;function Ub(){return vU||(vU=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=Li(),S_.exports=function(i){e(r,i);function r(s,o,a,l,c,u){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(a==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(o));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(o));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(o));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(o));if(u&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(o));this.elementName=this.stringify.eleName(o),this.attributeName=this.stringify.attName(a),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=c}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},r}(n)}).call(Oe)),S_.exports}var U_={exports:{}},bU;function Ib(){return bU||(bU=1,(function(){var n,e,t=function(r,s){for(var o in s)i.call(s,o)&&(r[o]=s[o]);function a(){this.constructor=r}return a.prototype=s.prototype,r.prototype=new a,r.__super__=s.prototype,r},i={}.hasOwnProperty;e=Yl().isObject,n=Li(),U_.exports=function(r){t(s,r);function s(o,a,l,c){if(s.__super__.constructor.call(this,o),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(c==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!a,this.name=this.stringify.eleName(l),!e(c))this.value=this.stringify.dtdEntityValue(c);else{if(!c.pubID&&!c.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(c.pubID&&!c.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID)),c.nData!=null&&(this.nData=this.stringify.dtdNData(c.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdEntity(this)},s}(n)}).call(Oe)),U_.exports}var I_={exports:{}},_U;function kb(){return _U||(_U=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=Li(),I_.exports=function(i){e(r,i);function r(s,o,a){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());a||(a="(#PCDATA)"),Array.isArray(a)&&(a="("+a.join(",")+")"),this.name=this.stringify.eleName(o),this.value=this.stringify.dtdElementValue(a)}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},r}(n)}).call(Oe)),I_.exports}var k_={exports:{}},DU;function Rb(){return DU||(DU=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=Li(),k_.exports=function(i){e(r,i);function r(s,o,a){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing DTD notation name. "+this.debugInfo(o));if(!a.pubID&&!a.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(o));this.name=this.stringify.eleName(o),a.pubID!=null&&(this.pubID=this.stringify.dtdPubID(a.pubID)),a.sysID!=null&&(this.sysID=this.stringify.dtdSysID(a.sysID))}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},r}(n)}).call(Oe)),k_.exports}var wU;function Fb(){return wU||(wU=1,(function(){var n,e,t,i,r,s,o=function(l,c){for(var u in c)a.call(c,u)&&(l[u]=c[u]);function h(){this.constructor=l}return h.prototype=c.prototype,l.prototype=new h,l.__super__=c.prototype,l},a={}.hasOwnProperty;s=Yl().isObject,r=Li(),n=Ub(),t=Ib(),e=kb(),i=Rb(),C_.exports=function(l){o(c,l);function c(u,h,f){var g,_;c.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,s(h)&&(g=h,h=g.pubID,f=g.sysID),f==null&&(_=[h,f],f=_[0],h=_[1]),h!=null&&(this.pubID=this.stringify.dtdPubID(h)),f!=null&&(this.sysID=this.stringify.dtdSysID(f))}return c.prototype.element=function(u,h){var f;return f=new e(this,u,h),this.children.push(f),this},c.prototype.attList=function(u,h,f,g,_){var m;return m=new n(this,u,h,f,g,_),this.children.push(m),this},c.prototype.entity=function(u,h){var f;return f=new t(this,!1,u,h),this.children.push(f),this},c.prototype.pEntity=function(u,h){var f;return f=new t(this,!0,u,h),this.children.push(f),this},c.prototype.notation=function(u,h){var f;return f=new i(this,u,h),this.children.push(f),this},c.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},c.prototype.ele=function(u,h){return this.element(u,h)},c.prototype.att=function(u,h,f,g,_){return this.attList(u,h,f,g,_)},c.prototype.ent=function(u,h){return this.entity(u,h)},c.prototype.pent=function(u,h){return this.pEntity(u,h)},c.prototype.not=function(u,h){return this.notation(u,h)},c.prototype.up=function(){return this.root()||this.documentObject},c}(r)}).call(Oe)),C_.exports}var R_={exports:{}},xU;function Pb(){return xU||(xU=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=Li(),R_.exports=function(i){e(r,i);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},r}(n)}).call(Oe)),R_.exports}var F_={exports:{}},TU;function Mb(){return TU||(TU=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=Li(),F_.exports=function(i){e(r,i);function r(s,o){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(o)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).text(this)},r}(n)}).call(Oe)),F_.exports}var P_={exports:{}},EU;function Nb(){return EU||(EU=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=Li(),P_.exports=function(i){e(r,i);function r(s,o,a){if(r.__super__.constructor.call(this,s),o==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(o),a&&(this.value=this.stringify.insValue(a))}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},r}(n)}).call(Oe)),P_.exports}var M_={exports:{}},AU;function HE(){return AU||(AU=1,(function(){var n,e=function(i,r){for(var s in r)t.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},t={}.hasOwnProperty;n=Li(),M_.exports=function(i){e(r,i);function r(s){r.__super__.constructor.call(this,s),this.isDummy=!0}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return""},r}(n)}).call(Oe)),M_.exports}var CU;function Li(){return CU||(CU=1,(function(){var n,e,t,i,r,s,o,a,l,c,u,h,f,g,_={}.hasOwnProperty;g=Yl(),f=g.isObject,h=g.isFunction,u=g.isEmpty,c=g.getValue,s=null,n=null,e=null,t=null,i=null,a=null,l=null,o=null,r=null,D_.exports=function(){function m(D){this.parent=D,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=Eb(),n=Ab(),e=Cb(),t=Sb(),i=Fb(),a=Pb(),l=Mb(),o=Nb(),r=HE())}return m.prototype.element=function(D,y,b){var w,x,T,E,C,F,P,O,Y,R,V;if(F=null,y===null&&b==null&&(Y=[{},null],y=Y[0],b=Y[1]),y==null&&(y={}),y=c(y),f(y)||(R=[y,b],b=R[0],y=R[1]),D!=null&&(D=c(D)),Array.isArray(D))for(T=0,P=D.length;T<P;T++)x=D[T],F=this.element(x);else if(h(D))F=this.element(D.apply());else if(f(D)){for(C in D)if(_.call(D,C))if(V=D[C],h(V)&&(V=V.apply()),f(V)&&u(V)&&(V=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&C.indexOf(this.stringify.convertAttKey)===0)F=this.attribute(C.substr(this.stringify.convertAttKey.length),V);else if(!this.options.separateArrayItems&&Array.isArray(V))for(E=0,O=V.length;E<O;E++)x=V[E],w={},w[C]=x,F=this.element(w);else f(V)?(F=this.element(C),F.element(V)):F=this.element(C,V)}else this.options.skipNullNodes&&b===null?F=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&D.indexOf(this.stringify.convertTextKey)===0?F=this.text(b):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&D.indexOf(this.stringify.convertCDataKey)===0?F=this.cdata(b):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&D.indexOf(this.stringify.convertCommentKey)===0?F=this.comment(b):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&D.indexOf(this.stringify.convertRawKey)===0?F=this.raw(b):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&D.indexOf(this.stringify.convertPIKey)===0?F=this.instruction(D.substr(this.stringify.convertPIKey.length),b):F=this.node(D,y,b);if(F==null)throw new Error("Could not create any elements with: "+D+". "+this.debugInfo());return F},m.prototype.insertBefore=function(D,y,b){var w,x,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(D));return x=this.parent.children.indexOf(this),T=this.parent.children.splice(x),w=this.parent.element(D,y,b),Array.prototype.push.apply(this.parent.children,T),w},m.prototype.insertAfter=function(D,y,b){var w,x,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(D));return x=this.parent.children.indexOf(this),T=this.parent.children.splice(x+1),w=this.parent.element(D,y,b),Array.prototype.push.apply(this.parent.children,T),w},m.prototype.remove=function(){var D;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return D=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[D,D-D+1].concat([])),this.parent},m.prototype.node=function(D,y,b){var w,x;return D!=null&&(D=c(D)),y||(y={}),y=c(y),f(y)||(x=[y,b],b=x[0],y=x[1]),w=new s(this,D,y),b!=null&&w.text(b),this.children.push(w),w},m.prototype.text=function(D){var y;return y=new l(this,D),this.children.push(y),this},m.prototype.cdata=function(D){var y;return y=new n(this,D),this.children.push(y),this},m.prototype.comment=function(D){var y;return y=new e(this,D),this.children.push(y),this},m.prototype.commentBefore=function(D){var y,b;return y=this.parent.children.indexOf(this),b=this.parent.children.splice(y),this.parent.comment(D),Array.prototype.push.apply(this.parent.children,b),this},m.prototype.commentAfter=function(D){var y,b;return y=this.parent.children.indexOf(this),b=this.parent.children.splice(y+1),this.parent.comment(D),Array.prototype.push.apply(this.parent.children,b),this},m.prototype.raw=function(D){var y;return y=new a(this,D),this.children.push(y),this},m.prototype.dummy=function(){var D;return D=new r(this),this.children.push(D),D},m.prototype.instruction=function(D,y){var b,w,x,T,E;if(D!=null&&(D=c(D)),y!=null&&(y=c(y)),Array.isArray(D))for(T=0,E=D.length;T<E;T++)b=D[T],this.instruction(b);else if(f(D))for(b in D)_.call(D,b)&&(w=D[b],this.instruction(b,w));else h(y)&&(y=y.apply()),x=new o(this,D,y),this.children.push(x);return this},m.prototype.instructionBefore=function(D,y){var b,w;return b=this.parent.children.indexOf(this),w=this.parent.children.splice(b),this.parent.instruction(D,y),Array.prototype.push.apply(this.parent.children,w),this},m.prototype.instructionAfter=function(D,y){var b,w;return b=this.parent.children.indexOf(this),w=this.parent.children.splice(b+1),this.parent.instruction(D,y),Array.prototype.push.apply(this.parent.children,w),this},m.prototype.declaration=function(D,y,b){var w,x;return w=this.document(),x=new t(w,D,y,b),w.children[0]instanceof t?w.children[0]=x:w.children.unshift(x),w.root()||w},m.prototype.doctype=function(D,y){var b,w,x,T,E,C,F,P,O,Y;for(w=this.document(),x=new i(w,D,y),O=w.children,T=E=0,F=O.length;E<F;T=++E)if(b=O[T],b instanceof i)return w.children[T]=x,x;for(Y=w.children,T=C=0,P=Y.length;C<P;T=++C)if(b=Y[T],b.isRoot)return w.children.splice(T,0,x),x;return w.children.push(x),x},m.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},m.prototype.root=function(){var D;for(D=this;D;){if(D.isDocument)return D.rootObject;if(D.isRoot)return D;D=D.parent}},m.prototype.document=function(){var D;for(D=this;D;){if(D.isDocument)return D;D=D.parent}},m.prototype.end=function(D){return this.document().end(D)},m.prototype.prev=function(){var D;for(D=this.parent.children.indexOf(this);D>0&&this.parent.children[D-1].isDummy;)D=D-1;if(D<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[D-1]},m.prototype.next=function(){var D;for(D=this.parent.children.indexOf(this);D<this.parent.children.length-1&&this.parent.children[D+1].isDummy;)D=D+1;if(D===-1||D===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[D+1]},m.prototype.importDocument=function(D){var y;return y=D.root().clone(),y.parent=this,y.isRoot=!1,this.children.push(y),this},m.prototype.debugInfo=function(D){var y,b;return D=D||this.name,D==null&&!((y=this.parent)!=null&&y.name)?"":D==null?"parent: <"+this.parent.name+">":(b=this.parent)!=null&&b.name?"node: <"+D+">, parent: <"+this.parent.name+">":"node: <"+D+">"},m.prototype.ele=function(D,y,b){return this.element(D,y,b)},m.prototype.nod=function(D,y,b){return this.node(D,y,b)},m.prototype.txt=function(D){return this.text(D)},m.prototype.dat=function(D){return this.cdata(D)},m.prototype.com=function(D){return this.comment(D)},m.prototype.ins=function(D,y){return this.instruction(D,y)},m.prototype.doc=function(){return this.document()},m.prototype.dec=function(D,y,b){return this.declaration(D,y,b)},m.prototype.dtd=function(D,y){return this.doctype(D,y)},m.prototype.e=function(D,y,b){return this.element(D,y,b)},m.prototype.n=function(D,y,b){return this.node(D,y,b)},m.prototype.t=function(D){return this.text(D)},m.prototype.d=function(D){return this.cdata(D)},m.prototype.c=function(D){return this.comment(D)},m.prototype.r=function(D){return this.raw(D)},m.prototype.i=function(D,y){return this.instruction(D,y)},m.prototype.u=function(){return this.up()},m.prototype.importXMLBuilder=function(D){return this.importDocument(D)},m}()}).call(Oe)),D_.exports}var N_={exports:{}},SU;function TL(){return SU||(SU=1,(function(){var n=function(t,i){return function(){return t.apply(i,arguments)}},e={}.hasOwnProperty;N_.exports=function(){function t(i){this.assertLegalChar=n(this.assertLegalChar,this);var r,s,o;i||(i={}),this.noDoubleEncoding=i.noDoubleEncoding,s=i.stringify||{};for(r in s)e.call(s,r)&&(o=s[r],this[r]=o)}return t.prototype.eleName=function(i){return i=""+i||"",this.assertLegalChar(i)},t.prototype.eleText=function(i){return i=""+i||"",this.assertLegalChar(this.elEscape(i))},t.prototype.cdata=function(i){return i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i)},t.prototype.comment=function(i){if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},t.prototype.raw=function(i){return""+i||""},t.prototype.attName=function(i){return i=""+i||""},t.prototype.attValue=function(i){return i=""+i||"",this.attEscape(i)},t.prototype.insTarget=function(i){return""+i||""},t.prototype.insValue=function(i){if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return i},t.prototype.xmlVersion=function(i){if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},t.prototype.xmlEncoding=function(i){if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return i},t.prototype.xmlStandalone=function(i){return i?"yes":"no"},t.prototype.dtdPubID=function(i){return""+i||""},t.prototype.dtdSysID=function(i){return""+i||""},t.prototype.dtdElementValue=function(i){return""+i||""},t.prototype.dtdAttType=function(i){return""+i||""},t.prototype.dtdAttDefault=function(i){return i!=null?""+i||"":i},t.prototype.dtdEntityValue=function(i){return""+i||""},t.prototype.dtdNData=function(i){return""+i||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(i){var r;if(r=i.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),r)throw new Error("Invalid character in string: "+i+" at index "+r.index);return i},t.prototype.elEscape=function(i){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(r,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(i){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(r,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(Oe)),N_.exports}var L_={exports:{}},B_={exports:{}},UU;function EL(){return UU||(UU=1,(function(){var n={}.hasOwnProperty;B_.exports=function(){function e(t){var i,r,s,o,a,l,c,u,h;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=(r=t.allowEmpty)!=null?r:!1,this.pretty?(this.indent=(s=t.indent)!=null?s:"  ",this.newline=(o=t.newline)!=null?o:`
`,this.offset=(a=t.offset)!=null?a:0,this.dontprettytextnodes=(l=t.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(c=t.spacebeforeslash)!=null?c:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=t.writer||{};for(i in u)n.call(u,i)&&(h=u[i],this[i]=h)}return e.prototype.set=function(t){var i,r,s;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:`
`,this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=t.writer||{};for(i in r)n.call(r,i)&&(s=r[i],this[i]=s);return this},e.prototype.space=function(t){var i;return this.pretty?(i=(t||0)+this.offset+1,i>0?new Array(i).join(this.indent):""):""},e}()}).call(Oe)),B_.exports}var IU;function qE(){return IU||(IU=1,(function(){var n,e,t,i,r,s,o,a,l,c,u,h,f,g,_=function(D,y){for(var b in y)m.call(y,b)&&(D[b]=y[b]);function w(){this.constructor=D}return w.prototype=y.prototype,D.prototype=new w,D.__super__=y.prototype,D},m={}.hasOwnProperty;o=Sb(),a=Fb(),n=Ab(),e=Cb(),c=Eb(),h=Pb(),f=Mb(),u=Nb(),l=HE(),t=Ub(),i=kb(),r=Ib(),s=Rb(),g=EL(),L_.exports=function(D){_(y,D);function y(b){y.__super__.constructor.call(this,b)}return y.prototype.document=function(b){var w,x,T,E,C;for(this.textispresent=!1,E="",C=b.children,x=0,T=C.length;x<T;x++)w=C[x],!(w instanceof l)&&(E+=(function(){switch(!1){case!(w instanceof o):return this.declaration(w);case!(w instanceof a):return this.docType(w);case!(w instanceof e):return this.comment(w);case!(w instanceof u):return this.processingInstruction(w);default:return this.element(w,0)}}).call(this));return this.pretty&&E.slice(-this.newline.length)===this.newline&&(E=E.slice(0,-this.newline.length)),E},y.prototype.attribute=function(b){return" "+b.name+'="'+b.value+'"'},y.prototype.cdata=function(b,w){return this.space(w)+"<![CDATA["+b.text+"]]>"+this.newline},y.prototype.comment=function(b,w){return this.space(w)+"<!-- "+b.text+" -->"+this.newline},y.prototype.declaration=function(b,w){var x;return x=this.space(w),x+='<?xml version="'+b.version+'"',b.encoding!=null&&(x+=' encoding="'+b.encoding+'"'),b.standalone!=null&&(x+=' standalone="'+b.standalone+'"'),x+=this.spacebeforeslash+"?>",x+=this.newline,x},y.prototype.docType=function(b,w){var x,T,E,C,F;if(w||(w=0),C=this.space(w),C+="<!DOCTYPE "+b.root().name,b.pubID&&b.sysID?C+=' PUBLIC "'+b.pubID+'" "'+b.sysID+'"':b.sysID&&(C+=' SYSTEM "'+b.sysID+'"'),b.children.length>0){for(C+=" [",C+=this.newline,F=b.children,T=0,E=F.length;T<E;T++)x=F[T],C+=(function(){switch(!1){case!(x instanceof t):return this.dtdAttList(x,w+1);case!(x instanceof i):return this.dtdElement(x,w+1);case!(x instanceof r):return this.dtdEntity(x,w+1);case!(x instanceof s):return this.dtdNotation(x,w+1);case!(x instanceof n):return this.cdata(x,w+1);case!(x instanceof e):return this.comment(x,w+1);case!(x instanceof u):return this.processingInstruction(x,w+1);default:throw new Error("Unknown DTD node type: "+x.constructor.name)}}).call(this);C+="]"}return C+=this.spacebeforeslash+">",C+=this.newline,C},y.prototype.element=function(b,w){var x,T,E,C,F,P,O,Y,R,V,S,K,N;w||(w=0),N=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),K=this.space(w),Y="",Y+=K+"<"+b.name,R=b.attributes;for(O in R)m.call(R,O)&&(x=R[O],Y+=this.attribute(x));if(b.children.length===0||b.children.every(function(B){return B.value===""}))this.allowEmpty?Y+="></"+b.name+">"+this.newline:Y+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&b.children.length===1&&b.children[0].value!=null)Y+=">",Y+=b.children[0].value,Y+="</"+b.name+">"+this.newline;else{if(this.dontprettytextnodes){for(V=b.children,E=0,F=V.length;E<F;E++)if(T=V[E],T.value!=null){this.textispresent++,N=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,K=this.space(w)),Y+=">"+this.newline,S=b.children,C=0,P=S.length;C<P;C++)T=S[C],Y+=(function(){switch(!1){case!(T instanceof n):return this.cdata(T,w+1);case!(T instanceof e):return this.comment(T,w+1);case!(T instanceof c):return this.element(T,w+1);case!(T instanceof h):return this.raw(T,w+1);case!(T instanceof f):return this.text(T,w+1);case!(T instanceof u):return this.processingInstruction(T,w+1);case!(T instanceof l):return"";default:throw new Error("Unknown XML node type: "+T.constructor.name)}}).call(this);N&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Y+=K+"</"+b.name+">"+this.newline}return Y},y.prototype.processingInstruction=function(b,w){var x;return x=this.space(w)+"<?"+b.target,b.value&&(x+=" "+b.value),x+=this.spacebeforeslash+"?>"+this.newline,x},y.prototype.raw=function(b,w){return this.space(w)+b.value+this.newline},y.prototype.text=function(b,w){return this.space(w)+b.value+this.newline},y.prototype.dtdAttList=function(b,w){var x;return x=this.space(w)+"<!ATTLIST "+b.elementName+" "+b.attributeName+" "+b.attributeType,b.defaultValueType!=="#DEFAULT"&&(x+=" "+b.defaultValueType),b.defaultValue&&(x+=' "'+b.defaultValue+'"'),x+=this.spacebeforeslash+">"+this.newline,x},y.prototype.dtdElement=function(b,w){return this.space(w)+"<!ELEMENT "+b.name+" "+b.value+this.spacebeforeslash+">"+this.newline},y.prototype.dtdEntity=function(b,w){var x;return x=this.space(w)+"<!ENTITY",b.pe&&(x+=" %"),x+=" "+b.name,b.value?x+=' "'+b.value+'"':(b.pubID&&b.sysID?x+=' PUBLIC "'+b.pubID+'" "'+b.sysID+'"':b.sysID&&(x+=' SYSTEM "'+b.sysID+'"'),b.nData&&(x+=" NDATA "+b.nData)),x+=this.spacebeforeslash+">"+this.newline,x},y.prototype.dtdNotation=function(b,w){var x;return x=this.space(w)+"<!NOTATION "+b.name,b.pubID&&b.sysID?x+=' PUBLIC "'+b.pubID+'" "'+b.sysID+'"':b.pubID?x+=' PUBLIC "'+b.pubID+'"':b.sysID&&(x+=' SYSTEM "'+b.sysID+'"'),x+=this.spacebeforeslash+">"+this.newline,x},y.prototype.openNode=function(b,w){var x,T,E,C;if(w||(w=0),b instanceof c){E=this.space(w)+"<"+b.name,C=b.attributes;for(T in C)m.call(C,T)&&(x=C[T],E+=this.attribute(x));return E+=(b.children?">":"/>")+this.newline,E}else return E=this.space(w)+"<!DOCTYPE "+b.rootNodeName,b.pubID&&b.sysID?E+=' PUBLIC "'+b.pubID+'" "'+b.sysID+'"':b.sysID&&(E+=' SYSTEM "'+b.sysID+'"'),E+=(b.children?" [":">")+this.newline,E},y.prototype.closeNode=function(b,w){switch(w||(w=0),!1){case!(b instanceof c):return this.space(w)+"</"+b.name+">"+this.newline;case!(b instanceof a):return this.space(w)+"]>"+this.newline}},y}(g)}).call(Oe)),L_.exports}var kU;function gW(){return kU||(kU=1,(function(){var n,e,t,i,r=function(o,a){for(var l in a)s.call(a,l)&&(o[l]=a[l]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},s={}.hasOwnProperty;i=Yl().isPlainObject,n=Li(),t=TL(),e=qE(),__.exports=function(o){r(a,o);function a(l){a.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new t(l),this.isDocument=!0}return a.prototype.end=function(l){var c;return l?i(l)&&(c=l,l=this.options.writer.set(c)):l=this.options.writer,l.document(this)},a.prototype.toString=function(l){return this.options.writer.set(l).document(this)},a}(n)}).call(Oe)),__.exports}var O_={exports:{}},RU;function mW(){return RU||(RU=1,(function(){var n,e,t,i,r,s,o,a,l,c,u,h,f,g,_,m,D,y,b,w,x={}.hasOwnProperty;w=Yl(),y=w.isObject,D=w.isFunction,b=w.isPlainObject,m=w.getValue,c=Eb(),e=Ab(),t=Cb(),h=Pb(),_=Mb(),u=Nb(),a=Sb(),l=Fb(),i=Ub(),s=Ib(),r=kb(),o=Rb(),n=xL(),g=TL(),f=qE(),O_.exports=function(){function T(E,C,F){var P;this.name="?xml",E||(E={}),E.writer?b(E.writer)&&(P=E.writer,E.writer=new f(P)):E.writer=new f(E),this.options=E,this.writer=E.writer,this.stringify=new g(E),this.onDataCallback=C||function(){},this.onEndCallback=F||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return T.prototype.node=function(E,C,F){var P,O;if(E==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(E));return this.openCurrent(),E=m(E),C===null&&F==null&&(P=[{},null],C=P[0],F=P[1]),C==null&&(C={}),C=m(C),y(C)||(O=[C,F],F=O[0],C=O[1]),this.currentNode=new c(this,E,C),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,F!=null&&this.text(F),this},T.prototype.element=function(E,C,F){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(E,C,F)},T.prototype.attribute=function(E,C){var F,P;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(E));if(E!=null&&(E=m(E)),y(E))for(F in E)x.call(E,F)&&(P=E[F],this.attribute(F,P));else D(C)&&(C=C.apply()),(!this.options.skipNullAttributes||C!=null)&&(this.currentNode.attributes[E]=new n(this,E,C));return this},T.prototype.text=function(E){var C;return this.openCurrent(),C=new _(this,E),this.onData(this.writer.text(C,this.currentLevel+1),this.currentLevel+1),this},T.prototype.cdata=function(E){var C;return this.openCurrent(),C=new e(this,E),this.onData(this.writer.cdata(C,this.currentLevel+1),this.currentLevel+1),this},T.prototype.comment=function(E){var C;return this.openCurrent(),C=new t(this,E),this.onData(this.writer.comment(C,this.currentLevel+1),this.currentLevel+1),this},T.prototype.raw=function(E){var C;return this.openCurrent(),C=new h(this,E),this.onData(this.writer.raw(C,this.currentLevel+1),this.currentLevel+1),this},T.prototype.instruction=function(E,C){var F,P,O,Y,R;if(this.openCurrent(),E!=null&&(E=m(E)),C!=null&&(C=m(C)),Array.isArray(E))for(F=0,Y=E.length;F<Y;F++)P=E[F],this.instruction(P);else if(y(E))for(P in E)x.call(E,P)&&(O=E[P],this.instruction(P,O));else D(C)&&(C=C.apply()),R=new u(this,E,C),this.onData(this.writer.processingInstruction(R,this.currentLevel+1),this.currentLevel+1);return this},T.prototype.declaration=function(E,C,F){var P;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return P=new a(this,E,C,F),this.onData(this.writer.declaration(P,this.currentLevel+1),this.currentLevel+1),this},T.prototype.doctype=function(E,C,F){if(this.openCurrent(),E==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,C,F),this.currentNode.rootNodeName=E,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},T.prototype.dtdElement=function(E,C){var F;return this.openCurrent(),F=new r(this,E,C),this.onData(this.writer.dtdElement(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.attList=function(E,C,F,P,O){var Y;return this.openCurrent(),Y=new i(this,E,C,F,P,O),this.onData(this.writer.dtdAttList(Y,this.currentLevel+1),this.currentLevel+1),this},T.prototype.entity=function(E,C){var F;return this.openCurrent(),F=new s(this,!1,E,C),this.onData(this.writer.dtdEntity(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.pEntity=function(E,C){var F;return this.openCurrent(),F=new s(this,!0,E,C),this.onData(this.writer.dtdEntity(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.notation=function(E,C){var F;return this.openCurrent(),F=new o(this,E,C),this.onData(this.writer.dtdNotation(F,this.currentLevel+1),this.currentLevel+1),this},T.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},T.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},T.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},T.prototype.openNode=function(E){if(!E.isOpen)return!this.root&&this.currentLevel===0&&E instanceof c&&(this.root=E),this.onData(this.writer.openNode(E,this.currentLevel),this.currentLevel),E.isOpen=!0},T.prototype.closeNode=function(E){if(!E.isClosed)return this.onData(this.writer.closeNode(E,this.currentLevel),this.currentLevel),E.isClosed=!0},T.prototype.onData=function(E,C){return this.documentStarted=!0,this.onDataCallback(E,C+1)},T.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},T.prototype.debugInfo=function(E){return E==null?"":"node: <"+E+">"},T.prototype.ele=function(){return this.element.apply(this,arguments)},T.prototype.nod=function(E,C,F){return this.node(E,C,F)},T.prototype.txt=function(E){return this.text(E)},T.prototype.dat=function(E){return this.cdata(E)},T.prototype.com=function(E){return this.comment(E)},T.prototype.ins=function(E,C){return this.instruction(E,C)},T.prototype.dec=function(E,C,F){return this.declaration(E,C,F)},T.prototype.dtd=function(E,C,F){return this.doctype(E,C,F)},T.prototype.e=function(E,C,F){return this.element(E,C,F)},T.prototype.n=function(E,C,F){return this.node(E,C,F)},T.prototype.t=function(E){return this.text(E)},T.prototype.d=function(E){return this.cdata(E)},T.prototype.c=function(E){return this.comment(E)},T.prototype.r=function(E){return this.raw(E)},T.prototype.i=function(E,C){return this.instruction(E,C)},T.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.ent=function(E,C){return this.entity(E,C)},T.prototype.pent=function(E,C){return this.pEntity(E,C)},T.prototype.not=function(E,C){return this.notation(E,C)},T}()}).call(Oe)),O_.exports}var W_={exports:{}},FU;function yW(){return FU||(FU=1,(function(){var n,e,t,i,r,s,o,a,l,c,u,h,f,g,_=function(D,y){for(var b in y)m.call(y,b)&&(D[b]=y[b]);function w(){this.constructor=D}return w.prototype=y.prototype,D.prototype=new w,D.__super__=y.prototype,D},m={}.hasOwnProperty;o=Sb(),a=Fb(),n=Ab(),e=Cb(),c=Eb(),h=Pb(),f=Mb(),u=Nb(),l=HE(),t=Ub(),i=kb(),r=Ib(),s=Rb(),g=EL(),W_.exports=function(D){_(y,D);function y(b,w){y.__super__.constructor.call(this,w),this.stream=b}return y.prototype.document=function(b){var w,x,T,E,C,F,P,O;for(F=b.children,x=0,E=F.length;x<E;x++)w=F[x],w.isLastRootNode=!1;for(b.children[b.children.length-1].isLastRootNode=!0,P=b.children,O=[],T=0,C=P.length;T<C;T++)if(w=P[T],!(w instanceof l))switch(!1){case!(w instanceof o):O.push(this.declaration(w));break;case!(w instanceof a):O.push(this.docType(w));break;case!(w instanceof e):O.push(this.comment(w));break;case!(w instanceof u):O.push(this.processingInstruction(w));break;default:O.push(this.element(w))}return O},y.prototype.attribute=function(b){return this.stream.write(" "+b.name+'="'+b.value+'"')},y.prototype.cdata=function(b,w){return this.stream.write(this.space(w)+"<![CDATA["+b.text+"]]>"+this.endline(b))},y.prototype.comment=function(b,w){return this.stream.write(this.space(w)+"<!-- "+b.text+" -->"+this.endline(b))},y.prototype.declaration=function(b,w){return this.stream.write(this.space(w)),this.stream.write('<?xml version="'+b.version+'"'),b.encoding!=null&&this.stream.write(' encoding="'+b.encoding+'"'),b.standalone!=null&&this.stream.write(' standalone="'+b.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(b))},y.prototype.docType=function(b,w){var x,T,E,C;if(w||(w=0),this.stream.write(this.space(w)),this.stream.write("<!DOCTYPE "+b.root().name),b.pubID&&b.sysID?this.stream.write(' PUBLIC "'+b.pubID+'" "'+b.sysID+'"'):b.sysID&&this.stream.write(' SYSTEM "'+b.sysID+'"'),b.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(b)),C=b.children,T=0,E=C.length;T<E;T++)switch(x=C[T],!1){case!(x instanceof t):this.dtdAttList(x,w+1);break;case!(x instanceof i):this.dtdElement(x,w+1);break;case!(x instanceof r):this.dtdEntity(x,w+1);break;case!(x instanceof s):this.dtdNotation(x,w+1);break;case!(x instanceof n):this.cdata(x,w+1);break;case!(x instanceof e):this.comment(x,w+1);break;case!(x instanceof u):this.processingInstruction(x,w+1);break;default:throw new Error("Unknown DTD node type: "+x.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(b))},y.prototype.element=function(b,w){var x,T,E,C,F,P,O,Y;w||(w=0),Y=this.space(w),this.stream.write(Y+"<"+b.name),P=b.attributes;for(F in P)m.call(P,F)&&(x=P[F],this.attribute(x));if(b.children.length===0||b.children.every(function(R){return R.value===""}))this.allowEmpty?this.stream.write("></"+b.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&b.children.length===1&&b.children[0].value!=null)this.stream.write(">"),this.stream.write(b.children[0].value),this.stream.write("</"+b.name+">");else{for(this.stream.write(">"+this.newline),O=b.children,E=0,C=O.length;E<C;E++)switch(T=O[E],!1){case!(T instanceof n):this.cdata(T,w+1);break;case!(T instanceof e):this.comment(T,w+1);break;case!(T instanceof c):this.element(T,w+1);break;case!(T instanceof h):this.raw(T,w+1);break;case!(T instanceof f):this.text(T,w+1);break;case!(T instanceof u):this.processingInstruction(T,w+1);break;case!(T instanceof l):break;default:throw new Error("Unknown XML node type: "+T.constructor.name)}this.stream.write(Y+"</"+b.name+">")}return this.stream.write(this.endline(b))},y.prototype.processingInstruction=function(b,w){return this.stream.write(this.space(w)+"<?"+b.target),b.value&&this.stream.write(" "+b.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(b))},y.prototype.raw=function(b,w){return this.stream.write(this.space(w)+b.value+this.endline(b))},y.prototype.text=function(b,w){return this.stream.write(this.space(w)+b.value+this.endline(b))},y.prototype.dtdAttList=function(b,w){return this.stream.write(this.space(w)+"<!ATTLIST "+b.elementName+" "+b.attributeName+" "+b.attributeType),b.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+b.defaultValueType),b.defaultValue&&this.stream.write(' "'+b.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(b))},y.prototype.dtdElement=function(b,w){return this.stream.write(this.space(w)+"<!ELEMENT "+b.name+" "+b.value),this.stream.write(this.spacebeforeslash+">"+this.endline(b))},y.prototype.dtdEntity=function(b,w){return this.stream.write(this.space(w)+"<!ENTITY"),b.pe&&this.stream.write(" %"),this.stream.write(" "+b.name),b.value?this.stream.write(' "'+b.value+'"'):(b.pubID&&b.sysID?this.stream.write(' PUBLIC "'+b.pubID+'" "'+b.sysID+'"'):b.sysID&&this.stream.write(' SYSTEM "'+b.sysID+'"'),b.nData&&this.stream.write(" NDATA "+b.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(b))},y.prototype.dtdNotation=function(b,w){return this.stream.write(this.space(w)+"<!NOTATION "+b.name),b.pubID&&b.sysID?this.stream.write(' PUBLIC "'+b.pubID+'" "'+b.sysID+'"'):b.pubID?this.stream.write(' PUBLIC "'+b.pubID+'"'):b.sysID&&this.stream.write(' SYSTEM "'+b.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(b))},y.prototype.endline=function(b){return b.isLastRootNode?"":this.newline},y}(g)}).call(Oe)),W_.exports}(function(){var n,e,t,i,r,s,o;o=Yl(),r=o.assign,s=o.isFunction,n=gW(),e=mW(),i=qE(),t=yW(),Pp.create=function(a,l,c,u){var h,f;if(a==null)throw new Error("Root element needs a name.");return u=r({},l,c,u),h=new n(u),f=h.element(a),u.headless||(h.declaration(u),(u.pubID!=null||u.sysID!=null)&&h.doctype(u)),f},Pp.begin=function(a,l,c){var u;return s(a)&&(u=[a,l],l=u[0],c=u[1],a={}),l?new e(a,l,c):new n(a)},Pp.stringWriter=function(a){return new i(a)},Pp.streamWriter=function(a,l){return new t(a,l)}}).call(Oe);var PU=Xt,vW=Pp;wL.writeString=bW;function bW(n,e){var t=PU.invert(e),i={element:s,text:_W};function r(l,c){return i[c.type](l,c)}function s(l,c){var u=l.element(o(c.name),c.attributes);c.children.forEach(function(h){r(u,h)})}function o(l){var c=/^\{(.*)\}(.*)$/.exec(l);if(c){var u=t[c[1]];return u+(u===""?"":":")+c[2]}else return l}function a(l){var c=vW.create(o(l.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return PU.forEach(e,function(u,h){var f="xmlns"+(h===""?"":":"+h);c.attribute(f,u)}),l.children.forEach(function(u){r(c,u)}),c.end()}return a(n)}function _W(n,e){n.text(e.value)}var Lb=Nf;ba.Element=Lb.Element;ba.element=Lb.element;ba.emptyElement=Lb.emptyElement;ba.text=Lb.text;ba.readString=qN.readString;ba.writeString=wL.writeString;var DW=Xt,wW=_n,xW=ba;IE.read=AL;IE.readXmlFromZipFile=EW;var TW={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function AL(n){return xW.readString(n,TW).then(function(e){return CL(e)[0]})}function EW(n,e){return n.exists(e)?n.read(e,"utf-8").then(AW).then(AL):wW.resolve(null)}function AW(n){return n.replace(/^\uFEFF/g,"")}function CL(n){return n.type==="element"?n.name==="mc:AlternateContent"?n.firstOrEmpty("mc:Fallback").children:(n.children=DW.flatten(n.children.map(CL,!0)),[n]):[n]}var zE={},Pl={},GE={};Object.defineProperty(GE,"__esModule",{value:!0});var CW=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];GE.default=CW;var SW=Oe&&Oe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.hex=Pl.dec=Pl.codePoint=void 0;var UW=SW(GE),SL={},IW=String.fromCodePoint?String.fromCodePoint:PW;for(var V_=0,MU=UW.default;V_<MU.length;V_++){var H_=MU[V_],NU=parseInt(H_["Unicode dec"],10),kW={codePoint:NU,string:IW(NU)};SL[H_["Typeface name"].toUpperCase()+"_"+H_["Dingbat dec"]]=kW}function $E(n,e){return SL[n.toUpperCase()+"_"+e]}Pl.codePoint=$E;function RW(n,e){return $E(n,parseInt(e,10))}Pl.dec=RW;function FW(n,e){return $E(n,parseInt(e,16))}Pl.hex=FW;function PW(n){if(n<=65535)return String.fromCharCode(n);var e=Math.floor((n-65536)/1024)+55296,t=(n-65536)%1024+56320;return String.fromCharCode(e,t)}var Kl={},LU=Xt;Kl.paragraph=MW;Kl.run=NW;Kl._elements=UL;Kl._elementsOfType=XE;Kl.getDescendantsOfType=LW;Kl.getDescendants=IL;function MW(n){return XE("paragraph",n)}function NW(n){return XE("run",n)}function XE(n,e){return UL(function(t){return t.type===n?e(t):t})}function UL(n){return function e(t){if(t.children){var i=LU.map(t.children,e);t=LU.extend(t,{children:i})}return n(t)}}function LW(n,e){return IL(n).filter(function(t){return t.type===e})}function IL(n){var e=[];return kL(n,function(t){e.push(t)}),e}function kL(n,e){n.children&&n.children.forEach(function(t){kL(t,e),e(t)})}var YE={};YE.uriToZipEntryName=BW;YE.replaceFragment=OW;function BW(n,e){return e.charAt(0)==="/"?e.substr(1):n+"/"+e}function OW(n,e){var t=n.indexOf("#");return t!==-1&&(n=n.substring(0,t)),n+"#"+e}zE.createBodyReader=VW;zE._readNumberingProperties=FL;var BU=Pl,Mr=Xt,Dt=He,RL=mr.Result,uo=mr.warning,WW=ba,OU=Kl,WU=YE;function VW(n){return{readXmlElement:function(e){return new VU(n).readXmlElement(e)},readXmlElements:function(e){return new VU(n).readXmlElements(e)}}}function VU(n){var e=[],t=[],i=[],r=n.relationships,s=n.contentTypes,o=n.docxFile,a=n.files,l=n.numbering,c=n.styles;function u(j){var ae=j.map(h);return HU(ae)}function h(j){if(j.type==="element"){var ae=N[j.name];if(ae)return ae(j);if(!Object.prototype.hasOwnProperty.call(qW,j.name)){var U=uo("An unrecognised element was ignored: "+j.name);return op([U])}}return td()}function f(j){return w(j).map(function(ae){return{type:"paragraphProperties",styleId:ae.styleId,styleName:ae.name,alignment:j.firstOrEmpty("w:jc").attributes["w:val"],numbering:FL(ae.styleId,j.firstOrEmpty("w:numPr"),l),indent:g(j.firstOrEmpty("w:ind"))}})}function g(j){return{start:j.attributes["w:start"]||j.attributes["w:left"],end:j.attributes["w:end"]||j.attributes["w:right"],firstLine:j.attributes["w:firstLine"],hanging:j.attributes["w:hanging"]}}function _(j){return x(j).map(function(ae){var U=j.firstOrEmpty("w:sz").attributes["w:val"],ne=/^[0-9]+$/.test(U)?parseInt(U,10)/2:null;return{type:"runProperties",styleId:ae.styleId,styleName:ae.name,verticalAlignment:j.firstOrEmpty("w:vertAlign").attributes["w:val"],font:j.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:ne,isBold:D(j.first("w:b")),isUnderline:m(j.first("w:u")),isItalic:D(j.first("w:i")),isStrikethrough:D(j.first("w:strike")),isAllCaps:D(j.first("w:caps")),isSmallCaps:D(j.first("w:smallCaps")),highlight:b(j.firstOrEmpty("w:highlight").attributes["w:val"])}})}function m(j){if(j){var ae=j.attributes["w:val"];return ae!==void 0&&ae!=="false"&&ae!=="0"&&ae!=="none"}else return!1}function D(j){if(j){var ae=j.attributes["w:val"];return ae!=="false"&&ae!=="0"}else return!1}function y(j){return j!=="false"&&j!=="0"}function b(j){return!j||j==="none"?null:j}function w(j){return E(j,"w:pStyle","Paragraph",c.findParagraphStyleById)}function x(j){return E(j,"w:rStyle","Run",c.findCharacterStyleById)}function T(j){return E(j,"w:tblStyle","Table",c.findTableStyleById)}function E(j,ae,U,ne){var ee=[],q=j.first(ae),W=null,Q=null;if(q&&(W=q.attributes["w:val"],W)){var oe=ne(W);oe?Q=oe.name:ee.push(Le(U,W))}return gv({styleId:W,name:Q},ee)}function C(j){var ae=j.attributes["w:fldCharType"];if(ae==="begin")e.push({type:"begin",fldChar:j}),t=[];else if(ae==="end"){var U=e.pop();if(U.type==="begin"&&(U=P(U)),U.type==="checkbox")return Bi(Dt.checkbox({checked:U.checked}))}else if(ae==="separate"){var ne=e.pop(),ee=P(ne);e.push(ee)}return td()}function F(){var j=Mr.last(e.filter(function(ae){return ae.type==="hyperlink"}));return j?j.options:null}function P(j){return O(t.join(""),j.type==="begin"?j.fldChar:WW.emptyElement)}function O(j,ae){var U=/\s*HYPERLINK "(.*)"/.exec(j);if(U)return{type:"hyperlink",options:{href:U[1]}};var ne=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(j);if(ne)return{type:"hyperlink",options:{anchor:ne[1]}};var ee=/\s*FORMCHECKBOX\s*/.exec(j);if(ee){var q=ae.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),W=q.first("w:checked"),Q=W==null?D(q.first("w:default")):D(W);return{type:"checkbox",checked:Q}}return{type:"unknown"}}function Y(j){return t.push(j.text()),td()}function R(j){var ae=j.attributes["w:font"],U=j.attributes["w:char"],ne=BU.hex(ae,U);return ne==null&&/^F0..$/.test(U)&&(ne=BU.hex(ae,U.substring(2))),ne==null?op([uo("A w:sym element with an unsupported character was ignored: char "+U+" in font "+ae)]):Bi(new Dt.Text(ne.string))}function V(j){return function(ae){var U=ae.attributes["w:id"];return Bi(new Dt.NoteReference({noteType:j,noteId:U}))}}function S(j){return Bi(Dt.commentReference({commentId:j.attributes["w:id"]}))}function K(j){return u(j.children)}var N={"w:p":function(j){var ae=j.firstOrEmpty("w:pPr"),U=!!ae.firstOrEmpty("w:rPr").first("w:del");if(U)return j.children.forEach(function(ee){i.push(ee)}),td();var ne=j.children;return i.length>0&&(ne=i.concat(ne),i=[]),Pn.map(f(ae),u(ne),function(ee,q){return new Dt.Paragraph(q,ee)}).insertExtra()},"w:r":function(j){return Pn.map(_(j.firstOrEmpty("w:rPr")),u(j.children),function(ae,U){var ne=F();return ne!==null&&(U=[new Dt.Hyperlink(U,ne)]),new Dt.Run(U,ae)})},"w:fldChar":C,"w:instrText":Y,"w:t":function(j){return Bi(new Dt.Text(j.text()))},"w:tab":function(j){return Bi(new Dt.Tab)},"w:noBreakHyphen":function(){return Bi(new Dt.Text(""))},"w:softHyphen":function(j){return Bi(new Dt.Text(""))},"w:sym":R,"w:hyperlink":function(j){var ae=j.attributes["r:id"],U=j.attributes["w:anchor"];return u(j.children).map(function(ne){function ee(W){var Q=j.attributes["w:tgtFrame"]||null;return new Dt.Hyperlink(ne,Mr.extend({targetFrame:Q},W))}if(ae){var q=r.findTargetByRelationshipId(ae);return U&&(q=WU.replaceFragment(q,U)),ee({href:q})}else return U?ee({anchor:U}):ne})},"w:tbl":B,"w:tr":L,"w:tc":X,"w:footnoteReference":V("footnote"),"w:endnoteReference":V("endnote"),"w:commentReference":S,"w:br":function(j){var ae=j.attributes["w:type"];return ae==null||ae==="textWrapping"?Bi(Dt.lineBreak):ae==="page"?Bi(Dt.pageBreak):ae==="column"?Bi(Dt.columnBreak):op([uo("Unsupported break type: "+ae)])},"w:bookmarkStart":function(j){var ae=j.attributes["w:name"];return ae==="_GoBack"?td():Bi(new Dt.BookmarkStart({name:ae}))},"mc:AlternateContent":function(j){return K(j.firstOrEmpty("mc:Fallback"))},"w:sdt":function(j){var ae=u(j.firstOrEmpty("w:sdtContent").children);return ae.map(function(U){var ne=j.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(ne){var ee=ne.first("wordml:checked"),q=!!ee&&y(ee.attributes["wordml:val"]),W=Dt.checkbox({checked:q}),Q=!1,oe=U.map(OU._elementsOfType(Dt.types.text,function(le){return le.value.length>0&&!Q?(Q=!0,W):le}));return Q?oe:W}else return U})},"w:ins":K,"w:object":K,"w:smartTag":K,"w:drawing":K,"w:pict":function(j){return K(j).toExtra()},"v:roundrect":K,"v:shape":K,"v:textbox":K,"w:txbxContent":K,"wp:inline":ie,"wp:anchor":ie,"v:imagedata":_e,"v:group":K,"v:rect":K};return{readXmlElement:h,readXmlElements:u};function B(j){var ae=M(j.firstOrEmpty("w:tblPr"));return u(j.children).flatMap(z).flatMap(function(U){return ae.map(function(ne){return Dt.Table(U,ne)})})}function M(j){return T(j).map(function(ae){return{styleId:ae.styleId,styleName:ae.name}})}function L(j){var ae=j.firstOrEmpty("w:trPr"),U=!!ae.first("w:del");if(U)return td();var ne=!!ae.first("w:tblHeader");return u(j.children).map(function(ee){return Dt.TableRow(ee,{isHeader:ne})})}function X(j){return u(j.children).map(function(ae){var U=j.firstOrEmpty("w:tcPr"),ne=U.firstOrEmpty("w:gridSpan").attributes["w:val"],ee=ne?parseInt(ne,10):1,q=Dt.TableCell(ae,{colSpan:ee});return q._vMerge=H(U),q})}function H(j){var ae=j.first("w:vMerge");if(ae){var U=ae.attributes["w:val"];return U==="continue"||!U}else return null}function z(j){var ae=Mr.any(j,function(ee){return ee.type!==Dt.types.tableRow});if(ae)return G(j),gv(j,[uo("unexpected non-row element in table, cell merging may be incorrect")]);var U=Mr.any(j,function(ee){return Mr.any(ee.children,function(q){return q.type!==Dt.types.tableCell})});if(U)return G(j),gv(j,[uo("unexpected non-cell element in table row, cell merging may be incorrect")]);var ne={};return j.forEach(function(ee){var q=0;ee.children.forEach(function(W){W._vMerge&&ne[q]?ne[q].rowSpan++:(ne[q]=W,W._vMerge=!1),q+=W.colSpan})}),j.forEach(function(ee){ee.children=ee.children.filter(function(q){return!q._vMerge}),ee.children.forEach(function(q){delete q._vMerge})}),Bi(j)}function G(j){j.forEach(function(ae){var U=OU.getDescendantsOfType(ae,Dt.types.tableCell);U.forEach(function(ne){delete ne._vMerge})})}function ie(j){var ae=j.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return HU(ae.map(re.bind(null,j)))}function re(j,ae){var U=j.first("wp:docPr").attributes,ne=ce(U.descr)?U.title:U.descr,ee=de(ae);return ee===null?op([uo("Could not find image file for a:blip element")]):Me(ee,ne)}function ce(j){return j==null||/^\s*$/.test(j)}function de(j){var ae=j.attributes["r:embed"],U=j.attributes["r:link"];if(ae)return Te(ae);if(U){var ne=r.findTargetByRelationshipId(U);return{path:ne,read:a.read.bind(a,ne)}}else return null}function _e(j){var ae=j.attributes["r:id"];return ae?Me(Te(ae),j.attributes["o:title"]):op([uo("A v:imagedata element without a relationship ID was ignored")])}function Te(j){var ae=WU.uriToZipEntryName("word",r.findTargetByRelationshipId(j));return{path:ae,read:o.read.bind(o,ae)}}function Me(j,ae){var U=s.findContentType(j.path),ne=Dt.Image({readImage:j.read,altText:ae,contentType:U}),ee=HW[U]?[]:uo("Image of type "+U+" is unlikely to display in web browsers");return gv(ne,ee)}function Le(j,ae){return uo(j+" style with ID "+ae+" was referenced but not defined in the document")}}function FL(n,e,t){var i=e.firstOrEmpty("w:ilvl").attributes["w:val"],r=e.firstOrEmpty("w:numId").attributes["w:val"];if(i!==void 0&&r!==void 0)return t.findLevel(r,i);if(n!=null){var s=t.findLevelByParagraphStyleId(n);if(s!=null)return s}return r!==void 0?t.findLevel(r,"0"):null}var HW={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},qW={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function op(n){return new Pn(null,null,n)}function td(){return new Pn(null)}function Bi(n){return new Pn(n)}function gv(n,e){return new Pn(n,null,e)}function Pn(n,e,t){this.value=n||[],this.extra=e||[],this._result=new RL({element:this.value,extra:e},t),this.messages=this._result.messages}Pn.prototype.toExtra=function(){return new Pn(null,Bb(this.extra,this.value),this.messages)};Pn.prototype.insertExtra=function(){var n=this.extra;return n&&n.length?new Pn(Bb(this.value,n),null,this.messages):this};Pn.prototype.map=function(n){var e=this._result.map(function(t){return n(t.element)});return new Pn(e.value,this.extra,e.messages)};Pn.prototype.flatMap=function(n){var e=this._result.flatMap(function(t){return n(t.element)._result});return new Pn(e.value.element,Bb(this.extra,e.value.extra),e.messages)};Pn.map=function(n,e,t){return new Pn(t(n.value,e.value),Bb(n.extra,e.extra),n.messages.concat(e.messages))};function HU(n){var e=RL.combine(Mr.pluck(n,"_result"));return new Pn(Mr.flatten(Mr.pluck(e.value,"element")),Mr.filter(Mr.flatten(Mr.pluck(e.value,"extra")),zW),e.messages)}function Bb(n,e){return Mr.flatten([n,e])}function zW(n){return n}var PL={};PL.DocumentXmlReader=XW;var GW=He,$W=mr.Result;function XW(n){var e=n.bodyReader;function t(i){var r=i.first("w:body");if(r==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var s=e.readXmlElements(r.children).map(function(o){return new GW.Document(o,{notes:n.notes,comments:n.comments})});return new $W(s.value,s.messages)}return{convertXmlToDocument:t}}var Ob={};Ob.readRelationships=YW;Ob.defaultValue=new KE([]);Ob.Relationships=KE;function YW(n){var e=[];return n.children.forEach(function(t){if(t.name==="relationships:Relationship"){var i={relationshipId:t.attributes.Id,target:t.attributes.Target,type:t.attributes.Type};e.push(i)}}),new KE(e)}function KE(n){var e={};n.forEach(function(i){e[i.relationshipId]=i.target});var t={};return n.forEach(function(i){t[i.type]||(t[i.type]=[]),t[i.type].push(i.target)}),{findTargetByRelationshipId:function(i){return e[i]},findTargetsByType:function(i){return t[i]||[]}}}var JE={};JE.readContentTypesFromXml=JW;var KW={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};JE.defaultContentTypes=ML({},{});function JW(n){var e={},t={};return n.children.forEach(function(i){if(i.name==="content-types:Default"&&(e[i.attributes.Extension]=i.attributes.ContentType),i.name==="content-types:Override"){var r=i.attributes.PartName;r.charAt(0)==="/"&&(r=r.substring(1)),t[r]=i.attributes.ContentType}}),ML(t,e)}function ML(n,e){return{findContentType:function(t){var i=n[t];if(i)return i;var r=t.split("."),s=r[r.length-1];if(e.hasOwnProperty(s))return e[s];var o=KW[s.toLowerCase()];return o?"image/"+o:null}}}var Wb={},mv=Xt;Wb.readNumberingXml=QW;Wb.Numbering=QE;Wb.defaultNumbering=new QE({},{});function QE(n,e,t){var i=mv.flatten(mv.values(e).map(function(a){return mv.values(a.levels)})),r=mv.indexBy(i.filter(function(a){return a.paragraphStyleId!=null}),"paragraphStyleId");function s(a,l){var c=n[a];if(c){var u=e[c.abstractNumId];if(u){if(u.numStyleLink==null)return e[c.abstractNumId].levels[l];var h=t.findNumberingStyleById(u.numStyleLink);return s(h.numId,l)}else return null}else return null}function o(a){return r[a]||null}return{findLevel:s,findLevelByParagraphStyleId:o}}function QW(n,e){if(!e||!e.styles)throw new Error("styles is missing");var t=ZW(n),i=eV(n);return new QE(i,t,e.styles)}function ZW(n){var e={};return n.getElementsByTagName("w:abstractNum").forEach(function(t){var i=t.attributes["w:abstractNumId"];e[i]=jW(t)}),e}function jW(n){var e={},t=null;n.getElementsByTagName("w:lvl").forEach(function(r){var s=r.attributes["w:ilvl"],o=r.firstOrEmpty("w:numFmt").attributes["w:val"],a=o!=="bullet",l=r.firstOrEmpty("w:pStyle").attributes["w:val"];s===void 0?t={isOrdered:a,level:"0",paragraphStyleId:l}:e[s]={isOrdered:a,level:s,paragraphStyleId:l}}),t!==null&&e[t.level]===void 0&&(e[t.level]=t);var i=n.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:e,numStyleLink:i}}function eV(n){var e={};return n.getElementsByTagName("w:num").forEach(function(t){var i=t.attributes["w:numId"],r=t.first("w:abstractNumId").attributes["w:val"];e[i]={abstractNumId:r}}),e}var Vb={};Vb.readStylesXml=tV;Vb.Styles=Tg;Vb.defaultStyles=new Tg({},{});function Tg(n,e,t,i){return{findParagraphStyleById:function(r){return n[r]},findCharacterStyleById:function(r){return e[r]},findTableStyleById:function(r){return t[r]},findNumberingStyleById:function(r){return i[r]}}}Tg.EMPTY=new Tg({},{},{},{});function tV(n){var e={},t={},i={},r={},s={paragraph:e,character:t,table:i,numbering:r};return n.getElementsByTagName("w:style").forEach(function(o){var a=nV(o),l=s[a.type];l&&l[a.styleId]===void 0&&(l[a.styleId]=a)}),new Tg(e,t,i,r)}function nV(n){var e=n.attributes["w:type"];if(e==="numbering")return rV(e,n);var t=NL(n),i=iV(n);return{type:e,styleId:t,name:i}}function iV(n){var e=n.first("w:name");return e?e.attributes["w:val"]:null}function rV(n,e){var t=NL(e),i=e.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:n,numId:i,styleId:t}}function NL(n){return n.attributes["w:styleId"]}var ZE={},sV=He,oV=mr.Result;ZE.createFootnotesReader=LL.bind(Oe,"footnote");ZE.createEndnotesReader=LL.bind(Oe,"endnote");function LL(n,e){function t(s){return oV.combine(s.getElementsByTagName("w:"+n).filter(i).map(r))}function i(s){var o=s.attributes["w:type"];return o!=="continuationSeparator"&&o!=="separator"}function r(s){var o=s.attributes["w:id"];return e.readXmlElements(s.children).map(function(a){return sV.Note({noteType:n,noteId:o,body:a})})}return t}var BL={},aV=He,lV=mr.Result;function cV(n){function e(i){return lV.combine(i.getElementsByTagName("w:comment").map(t))}function t(i){var r=i.attributes["w:id"];function s(o){return(i.attributes[o]||"").trim()||null}return n.readXmlElements(i.children).map(function(o){return aV.comment({commentId:r,body:o,authorName:s("w:author"),authorInitials:s("w:initials")})})}return e}BL.createCommentsReader=cV;var OL={},uV=_n;OL.Files=dV;function dV(){function n(e){return uV.reject(new Error("could not open external image: '"+e+`'
cannot open linked files from a web browser`))}return{read:n}}CE.read=vV;CE._findPartPaths=VL;var hV=_n,fV=He,q_=mr.Result,h1=Ry,WL=IE.readXmlFromZipFile,pV=zE.createBodyReader,gV=PL.DocumentXmlReader,Uf=Ob,qU=JE,zU=Wb,GU=Vb,$U=ZE,mV=BL,yV=OL.Files;function vV(n,e,t){e=e||{},t=t||{};var i=new yV({externalFileAccess:t.externalFileAccess,relativeToFile:e.path});return hV.props({contentTypes:_V(n),partPaths:VL(n),docxFile:n,files:i}).also(function(r){return{styles:wV(n,r.partPaths.styles)}}).also(function(r){return{numbering:DV(n,r.partPaths.numbering,r.styles)}}).also(function(r){return{footnotes:yv(r.partPaths.footnotes,r,function(s,o){return o?$U.createFootnotesReader(s)(o):new q_([])}),endnotes:yv(r.partPaths.endnotes,r,function(s,o){return o?$U.createEndnotesReader(s)(o):new q_([])}),comments:yv(r.partPaths.comments,r,function(s,o){return o?mV.createCommentsReader(s)(o):new q_([])})}}).also(function(r){return{notes:r.footnotes.flatMap(function(s){return r.endnotes.map(function(o){return new fV.Notes(s.concat(o))})})}}).then(function(r){return yv(r.partPaths.mainDocument,r,function(s,o){return r.notes.flatMap(function(a){return r.comments.flatMap(function(l){var c=new gV({bodyReader:s,notes:a,comments:l});return c.convertXmlToDocument(o)})})})})}function VL(n){return xV(n).then(function(e){var t=XU({docxFile:n,relationships:e,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!n.exists(t))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return Bf({filename:HL(t),readElement:Uf.readRelationships,defaultValue:Uf.defaultValue})(n).then(function(i){function r(s){return XU({docxFile:n,relationships:i,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+s,basePath:h1.splitPath(t).dirname,fallbackPath:"word/"+s+".xml"})}return{mainDocument:t,comments:r("comments"),endnotes:r("endnotes"),footnotes:r("footnotes"),numbering:r("numbering"),styles:r("styles")}})})}function XU(n){var e=n.docxFile,t=n.relationships,i=n.relationshipType,r=n.basePath,s=n.fallbackPath,o=t.findTargetsByType(i),a=o.map(function(c){return bV(h1.joinPath(r,c),"/")}),l=a.filter(function(c){return e.exists(c)});return l.length===0?s:l[0]}function bV(n,e){return n.substring(0,e.length)===e?n.substring(e.length):n}function Bf(n){return function(e){return WL(e,n.filename).then(function(t){return t?n.readElement(t):n.defaultValue})}}function yv(n,e,t){var i=Bf({filename:HL(n),readElement:Uf.readRelationships,defaultValue:Uf.defaultValue});return i(e.docxFile).then(function(r){var s=new pV({relationships:r,contentTypes:e.contentTypes,docxFile:e.docxFile,numbering:e.numbering,styles:e.styles,files:e.files});return WL(e.docxFile,n).then(function(o){return t(s,o)})})}function HL(n){var e=h1.splitPath(n);return h1.joinPath(e.dirname,"_rels",e.basename+".rels")}var _V=Bf({filename:"[Content_Types].xml",readElement:qU.readContentTypesFromXml,defaultValue:qU.defaultContentTypes});function DV(n,e,t){return Bf({filename:e,readElement:function(i){return zU.readNumberingXml(i,{styles:t})},defaultValue:zU.defaultNumbering})(n)}function wV(n,e){return Bf({filename:e,readElement:GU.readStylesXml,defaultValue:GU.defaultStyles})(n)}var xV=Bf({filename:"_rels/.rels",readElement:Uf.readRelationships,defaultValue:Uf.defaultValue}),jE={},TV=Xt,EV=_n,Eg=ba;jE.writeStyleMap=CV;jE.readStyleMap=IV;var AV="http://schemas.zwobble.org/mammoth/style-map",f1="mammoth/style-map",qL="/"+f1;function CV(n,e){return n.write(f1,e),SV(n).then(function(){return UV(n)})}function SV(n){var e="word/_rels/document.xml.rels",t="http://schemas.openxmlformats.org/package/2006/relationships",i="{"+t+"}Relationship";return n.read(e,"utf8").then(Eg.readString).then(function(r){var s=r.children;zL(s,i,"Id",{Id:"rMammothStyleMap",Type:AV,Target:qL});var o={"":t};return n.write(e,Eg.writeString(r,o))})}function UV(n){var e="[Content_Types].xml",t="http://schemas.openxmlformats.org/package/2006/content-types",i="{"+t+"}Override";return n.read(e,"utf8").then(Eg.readString).then(function(r){var s=r.children;zL(s,i,"PartName",{PartName:qL,ContentType:"text/prs.mammoth.style-map"});var o={"":t};return n.write(e,Eg.writeString(r,o))})}function zL(n,e,t,i){var r=TV.find(n,function(s){return s.name===e&&s.attributes[t]===i[t]});r?r.attributes=i:n.push(Eg.element(e,i))}function IV(n){return n.exists(f1)?n.read(f1,"utf8"):EV.resolve(null)}var eA={},Ql={},ho={},Ea={},YU;function GL(){if(YU)return Ea;YU=1;var n=qb();function e(l,c,u){return i(n.element(l,c,{fresh:!1}),u)}function t(l,c,u){var h=n.element(l,c,{fresh:!0});return i(h,u)}function i(l,c){return{type:"element",tag:l,children:c||[]}}function r(l){return{type:"text",value:l}}var s={type:"forceWrite"};Ea.freshElement=t,Ea.nonFreshElement=e,Ea.elementWithTag=i,Ea.text=r,Ea.forceWrite=s;var o={br:!0,hr:!0,img:!0,input:!0};function a(l){return l.children.length===0&&o[l.tag.tagName]}return Ea.isVoidElement=a,Ea}var z_,KU;function kV(){if(KU)return z_;KU=1;var n=Xt,e=GL();function t(m){return i(c(m))}function i(m){var D=[];return m.map(r).forEach(function(y){l(D,y)}),D}function r(m){return s[m.type](m)}var s={element:o,text:a,forceWrite:a};function o(m){return e.elementWithTag(m.tag,i(m.children))}function a(m){return m}function l(m,D){var y=m[m.length-1];D.type==="element"&&!D.tag.fresh&&y&&y.type==="element"&&D.tag.matchesElement(y.tag)?(D.tag.separator&&l(y.children,e.text(D.tag.separator)),D.children.forEach(function(b){l(y.children,b)})):m.push(D)}function c(m){return u(m,function(D){return h[D.type](D)})}function u(m,D){return n.flatten(n.map(m,D),!0)}var h={element:g,text:_,forceWrite:f};function f(m){return[m]}function g(m){var D=c(m.children);return D.length===0&&!e.isVoidElement(m)?[]:[e.elementWithTag(m.tag,D)]}function _(m){return m.value.length===0?[]:[m]}return z_=t,z_}var JU;function Hb(){if(JU)return ho;JU=1;var n=GL();ho.freshElement=n.freshElement,ho.nonFreshElement=n.nonFreshElement,ho.elementWithTag=n.elementWithTag,ho.text=n.text,ho.forceWrite=n.forceWrite,ho.simplify=kV();function e(o,a){a.forEach(function(l){t(o,l)})}function t(o,a){i[a.type](o,a)}var i={element:r,text:s,forceWrite:function(){}};function r(o,a){n.isVoidElement(a)?o.selfClosing(a.tag.tagName,a.tag.attributes):(o.open(a.tag.tagName,a.tag.attributes),e(o,a.children),o.close(a.tag.tagName))}function s(o,a){o.text(a.value)}return ho.write=e,ho}var QU;function qb(){if(QU)return Ql;QU=1;var n=Xt,e=Hb();Ql.topLevelElement=t,Ql.elements=i,Ql.element=s;function t(a,l){return i([s(a,l,{fresh:!0})])}function i(a){return new r(a.map(function(l){return n.isString(l)?s(l):l}))}function r(a){this._elements=a}r.prototype.wrap=function(l){for(var c=l(),u=this._elements.length-1;u>=0;u--)c=this._elements[u].wrapNodes(c);return c};function s(a,l,c){return c=c||{},new o(a,l,c)}function o(a,l,c){var u={};n.isArray(a)?(a.forEach(function(h){u[h]=!0}),a=a[0]):u[a]=!0,this.tagName=a,this.tagNames=u,this.attributes=l||{},this.fresh=c.fresh,this.separator=c.separator}return o.prototype.matchesElement=function(a){return this.tagNames[a.tagName]&&n.isEqual(this.attributes||{},a.attributes||{})},o.prototype.wrap=function(l){return this.wrapNodes(l())},o.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},Ql.empty=i([]),Ql.ignore={wrap:function(){return[]}},Ql}var tA={};(function(n){var e=Xt,t=_n,i=Hb();n.imgElement=r;function r(s){return function(o,a){return t.when(s(o)).then(function(l){var c={};return o.altText&&(c.alt=o.altText),e.extend(c,l),[i.freshElement("img",c)]})}}n.inline=n.imgElement,n.dataUri=r(function(s){return s.readAsBase64String().then(function(o){return{src:"data:"+s.contentType+";base64,"+o}})})})(tA);var $L={},XL={},YL=Xt;XL.writer=RV;function RV(n){return n=n||{},n.prettyPrint?FV():KL()}var vv={div:!0,p:!0,ul:!0,li:!0};function FV(){var n=0,e="  ",t=[],i=!0,r=!1,s=KL();function o(_,m){vv[_]&&f(),t.push(_),s.open(_,m),vv[_]&&n++,i=!1}function a(_){vv[_]&&(n--,f()),t.pop(),s.close(_)}function l(_){h();var m=g()?_:_.replace(`
`,`
`+e);s.text(m)}function c(_,m){f(),s.selfClosing(_,m)}function u(){return t.length===0||vv[t[t.length-1]]}function h(){r||(f(),r=!0)}function f(){if(r=!1,!i&&u()&&!g()){s._append(`
`);for(var _=0;_<n;_++)s._append(e)}}function g(){return YL.some(t,function(_){return _==="pre"})}return{asString:s.asString,open:o,close:a,text:l,selfClosing:c}}function KL(){var n=[];function e(l,c){var u=r(c);n.push("<"+l+u+">")}function t(l){n.push("</"+l+">")}function i(l,c){var u=r(c);n.push("<"+l+u+" />")}function r(l){return YL.map(l,function(c,u){return" "+u+'="'+MV(c)+'"'}).join("")}function s(l){n.push(PV(l))}function o(l){n.push(l)}function a(){return n.join("")}return{asString:a,open:e,close:t,text:s,selfClosing:i,_append:o}}function PV(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function MV(n){return n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var JL={},NV=Xt;function ZU(n){return p1(n,n)}function p1(n,e){return function(){return{start:n,end:e}}}function LV(n){var e=n.href||"";return e?{start:"[",end:"]("+e+")",anchorPosition:"before"}:{}}function BV(n){var e=n.src||"",t=n.alt||"";return e||t?{start:"!["+t+"]("+e+")"}:{}}function jU(n){return function(e,t){return{start:t?`
`:"",end:t?"":`
`,list:{isOrdered:n.isOrdered,indent:t?t.indent+1:0,count:0}}}}function OV(n,e,t){e=e||{indent:0,isOrdered:!1,count:0},e.count++,t.hasClosed=!1;var i=e.isOrdered?e.count+".":"-",r=ZL("	",e.indent)+i+" ";return{start:r,end:function(){if(!t.hasClosed)return t.hasClosed=!0,`
`}}}var QL={p:p1("",`

`),br:p1("",`  
`),ul:jU({isOrdered:!1}),ol:jU({isOrdered:!0}),li:OV,strong:ZU("__"),em:ZU("*"),a:LV,img:BV};(function(){for(var n=1;n<=6;n++)QL["h"+n]=p1(ZL("#",n)+" ",`

`)})();function ZL(n,e){return new Array(e+1).join(n)}function WV(){var n=[],e=[],t=null,i={};function r(u,h){h=h||{};var f=QL[u]||function(){return{}},g=f(h,t,i);e.push({end:g.end,list:t}),g.list&&(t=g.list);var _=g.anchorPosition==="before";_&&s(h),n.push(g.start||""),_||s(h)}function s(u){u.id&&n.push('<a id="'+u.id+'"></a>')}function o(u){var h=e.pop();t=h.list;var f=NV.isFunction(h.end)?h.end():h.end;n.push(f||"")}function a(u,h){r(u,h),o()}function l(u){n.push(VV(u))}function c(){return n.join("")}return{asString:c,open:r,close:o,text:l,selfClosing:a}}JL.writer=WV;function VV(n){return n.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}var HV=XL,qV=JL;$L.writer=zV;function zV(n){return n=n||{},n.outputFormat==="markdown"?qV.writer():HV.writer(n)}var Ua=Xt,eI=_n,m0=He,br=qb(),Tx=mr,GV=tA,ze=Hb(),$V=$L;eA.DocumentConverter=XV;function XV(n){return{convertToHtml:function(e){var t=Ua.indexBy(e.type===m0.types.document?e.comments:[],"commentId"),i=new YV(n,t);return i.convertToHtml(e)}}}function YV(n,e){var t=1,i=[],r=[];n=Ua.extend({ignoreEmptyParagraphs:!0},n);var s=n.idPrefix===void 0?"":n.idPrefix,o=n.ignoreEmptyParagraphs,a=br.topLevelElement("p"),l=n.styleMap||[];function c(M){var L=[],X=h(M,L,{}),H=[];jL(X,function(G){G.type==="deferred"&&H.push(G)});var z={};return eI.mapSeries(H,function(G){return G.value().then(function(ie){z[G.id]=ie})}).then(function(){function G(re){return G_(re,function(ce){return ce.type==="deferred"?z[ce.id]:ce.children?[Ua.extend({},ce,{children:G(ce.children)})]:[ce]})}var ie=$V.writer({prettyPrint:n.prettyPrint,outputFormat:n.outputFormat});return ze.write(ie,ze.simplify(G(X))),new Tx.Result(ie.asString(),L)})}function u(M,L,X){return G_(M,function(H){return h(H,L,X)})}function h(M,L,X){if(!X)throw new Error("options not set");var H=B[M.type];return H?H(M,L,X):[]}function f(M,L,X){return g(M,L).wrap(function(){var H=u(M.children,L,X);return o?H:[ze.forceWrite].concat(H)})}function g(M,L){var X=y(M);return X?X.to:(M.styleId&&L.push(tI("paragraph",M)),a)}function _(M,L,X){var H=function(){return u(M.children,L,X)},z=[];if(M.highlight!==null){var G=D({type:"highlight",color:M.highlight});G&&z.push(G)}M.isSmallCaps&&z.push(m("smallCaps")),M.isAllCaps&&z.push(m("allCaps")),M.isStrikethrough&&z.push(m("strikethrough","s")),M.isUnderline&&z.push(m("underline")),M.verticalAlignment===m0.verticalAlignment.subscript&&z.push(br.element("sub",{},{fresh:!1})),M.verticalAlignment===m0.verticalAlignment.superscript&&z.push(br.element("sup",{},{fresh:!1})),M.isItalic&&z.push(m("italic","em")),M.isBold&&z.push(m("bold","strong"));var ie=br.empty,re=y(M);return re?ie=re.to:M.styleId&&L.push(tI("run",M)),z.push(ie),z.forEach(function(ce){H=ce.wrap.bind(ce,H)}),H()}function m(M,L){var X=D({type:M});return X||(L?br.element(L,{},{fresh:!1}):br.empty)}function D(M,L){var X=y(M);return X?X.to:L}function y(M){for(var L=0;L<l.length;L++)if(l[L].from.matches(M))return l[L]}function b(M){return function(L,X){return eI.attempt(function(){return M(L,X)}).caught(function(H){return X.push(Tx.error(H)),[]})}}function w(M){return T(M.noteType,M.noteId)}function x(M){return E(M.noteType,M.noteId)}function T(M,L){return C(M+"-"+L)}function E(M,L){return C(M+"-ref-"+L)}function C(M){return s+M}var F=br.elements([br.element("table",{},{fresh:!0})]);function P(M,L,X){return D(M,F).wrap(function(){return O(M,L,X)})}function O(M,L,X){var H=Ua.findIndex(M.children,function(re){return!re.type===m0.types.tableRow||!re.isHeader});H===-1&&(H=M.children.length);var z;if(H===0)z=u(M.children,L,Ua.extend({},X,{isTableHeader:!1}));else{var G=u(M.children.slice(0,H),L,Ua.extend({},X,{isTableHeader:!0})),ie=u(M.children.slice(H),L,Ua.extend({},X,{isTableHeader:!1}));z=[ze.freshElement("thead",{},G),ze.freshElement("tbody",{},ie)]}return[ze.forceWrite].concat(z)}function Y(M,L,X){var H=u(M.children,L,X);return[ze.freshElement("tr",{},[ze.forceWrite].concat(H))]}function R(M,L,X){var H=X.isTableHeader?"th":"td",z=u(M.children,L,X),G={};return M.colSpan!==1&&(G.colspan=M.colSpan.toString()),M.rowSpan!==1&&(G.rowspan=M.rowSpan.toString()),[ze.freshElement(H,G,[ze.forceWrite].concat(z))]}function V(M,L,X){return D(M,br.ignore).wrap(function(){var H=e[M.commentId],z=r.length+1,G="["+QV(H)+z+"]";return r.push({label:G,comment:H}),[ze.freshElement("a",{href:"#"+T("comment",M.commentId),id:E("comment",M.commentId)},[ze.text(G)])]})}function S(M,L,X){var H=M.label,z=M.comment,G=u(z.body,L,X).concat([ze.nonFreshElement("p",{},[ze.text(" "),ze.freshElement("a",{href:"#"+E("comment",z.commentId)},[ze.text("")])])]);return[ze.freshElement("dt",{id:T("comment",z.commentId)},[ze.text("Comment "+H)]),ze.freshElement("dd",{},G)]}function K(M,L,X){return N(M).wrap(function(){return[]})}function N(M){var L=y(M);return L?L.to:M.breakType==="line"?br.topLevelElement("br"):br.empty}var B={document:function(M,L,X){var H=u(M.children,L,X),z=i.map(function(ie){return M.notes.resolve(ie)}),G=u(z,L,X);return H.concat([ze.freshElement("ol",{},G),ze.freshElement("dl",{},G_(r,function(ie){return S(ie,L,X)}))])},paragraph:f,run:_,text:function(M,L,X){return[ze.text(M.value)]},tab:function(M,L,X){return[ze.text("	")]},hyperlink:function(M,L,X){var H=M.anchor?"#"+C(M.anchor):M.href,z={href:H};M.targetFrame!=null&&(z.target=M.targetFrame);var G=u(M.children,L,X);return[ze.nonFreshElement("a",z,G)]},checkbox:function(M){var L={type:"checkbox"};return M.checked&&(L.checked="checked"),[ze.freshElement("input",L)]},bookmarkStart:function(M,L,X){var H=ze.freshElement("a",{id:C(M.name)},[ze.forceWrite]);return[H]},noteReference:function(M,L,X){i.push(M);var H=ze.freshElement("a",{href:"#"+w(M),id:x(M)},[ze.text("["+t+++"]")]);return[ze.freshElement("sup",{},[H])]},note:function(M,L,X){var H=u(M.body,L,X),z=ze.elementWithTag(br.element("p",{},{fresh:!1}),[ze.text(" "),ze.freshElement("a",{href:"#"+x(M)},[ze.text("")])]),G=H.concat([z]);return ze.freshElement("li",{id:w(M)},G)},commentReference:V,comment:S,image:JV(b(n.convertImage||GV.dataUri)),table:P,tableRow:Y,tableCell:R,break:K};return{convertToHtml:c}}var KV=1;function JV(n){return function(e,t,i){return[{type:"deferred",id:KV++,value:function(){return n(e,t,i)}}]}}function tI(n,e){return Tx.warning("Unrecognised "+n+" style: '"+e.styleName+"' (Style ID: "+e.styleId+")")}function G_(n,e){return Ua.flatten(n.map(e),!0)}function jL(n,e){n.forEach(function(t){e(t),t.children&&jL(t.children,e)})}var QV=eA.commentAuthorLabel=function(e){return e.authorInitials||""},e8={},ZV=He;function t8(n){if(n.type==="text")return n.value;if(n.type===ZV.types.tab)return"	";var e=n.type==="paragraph"?`

`:"";return(n.children||[]).map(t8).join("")+e}e8.convertElementToRawText=t8;var zb={},ws={},n8={},i8={exports:{}},If=i8.exports=function(n,e){this._tokens=n,this._startIndex=e||0};If.prototype.head=function(){return this._tokens[this._startIndex]};If.prototype.tail=function(n){return new If(this._tokens,this._startIndex+1)};If.prototype.toArray=function(){return this._tokens.slice(this._startIndex)};If.prototype.end=function(){return this._tokens[this._tokens.length-1]};If.prototype.to=function(n){var e=this.head().source,t=n.head()||n.end();return e.to(t.source)};var jV=i8.exports,eH=jV;n8.Parser=function(n){var e=function(t,i){return t(new eH(i))};return{parseTokens:e}};var nA={},r8={};(function(n){n.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return n.none},flatMap:function(){return n.none},filter:function(){return n.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(i){return typeof i=="function"?i():i}n.some=function(i){return new t(i)};var t=function(i){this._value=i};t.prototype.value=function(){return this._value},t.prototype.isNone=function(){return!1},t.prototype.isSome=function(){return!0},t.prototype.map=function(i){return new t(i(this._value))},t.prototype.flatMap=function(i){return i(this._value)},t.prototype.filter=function(i){return i(this._value)?this:n.none},t.prototype.toArray=function(){return[this._value]},t.prototype.orElse=function(i){return this},t.prototype.valueOrElse=function(i){return this._value},n.isOption=function(i){return i===n.none||i instanceof t},n.fromNullable=function(i){return i==null?n.none:new t(i)}})(r8);var iA={failure:function(n,e){if(n.length<1)throw new Error("Failure must have errors");return new Yn({status:"failure",remaining:e,errors:n})},error:function(n,e){if(n.length<1)throw new Error("Failure must have errors");return new Yn({status:"error",remaining:e,errors:n})},success:function(n,e,t){return new Yn({status:"success",value:n,source:t,remaining:e,errors:[]})},cut:function(n){return new Yn({status:"cut",remaining:n,errors:[]})}},Yn=function(n){this._value=n.value,this._status=n.status,this._hasValue=n.value!==void 0,this._remaining=n.remaining,this._source=n.source,this._errors=n.errors};Yn.prototype.map=function(n){return this._hasValue?new Yn({value:n(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this};Yn.prototype.changeRemaining=function(n){return new Yn({value:this._value,status:this._status,remaining:n,source:this._source,errors:this._errors})};Yn.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"};Yn.prototype.isFailure=function(){return this._status==="failure"};Yn.prototype.isError=function(){return this._status==="error"};Yn.prototype.isCut=function(){return this._status==="cut"};Yn.prototype.value=function(){return this._value};Yn.prototype.remaining=function(){return this._remaining};Yn.prototype.source=function(){return this._source};Yn.prototype.errors=function(){return this._errors};var rA={};rA.error=function(n){return new Gb(n)};var Gb=function(n){this.expected=n.expected,this.actual=n.actual,this._location=n.location};Gb.prototype.describe=function(){var n=this._location?this._location.describe()+`:
`:"";return n+"Expected "+this.expected+`
but got `+this.actual};Gb.prototype.lineNumber=function(){return this._location.lineNumber()};Gb.prototype.characterNumber=function(){return this._location.characterNumber()};var s8={};s8.fromArray=function(n){var e=0,t=function(){return e<n.length};return new Bu({hasNext:t,next:function(){if(t())return n[e++];throw new Error("No more elements")}})};var Bu=function(n){this._iterator=n};Bu.prototype.map=function(n){var e=this._iterator;return new Bu({hasNext:function(){return e.hasNext()},next:function(){return n(e.next())}})};Bu.prototype.filter=function(n){var e=this._iterator,t=!1,i=!1,r,s=function(){if(!t)for(t=!0,i=!1;e.hasNext()&&!i;)r=e.next(),i=n(r)};return new Bu({hasNext:function(){return s(),i},next:function(){s();var o=r;return t=!1,o}})};Bu.prototype.first=function(){var n=this._iterator;return this._iterator.hasNext()?n.next():null};Bu.prototype.toArray=function(){for(var n=[];this._iterator.hasNext();)n.push(this._iterator.next());return n};(function(n){var e=Xt,t=r8,i=iA,r=rA,s=s8;n.token=function(f,g){var _=g!==void 0;return function(m){var D=m.head();if(D&&D.name===f&&(!_||D.value===g))return i.success(D.value,m.tail(),D.source);var y=u({name:f,value:g});return h(m,y)}},n.tokenOfType=function(f){return n.token(f)},n.firstOf=function(f,g){return e.isArray(g)||(g=Array.prototype.slice.call(arguments,1)),function(_){return s.fromArray(g).map(function(m){return m(_)}).filter(function(m){return m.isSuccess()||m.isError()}).first()||h(_,f)}},n.then=function(f,g){return function(_){var m=f(_);return m.map||console.log(m),m.map(g)}},n.sequence=function(){var f=Array.prototype.slice.call(arguments,0),g=function(m){var D=e.foldl(f,function(b,w){var x=b.result,T=b.hasCut;if(!x.isSuccess())return{result:x,hasCut:T};var E=w(x.remaining());if(E.isCut())return{result:x,hasCut:!0};if(E.isSuccess()){var C;w.isCaptured?C=x.value().withValue(w,E.value()):C=x.value();var F=E.remaining(),P=m.to(F);return{result:i.success(C,F,P),hasCut:T}}else return T?{result:i.error(E.errors(),E.remaining()),hasCut:T}:{result:E,hasCut:T}},{result:i.success(new o,m),hasCut:!1}).result,y=m.to(D.remaining());return D.map(function(b){return b.withValue(n.sequence.source,y)})};g.head=function(){var m=e.find(f,_);return n.then(g,n.sequence.extract(m))},g.map=function(m){return n.then(g,function(D){return m.apply(this,D.toArray())})};function _(m){return m.isCaptured}return g};var o=function(f,g){this._values=f||{},this._valuesArray=g||[]};o.prototype.withValue=function(f,g){if(f.captureName&&f.captureName in this._values)throw new Error('Cannot add second value for capture "'+f.captureName+'"');var _=e.clone(this._values);_[f.captureName]=g;var m=this._valuesArray.concat([g]);return new o(_,m)},o.prototype.get=function(f){if(f.captureName in this._values)return this._values[f.captureName];throw new Error('No value for capture "'+f.captureName+'"')},o.prototype.toArray=function(){return this._valuesArray},n.sequence.capture=function(f,g){var _=function(){return f.apply(this,arguments)};return _.captureName=g,_.isCaptured=!0,_},n.sequence.extract=function(f){return function(g){return g.get(f)}},n.sequence.applyValues=function(f){var g=Array.prototype.slice.call(arguments,1);return function(_){var m=g.map(function(D){return _.get(D)});return f.apply(this,m)}},n.sequence.source={captureName:"source"},n.sequence.cut=function(){return function(f){return i.cut(f)}},n.optional=function(f){return function(g){var _=f(g);return _.isSuccess()?_.map(t.some):_.isFailure()?i.success(t.none,g):_}},n.zeroOrMoreWithSeparator=function(f,g){return c(f,g,!1)},n.oneOrMoreWithSeparator=function(f,g){return c(f,g,!0)};var a=n.zeroOrMore=function(f){return function(g){for(var _=[],m;(m=f(g))&&m.isSuccess();)g=m.remaining(),_.push(m.value());return m.isError()?m:i.success(_,g)}};n.oneOrMore=function(f){return n.oneOrMoreWithSeparator(f,l)};function l(f){return i.success(null,f)}var c=function(f,g,_){return function(m){var D=f(m);if(D.isSuccess()){var y=n.sequence.capture(f,"main"),b=a(n.then(n.sequence(g,y),n.sequence.extract(y))),w=b(D.remaining());return i.success([D.value()].concat(w.value()),w.remaining())}else return _||D.isError()?D:i.success([],m)}};n.leftAssociative=function(f,g,_){var m;_?m=[{func:_,rule:g}]:m=g,m=m.map(function(y){return n.then(y.rule,function(b){return function(w,x){return y.func(w,b,x)}})});var D=n.firstOf.apply(null,["rules"].concat(m));return function(y){var b=y,w=f(y);if(!w.isSuccess())return w;for(var x=D(w.remaining());x.isSuccess();){var T=x.remaining(),E=b.to(x.remaining()),C=x.value();w=i.success(C(w.value(),E),T,E),x=D(w.remaining())}return x.isError()?x:w}},n.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},n.nonConsuming=function(f){return function(g){return f(g).changeRemaining(g)}};var u=function(f){return f.value?f.name+' "'+f.value+'"':f.name};function h(f,g){var _,m=f.head();return m?_=r.error({expected:g,actual:u(m),location:m.source}):_=r.error({expected:g,actual:"end of tokens"}),i.failure([_],f)}})(nA);var o8={exports:{}};o8.exports=function(n,e){var t={asString:function(){return n},range:function(i,r){return new Ou(n,e,i,r)}};return t};var Ou=function(n,e,t,i){this._string=n,this._description=e,this._startIndex=t,this._endIndex=i};Ou.prototype.to=function(n){return new Ou(this._string,this._description,this._startIndex,n._endIndex)};Ou.prototype.describe=function(){var n=this._position(),e=this._description?this._description+`
`:"";return e+"Line number: "+n.lineNumber+`
Character number: `+n.characterNumber};Ou.prototype.lineNumber=function(){return this._position().lineNumber};Ou.prototype.characterNumber=function(){return this._position().characterNumber};Ou.prototype._position=function(){for(var n=this,e=0,t=function(){return n._string.indexOf(`
`,e)},i=1;t()!==-1&&t()<this._startIndex;)e=t()+1,i+=1;var r=this._startIndex-e+1;return{lineNumber:i,characterNumber:r}};var a8=o8.exports,l8=function(n,e,t){this.name=n,this.value=e,t&&(this.source=t)},c8={};(function(n){var e=nA,t=iA;n.parser=function(s,o,a){var l={rule:f,leftAssociative:g,rightAssociative:_},c=new i(a.map(h)),u=e.firstOf(s,o);function h(y){return{name:y.name,rule:r(y.ruleBuilder.bind(null,l))}}function f(){return m(c)}function g(y){return m(c.untilExclusive(y))}function _(y){return m(c.untilInclusive(y))}function m(y){return D.bind(null,y)}function D(y,b){var w=u(b);return w.isSuccess()?y.apply(w):w}return l};function i(s){function o(h){return new i(s.slice(0,l().indexOf(h)))}function a(h){return new i(s.slice(0,l().indexOf(h)+1))}function l(){return s.map(function(h){return h.name})}function c(h){for(var f,g;;)if(f=u(h.remaining()),f.isSuccess())g=h.source().to(f.source()),h=t.success(f.value()(h.value(),g),f.remaining(),g);else return f.isFailure()?h:f}function u(h){return e.firstOf("infix",s.map(function(f){return f.rule}))(h)}return{apply:c,untilExclusive:o,untilInclusive:a}}n.infix=function(s,o){function a(l){return n.infix(s,function(c){var u=o(c);return function(h){var f=u(h);return f.map(function(g){return function(_,m){return l(_,g,m)}})}})}return{name:s,ruleBuilder:o,map:a}};var r=function(s){var o;return function(a){return o||(o=s()),o(a)}}})(c8);var u8={},$_=l8,tH=a8;u8.RegexTokeniser=nH;function nH(n){n=n.map(function(r){return{name:r.name,regex:new RegExp(r.regex.source,"g")}});function e(r,s){for(var o=new tH(r,s),a=0,l=[];a<r.length;){var c=t(r,a,o);a=c.endIndex,l.push(c.token)}return l.push(i(r,o)),l}function t(r,s,o){for(var a=0;a<n.length;a++){var l=n[a].regex;l.lastIndex=s;var c=l.exec(r);if(c){var h=s+c[0].length;if(c.index===s&&h>s){var u=c[1],f=new $_(n[a].name,u,o.range(s,h));return{token:f,endIndex:h}}}}var h=s+1,f=new $_("unrecognisedCharacter",r.substring(s,h),o.range(s,h));return{token:f,endIndex:h}}function i(r,s){return new $_("end",null,s.range(r.length,r.length))}return{tokenise:e}}ws.Parser=n8.Parser;ws.rules=nA;ws.errors=rA;ws.results=iA;ws.StringSource=a8;ws.Token=l8;ws.bottomUp=c8;ws.RegexTokeniser=u8.RegexTokeniser;ws.rule=function(n){var e;return function(t){return e||(e=n()),e(t)}};var Nn={};Nn.paragraph=iH;Nn.run=rH;Nn.table=sH;Nn.bold=new xs("bold");Nn.italic=new xs("italic");Nn.underline=new xs("underline");Nn.strikethrough=new xs("strikethrough");Nn.allCaps=new xs("allCaps");Nn.smallCaps=new xs("smallCaps");Nn.highlight=oH;Nn.commentReference=new xs("commentReference");Nn.lineBreak=new $b({breakType:"line"});Nn.pageBreak=new $b({breakType:"page"});Nn.columnBreak=new $b({breakType:"column"});Nn.equalTo=lH;Nn.startsWith=cH;function iH(n){return new xs("paragraph",n)}function rH(n){return new xs("run",n)}function sH(n){return new xs("table",n)}function oH(n){return new d8(n)}function xs(n,e){e=e||{},this._elementType=n,this._styleId=e.styleId,this._styleName=e.styleName,e.list&&(this._listIndex=e.list.levelIndex,this._listIsOrdered=e.list.isOrdered)}xs.prototype.matches=function(n){return n.type===this._elementType&&(this._styleId===void 0||n.styleId===this._styleId)&&(this._styleName===void 0||n.styleName&&this._styleName.operator(this._styleName.operand,n.styleName))&&(this._listIndex===void 0||aH(n,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===n.breakType)};function d8(n){n=n||{},this._color=n.color}d8.prototype.matches=function(n){return n.type==="highlight"&&(this._color===void 0||n.color===this._color)};function $b(n){n=n||{},this._breakType=n.breakType}$b.prototype.matches=function(n){return n.type==="break"&&(this._breakType===void 0||n.breakType===this._breakType)};function aH(n,e,t){return n.numbering&&n.numbering.level==e&&n.numbering.isOrdered==t}function lH(n){return{operator:uH,operand:n}}function cH(n){return{operator:dH,operand:n}}function uH(n,e){return n.toUpperCase()===e.toUpperCase()}function dH(n,e){return e.toUpperCase().indexOf(n.toUpperCase())===0}var h8={},hH=ws,fH=hH.RegexTokeniser;h8.tokenise=pH;var nI="'((?:\\\\.|[^'])*)";function pH(n){var e="(?:[a-zA-Z\\-_]|\\\\.)",t=new fH([{name:"identifier",regex:new RegExp("("+e+"(?:"+e+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(nI+"'")},{name:"unterminated-string",regex:new RegExp(nI)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return t.tokenise(n)}var gH=Xt,ue=ws,On=Nn,y0=qb(),mH=h8.tokenise,X_=mr;zb.readHtmlPath=_H;zb.readDocumentMatcher=bH;zb.readStyle=yH;function yH(n){return sA(SH,n)}function vH(){return ue.rules.sequence(ue.rules.sequence.capture(f8()),ue.rules.tokenOfType("whitespace"),ue.rules.tokenOfType("arrow"),ue.rules.sequence.capture(ue.rules.optional(ue.rules.sequence(ue.rules.tokenOfType("whitespace"),ue.rules.sequence.capture(p8())).head())),ue.rules.tokenOfType("end")).map(function(n,e){return{from:n,to:e.valueOrElse(y0.empty)}})}function bH(n){return sA(f8(),n)}function f8(){var n=ue.rules.sequence,e=function(E,C){return ue.rules.then(ue.rules.token("identifier",E),function(){return C})},t=e("p",On.paragraph),i=e("r",On.run),r=ue.rules.firstOf("p or r or table",t,i),s=ue.rules.sequence(ue.rules.tokenOfType("dot"),ue.rules.sequence.cut(),ue.rules.sequence.capture(Xb)).map(function(E){return{styleId:E}}),o=ue.rules.firstOf("style name matcher",ue.rules.then(ue.rules.sequence(ue.rules.tokenOfType("equals"),ue.rules.sequence.cut(),ue.rules.sequence.capture(Ad)).head(),function(E){return{styleName:On.equalTo(E)}}),ue.rules.then(ue.rules.sequence(ue.rules.tokenOfType("startsWith"),ue.rules.sequence.cut(),ue.rules.sequence.capture(Ad)).head(),function(E){return{styleName:On.startsWith(E)}})),a=ue.rules.sequence(ue.rules.tokenOfType("open-square-bracket"),ue.rules.sequence.cut(),ue.rules.token("identifier","style-name"),ue.rules.sequence.capture(o),ue.rules.tokenOfType("close-square-bracket")).head(),l=ue.rules.firstOf("list type",e("ordered-list",{isOrdered:!0}),e("unordered-list",{isOrdered:!1})),c=n(ue.rules.tokenOfType("colon"),n.capture(l),n.cut(),ue.rules.tokenOfType("open-paren"),n.capture(DH),ue.rules.tokenOfType("close-paren")).map(function(E,C){return{list:{isOrdered:E.isOrdered,levelIndex:C-1}}});function u(E){var C=ue.rules.firstOf.apply(ue.rules.firstOf,["matcher suffix"].concat(E)),F=ue.rules.zeroOrMore(C);return ue.rules.then(F,function(P){var O={};return P.forEach(function(Y){gH.extend(O,Y)}),O})}var h=n(n.capture(r),n.capture(u([s,a,c]))).map(function(E,C){return E(C)}),f=n(ue.rules.token("identifier","table"),n.capture(u([s,a]))).map(function(E){return On.table(E)}),g=e("b",On.bold),_=e("i",On.italic),m=e("u",On.underline),D=e("strike",On.strikethrough),y=e("all-caps",On.allCaps),b=e("small-caps",On.smallCaps),w=n(ue.rules.token("identifier","highlight"),ue.rules.sequence.capture(ue.rules.optional(ue.rules.sequence(ue.rules.tokenOfType("open-square-bracket"),ue.rules.sequence.cut(),ue.rules.token("identifier","color"),ue.rules.tokenOfType("equals"),ue.rules.sequence.capture(Ad),ue.rules.tokenOfType("close-square-bracket")).head()))).map(function(E){return On.highlight({color:E.valueOrElse(void 0)})}),x=e("comment-reference",On.commentReference),T=n(ue.rules.token("identifier","br"),n.cut(),ue.rules.tokenOfType("open-square-bracket"),ue.rules.token("identifier","type"),ue.rules.tokenOfType("equals"),n.capture(Ad),ue.rules.tokenOfType("close-square-bracket")).map(function(E){switch(E){case"line":return On.lineBreak;case"page":return On.pageBreak;case"column":return On.columnBreak}});return ue.rules.firstOf("element type",h,f,g,_,m,D,y,b,w,x,T)}function _H(n){return sA(p8(),n)}function p8(){var n=ue.rules.sequence.capture,e=ue.rules.tokenOfType("whitespace"),t=ue.rules.then(ue.rules.optional(ue.rules.sequence(ue.rules.tokenOfType("colon"),ue.rules.token("identifier","fresh"))),function(o){return o.map(function(){return!0}).valueOrElse(!1)}),i=ue.rules.then(ue.rules.optional(ue.rules.sequence(ue.rules.tokenOfType("colon"),ue.rules.token("identifier","separator"),ue.rules.tokenOfType("open-paren"),n(Ad),ue.rules.tokenOfType("close-paren")).head()),function(o){return o.valueOrElse("")}),r=ue.rules.oneOrMoreWithSeparator(Xb,ue.rules.tokenOfType("choice")),s=ue.rules.sequence(n(r),n(ue.rules.zeroOrMore(EH)),n(t),n(i)).map(function(o,a,l,c){var u={},h={};return a.forEach(function(f){f.append&&u[f.name]?u[f.name]+=" "+f.value:u[f.name]=f.value}),l&&(h.fresh=!0),c&&(h.separator=c),y0.element(o,u,h)});return ue.rules.firstOf("html path",ue.rules.then(ue.rules.tokenOfType("bang"),function(){return y0.ignore}),ue.rules.then(ue.rules.zeroOrMoreWithSeparator(s,ue.rules.sequence(e,ue.rules.tokenOfType("gt"),e)),y0.elements))}var Xb=ue.rules.then(ue.rules.tokenOfType("identifier"),g8),DH=ue.rules.tokenOfType("integer"),Ad=ue.rules.then(ue.rules.tokenOfType("string"),g8),wH={n:`
`,r:"\r",t:"	"};function g8(n){return n.replace(/\\(.)/g,function(e,t){return wH[t]||t})}var xH=ue.rules.sequence(ue.rules.tokenOfType("open-square-bracket"),ue.rules.sequence.cut(),ue.rules.sequence.capture(Xb),ue.rules.tokenOfType("equals"),ue.rules.sequence.capture(Ad),ue.rules.tokenOfType("close-square-bracket")).map(function(n,e){return{name:n,value:e,append:!1}}),TH=ue.rules.sequence(ue.rules.tokenOfType("dot"),ue.rules.sequence.cut(),ue.rules.sequence.capture(Xb)).map(function(n){return{name:"class",value:n,append:!0}}),EH=ue.rules.firstOf("attribute or class",xH,TH);function sA(n,e){var t=mH(e),i=ue.Parser(),r=i.parseTokens(n,t);return r.isSuccess()?X_.success(r.value()):new X_.Result(null,[X_.warning(AH(e,r))])}function AH(n,e){return"Did not understand this style mapping, so ignored it: "+n+`
`+e.errors().map(CH).join(`
`)}function CH(n){return"Error was at character number "+n.characterNumber()+": Expected "+n.expected+" but got "+n.actual}var SH=vH(),Yb={};Yb.readOptions=kH;var m8=Xt,UH=Yb._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],IH=Yb._standardOptions={externalFileAccess:!1,transformDocument:RH,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function kH(n){return n=n||{},m8.extend({},IH,n,{customStyleMap:iI(n.styleMap),readStyleMap:function(){var e=this.customStyleMap;return this.includeEmbeddedStyleMap&&(e=e.concat(iI(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(e=e.concat(UH)),e}})}function iI(n){return n?m8.isString(n)?n.split(`
`).map(function(e){return e.trim()}).filter(function(e){return e!==""&&e.charAt(0)!=="#"}):n:[]}function RH(n){return n}var y8={},rI=_n,FH=Ry;y8.openZip=PH;function PH(n){return n.arrayBuffer?rI.resolve(FH.openArrayBuffer(n.arrayBuffer)):rI.reject(new Error("Could not find file in options"))}var v8={},MH=qb(),NH=Hb();v8.element=LH;function LH(n){return function(e){return NH.elementWithTag(MH.element(n),[e])}}var BH=Xt,b8=CE,oA=jE,OH=eA.DocumentConverter,WH=e8.convertElementToRawText,VH=zb.readStyle,HH=Yb.readOptions,Kb=y8,qH=mr.Result;Ds.convertToHtml=zH;Ds.convertToMarkdown=GH;Ds.convert=aA;Ds.extractRawText=KH;Ds.images=tA;Ds.transforms=Kl;Ds.underline=v8;Ds.embedStyleMap=JH;Ds.readEmbeddedStyleMap=$H;function zH(n,e){return aA(n,e)}function GH(n,e){var t=Object.create(e||{});return t.outputFormat="markdown",aA(n,t)}function aA(n,e){return e=HH(e),Kb.openZip(n).tap(function(t){return oA.readStyleMap(t).then(function(i){e.embeddedStyleMap=i})}).then(function(t){return b8.read(t,n,e).then(function(i){return i.map(e.transformDocument)}).then(function(i){return XH(i,e)})})}function $H(n){return Kb.openZip(n).then(oA.readStyleMap)}function XH(n,e){var t=YH(e.readStyleMap()),i=BH.extend({},e,{styleMap:t.value}),r=new OH(i);return n.flatMapThen(function(s){return t.flatMapThen(function(o){return r.convertToHtml(s)})})}function YH(n){return qH.combine((n||[]).map(VH)).map(function(e){return e.filter(function(t){return!!t})})}function KH(n){return Kb.openZip(n).then(b8.read).then(function(e){return e.map(WH)})}function JH(n,e){return Kb.openZip(n).tap(function(t){return oA.writeStyleMap(t,e)}).then(function(t){return t.toArrayBuffer()}).then(function(t){return{toArrayBuffer:function(){return t},toBuffer:function(){return Buffer.from(t)}}})}Ds.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)};const QH="/AI-Resume-Analyzer/assets/pdf.worker.min-LyOxJPrg.mjs";js.workerSrc=QH;const ZH=({onResumeText:n})=>{const[e,t]=fs.useState(!1),[i,r]=fs.useState(""),s=async l=>{const c=await l.arrayBuffer(),u=await oP({data:c}).promise;let h="";for(let f=1;f<=u.numPages;f++){const m=(await(await u.getPage(f)).getTextContent()).items.map(D=>D.str).join(" ");h+=m+`
`}return h.trim()},o=async l=>{var h;const c=await l.arrayBuffer();return((h=(await Ds.extractRawText({arrayBuffer:c})).value)==null?void 0:h.trim())||""},a=async l=>{const c=l.target.files[0];if(c){t(!0),r(c.name);try{let u="";if(c.type==="application/pdf")u=await s(c);else if(c.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")u=await o(c);else{alert("Please upload only PDF or DOCX files."),t(!1);return}if(!u){alert("This file does not contain readable text. If it's scanned, please upload a digital resume.");return}n(u)}catch(u){console.error("Resume parsing failed:",u),alert("Failed to read this resume file. Please try another one.")}finally{t(!1)}}};return zt.jsxs("div",{className:"glassmorphism glow-border p-6",children:[zt.jsxs("h2",{className:"text-xl font-semibold mb-4 text-white flex items-center",children:[zt.jsx(K4,{className:"h-6 w-6 mr-2"}),"Upload Resume"]}),zt.jsxs("div",{className:"border-2 border-dashed border-white/30 rounded-xl p-8 text-center hover:border-cyan-400 transition",children:[zt.jsx(Y4,{className:"h-12 w-12 mx-auto mb-4 text-white/50"}),zt.jsx("input",{type:"file",accept:".pdf,.docx",onChange:a,className:"hidden",id:"resume-upload",disabled:e}),zt.jsx("label",{htmlFor:"resume-upload",className:"cursor-pointer text-cyan-300 hover:text-cyan-400 font-medium",children:e?"Processing...":"Choose PDF or DOCX file"}),zt.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Supported formats: PDF, DOCX"}),i&&zt.jsxs("p",{className:"text-sm text-green-400 mt-2",children:["Uploaded: ",i]})]})]})};var jH={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let eq,tq;function nq(){return{geminiUrl:eq,vertexUrl:tq}}function iq(n,e,t,i){var r,s;if(!(n!=null&&n.baseUrl)){const o=nq();return e?(r=o.vertexUrl)!==null&&r!==void 0?r:t:(s=o.geminiUrl)!==null&&s!==void 0?s:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Da{}function me(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function v(n,e,t){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const a=o.slice(0,-2);if(!(a in n))if(Array.isArray(t))n[a]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(n[a])){const l=n[a];if(Array.isArray(t))for(let c=0;c<l.length;c++){const u=l[c];v(u,e.slice(s+1),t[c])}else for(const c of l)v(c,e.slice(s+1),t)}return}else if(o.endsWith("[0]")){const a=o.slice(0,-3);a in n||(n[a]=[{}]);const l=n[a];v(l[0],e.slice(s+1),t);return}(!n[o]||typeof n[o]!="object")&&(n[o]={}),n=n[o]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function p(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const r=e[i];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in n){const o=n[s];return Array.isArray(o)?o.map(a=>p(a,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function rq(n,e){for(const[t,i]of Object.entries(e)){const r=t.split("."),s=i.split("."),o=new Set;let a=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){a=l;break}if(a!==-1&&s.length>a)for(let l=a;l<s.length;l++){const c=s[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&o.add(c)}Ex(n,r,s,0,o)}}function Ex(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;const s=e[i];if(s.endsWith("[]")){const o=s.slice(0,-2),a=n;if(o in a&&Array.isArray(a[o]))for(const l of a[o])Ex(l,e,t,i+1,r)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const o=n,a=Object.keys(o).filter(c=>!c.startsWith("_")&&!r.has(c)),l={};for(const c of a)l[c]=o[c];for(const[c,u]of Object.entries(l)){const h=[];for(const f of t.slice(i))f==="*"?h.push(c):h.push(f);v(o,h,u)}for(const c of a)delete o[c]}}else{const o=n;s in o&&Ex(o[s],e,t,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lA(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sq(n){const e={},t=p(n,["operationName"]);t!=null&&v(e,["operationName"],t);const i=p(n,["resourceName"]);return i!=null&&v(e,["_url","resourceName"],i),e}function oq(n){const e={},t=p(n,["name"]);t!=null&&v(e,["name"],t);const i=p(n,["metadata"]);i!=null&&v(e,["metadata"],i);const r=p(n,["done"]);r!=null&&v(e,["done"],r);const s=p(n,["error"]);s!=null&&v(e,["error"],s);const o=p(n,["response","generateVideoResponse"]);return o!=null&&v(e,["response"],lq(o)),e}function aq(n){const e={},t=p(n,["name"]);t!=null&&v(e,["name"],t);const i=p(n,["metadata"]);i!=null&&v(e,["metadata"],i);const r=p(n,["done"]);r!=null&&v(e,["done"],r);const s=p(n,["error"]);s!=null&&v(e,["error"],s);const o=p(n,["response"]);return o!=null&&v(e,["response"],cq(o)),e}function lq(n){const e={},t=p(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>uq(o))),v(e,["generatedVideos"],s)}const i=p(n,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const r=p(n,["raiMediaFilteredReasons"]);return r!=null&&v(e,["raiMediaFilteredReasons"],r),e}function cq(n){const e={},t=p(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>dq(o))),v(e,["generatedVideos"],s)}const i=p(n,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const r=p(n,["raiMediaFilteredReasons"]);return r!=null&&v(e,["raiMediaFilteredReasons"],r),e}function uq(n){const e={},t=p(n,["video"]);return t!=null&&v(e,["video"],yq(t)),e}function dq(n){const e={},t=p(n,["_self"]);return t!=null&&v(e,["video"],vq(t)),e}function hq(n){const e={},t=p(n,["operationName"]);return t!=null&&v(e,["_url","operationName"],t),e}function fq(n){const e={},t=p(n,["operationName"]);return t!=null&&v(e,["_url","operationName"],t),e}function pq(n){const e={},t=p(n,["name"]);t!=null&&v(e,["name"],t);const i=p(n,["metadata"]);i!=null&&v(e,["metadata"],i);const r=p(n,["done"]);r!=null&&v(e,["done"],r);const s=p(n,["error"]);s!=null&&v(e,["error"],s);const o=p(n,["response"]);return o!=null&&v(e,["response"],gq(o)),e}function gq(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["parent"]);i!=null&&v(e,["parent"],i);const r=p(n,["documentName"]);return r!=null&&v(e,["documentName"],r),e}function _8(n){const e={},t=p(n,["name"]);t!=null&&v(e,["name"],t);const i=p(n,["metadata"]);i!=null&&v(e,["metadata"],i);const r=p(n,["done"]);r!=null&&v(e,["done"],r);const s=p(n,["error"]);s!=null&&v(e,["error"],s);const o=p(n,["response"]);return o!=null&&v(e,["response"],mq(o)),e}function mq(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["parent"]);i!=null&&v(e,["parent"],i);const r=p(n,["documentName"]);return r!=null&&v(e,["documentName"],r),e}function yq(n){const e={},t=p(n,["uri"]);t!=null&&v(e,["uri"],t);const i=p(n,["encodedVideo"]);i!=null&&v(e,["videoBytes"],lA(i));const r=p(n,["encoding"]);return r!=null&&v(e,["mimeType"],r),e}function vq(n){const e={},t=p(n,["gcsUri"]);t!=null&&v(e,["uri"],t);const i=p(n,["bytesBase64Encoded"]);i!=null&&v(e,["videoBytes"],lA(i));const r=p(n,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sI;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sI||(sI={}));var oI;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(oI||(oI={}));var aI;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(aI||(aI={}));var El;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(El||(El={}));var lI;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(lI||(lI={}));var cI;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(cI||(cI={}));var uI;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(uI||(uI={}));var dI;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(dI||(dI={}));var hI;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(hI||(hI={}));var fI;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(fI||(fI={}));var pI;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(pI||(pI={}));var gI;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(gI||(gI={}));var mI;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(mI||(mI={}));var yI;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(yI||(yI={}));var vI;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(vI||(vI={}));var bI;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(bI||(bI={}));var _I;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(_I||(_I={}));var DI;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(DI||(DI={}));var wI;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wI||(wI={}));var xI;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(xI||(xI={}));var TI;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(TI||(TI={}));var g1;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(g1||(g1={}));var EI;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(EI||(EI={}));var AI;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(AI||(AI={}));var CI;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(CI||(CI={}));var Ax;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ax||(Ax={}));var SI;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(SI||(SI={}));var UI;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(UI||(UI={}));var Cx;(function(n){n.COLLECTION="COLLECTION"})(Cx||(Cx={}));var II;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(II||(II={}));var kI;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(kI||(kI={}));var RI;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(RI||(RI={}));var FI;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(FI||(FI={}));var PI;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(PI||(PI={}));var MI;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(MI||(MI={}));var NI;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(NI||(NI={}));var LI;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(LI||(LI={}));var BI;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(BI||(BI={}));var OI;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(OI||(OI={}));var WI;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(WI||(WI={}));var VI;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(VI||(VI={}));var HI;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(HI||(HI={}));var qI;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(qI||(qI={}));var zI;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(zI||(zI={}));var GI;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(GI||(GI={}));var $I;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})($I||($I={}));var XI;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(XI||(XI={}));var YI;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(YI||(YI={}));var KI;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(KI||(KI={}));var JI;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(JI||(JI={}));var QI;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(QI||(QI={}));var ZI;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ZI||(ZI={}));var jI;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(jI||(jI={}));var ek;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ek||(ek={}));var tk;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(tk||(tk={}));var nk;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(nk||(nk={}));var Cd;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Cd||(Cd={}));class Sx{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class ap{get text(){var e,t,i,r,s,o,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const h=[];for(const f of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,_]of Object.entries(f))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(_!==null||_!==void 0)&&h.push(g);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;u=!0,c+=f.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,t,i,r,s,o,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const h of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[f,g]of Object.entries(h))f!=="inlineData"&&(g!==null||g!==void 0)&&u.push(f);h.inlineData&&typeof h.inlineData.data=="string"&&(c+=atob(h.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,t,i,r,s,o,a,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,t,i,r,s,o,a,l,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,t,i,r,s,o,a,l,c;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class ik{}class rk{}class bq{}class _q{}class Dq{}class wq{}class sk{}class ok{}class ak{}class xq{}class m1{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new m1;let r;const s=e;return t?r=aq(s):r=oq(s),Object.assign(i,r),i}}class lk{}class ck{}class uk{}class dk{}class Tq{}class Eq{}class Aq{}class cA{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new cA,s=pq(e);return Object.assign(i,s),i}}class Cq{}class Sq{}class Uq{}class Iq{}class hk{}class kq{get text(){var e,t,i;let r="",s=!1;const o=[];for(const a of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[l,c]of Object.entries(a))l!=="text"&&l!=="thought"&&c!==null&&o.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;s=!0,r+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,i;let r="";const s=[];for(const o of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[a,l]of Object.entries(o))a!=="inlineData"&&l!==null&&s.push(a);o.inlineData&&typeof o.inlineData.data=="string"&&(r+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Rq{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class uA{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new uA,s=_8(e);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Je(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function D8(n,e){const t=Je(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function w8(n){return Array.isArray(n)?n.map(e=>y1(e)):[y1(n)]}function y1(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function x8(n){const e=y1(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function T8(n){const e=y1(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fk(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function E8(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>fk(e)):[fk(n)]}function Ux(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function pk(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function gk(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Kn(n){if(n==null)throw new Error("ContentUnion is required");return Ux(n)?n:{role:"user",parts:E8(n)}}function dA(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Kn(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Kn(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Kn(t)):[Kn(e)]}function Vr(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(pk(n)||gk(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Kn(n)]}const e=[],t=[],i=Ux(n[0]);for(const r of n){const s=Ux(r);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(r);else{if(pk(r)||gk(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:E8(t)}),e}function Fq(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(El).includes(t[0].toUpperCase())?t[0].toUpperCase():El.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(El).includes(i.toUpperCase())?i.toUpperCase():El.TYPE_UNSPECIFIED})}}function Hd(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&Fq(n.type,e);for(const[o,a]of Object.entries(n))if(a!=null)if(o=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(El).includes(a.toUpperCase())?a.toUpperCase():El.TYPE_UNSPECIFIED}else if(t.includes(o))e[o]=Hd(a);else if(i.includes(o)){const l=[];for(const c of a){if(c.type=="null"){e.nullable=!0;continue}l.push(Hd(c))}e[o]=l}else if(r.includes(o)){const l={};for(const[c,u]of Object.entries(a))l[c]=Hd(u);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=a}return e}function hA(n){return Hd(n)}function fA(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function pA(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Of(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Hd(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Hd(e.response));return n}function Wf(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function Pq(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function wa(n,e){if(typeof e!="string")throw new Error("name must be a string");return Pq(n,e,"cachedContents")}function A8(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Jl(n){return lA(n)}function Mq(n){return n!=null&&typeof n=="object"&&"name"in n}function Nq(n){return n!=null&&typeof n=="object"&&"video"in n}function Lq(n){return n!=null&&typeof n=="object"&&"uri"in n}function C8(n){var e;let t;if(Mq(n)&&(t=n.name),!(Lq(n)&&(t=n.uri,t===void 0))&&!(Nq(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function S8(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function U8(n){for(const e of["models","tunedModels","publisherModels"])if(Bq(n,e))return n[e];return[]}function Bq(n,e){return n!==null&&typeof n=="object"&&e in n}function Oq(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function Wq(n,e={}){const t=[],i=new Set;for(const r of n){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const o=Oq(r,e);o.functionDeclarations&&t.push(...o.functionDeclarations)}return{functionDeclarations:t}}function I8(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function Vq(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function k8(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let s=!1;for(const o of r){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Vf(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function R8(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hq(n){const e={},t=p(n,["responsesFile"]);t!=null&&v(e,["fileName"],t);const i=p(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>wz(o))),v(e,["inlinedResponses"],s)}const r=p(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["inlinedEmbedContentResponses"],s)}return e}function qq(n){const e={},t=p(n,["predictionsFormat"]);t!=null&&v(e,["format"],t);const i=p(n,["gcsDestination","outputUriPrefix"]);i!=null&&v(e,["gcsUri"],i);const r=p(n,["bigqueryDestination","outputUri"]);return r!=null&&v(e,["bigqueryUri"],r),e}function zq(n){const e={},t=p(n,["format"]);t!=null&&v(e,["predictionsFormat"],t);const i=p(n,["gcsUri"]);i!=null&&v(e,["gcsDestination","outputUriPrefix"],i);const r=p(n,["bigqueryUri"]);if(r!=null&&v(e,["bigqueryDestination","outputUri"],r),p(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function v0(n){const e={},t=p(n,["name"]);t!=null&&v(e,["name"],t);const i=p(n,["metadata","displayName"]);i!=null&&v(e,["displayName"],i);const r=p(n,["metadata","state"]);r!=null&&v(e,["state"],R8(r));const s=p(n,["metadata","createTime"]);s!=null&&v(e,["createTime"],s);const o=p(n,["metadata","endTime"]);o!=null&&v(e,["endTime"],o);const a=p(n,["metadata","updateTime"]);a!=null&&v(e,["updateTime"],a);const l=p(n,["metadata","model"]);l!=null&&v(e,["model"],l);const c=p(n,["metadata","output"]);return c!=null&&v(e,["dest"],Hq(k8(c))),e}function Ix(n){const e={},t=p(n,["name"]);t!=null&&v(e,["name"],t);const i=p(n,["displayName"]);i!=null&&v(e,["displayName"],i);const r=p(n,["state"]);r!=null&&v(e,["state"],R8(r));const s=p(n,["error"]);s!=null&&v(e,["error"],s);const o=p(n,["createTime"]);o!=null&&v(e,["createTime"],o);const a=p(n,["startTime"]);a!=null&&v(e,["startTime"],a);const l=p(n,["endTime"]);l!=null&&v(e,["endTime"],l);const c=p(n,["updateTime"]);c!=null&&v(e,["updateTime"],c);const u=p(n,["model"]);u!=null&&v(e,["model"],u);const h=p(n,["inputConfig"]);h!=null&&v(e,["src"],Gq(h));const f=p(n,["outputConfig"]);f!=null&&v(e,["dest"],qq(k8(f)));const g=p(n,["completionStats"]);return g!=null&&v(e,["completionStats"],g),e}function Gq(n){const e={},t=p(n,["instancesFormat"]);t!=null&&v(e,["format"],t);const i=p(n,["gcsSource","uris"]);i!=null&&v(e,["gcsUri"],i);const r=p(n,["bigquerySource","inputUri"]);return r!=null&&v(e,["bigqueryUri"],r),e}function $q(n,e){const t={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&v(t,["fileName"],i);const r=p(e,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Dz(n,o))),v(t,["requests","requests"],s)}return t}function Xq(n){const e={},t=p(n,["format"]);t!=null&&v(e,["instancesFormat"],t);const i=p(n,["gcsUri"]);i!=null&&v(e,["gcsSource","uris"],i);const r=p(n,["bigqueryUri"]);if(r!=null&&v(e,["bigquerySource","inputUri"],r),p(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Yq(n){const e={},t=p(n,["data"]);if(t!=null&&v(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function Kq(n,e){const t={},i=p(e,["name"]);return i!=null&&v(t,["_url","name"],Vf(n,i)),t}function Jq(n,e){const t={},i=p(e,["name"]);return i!=null&&v(t,["_url","name"],Vf(n,i)),t}function Qq(n){const e={},t=p(n,["content"]);t!=null&&v(e,["content"],t);const i=p(n,["citationMetadata"]);i!=null&&v(e,["citationMetadata"],Zq(i));const r=p(n,["tokenCount"]);r!=null&&v(e,["tokenCount"],r);const s=p(n,["finishReason"]);s!=null&&v(e,["finishReason"],s);const o=p(n,["avgLogprobs"]);o!=null&&v(e,["avgLogprobs"],o);const a=p(n,["groundingMetadata"]);a!=null&&v(e,["groundingMetadata"],a);const l=p(n,["index"]);l!=null&&v(e,["index"],l);const c=p(n,["logprobsResult"]);c!=null&&v(e,["logprobsResult"],c);const u=p(n,["safetyRatings"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(g=>g)),v(e,["safetyRatings"],f)}const h=p(n,["urlContextMetadata"]);return h!=null&&v(e,["urlContextMetadata"],h),e}function Zq(n){const e={},t=p(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),v(e,["citations"],i)}return e}function F8(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>Uz(s))),v(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&v(e,["role"],i),e}function jq(n,e){const t={},i=p(n,["displayName"]);if(e!==void 0&&i!=null&&v(e,["batch","displayName"],i),p(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function ez(n,e){const t={},i=p(n,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const r=p(n,["dest"]);return e!==void 0&&r!=null&&v(e,["outputConfig"],zq(Vq(r))),t}function mk(n,e){const t={},i=p(e,["model"]);i!=null&&v(t,["_url","model"],Je(n,i));const r=p(e,["src"]);r!=null&&v(t,["batch","inputConfig"],$q(n,I8(n,r)));const s=p(e,["config"]);return s!=null&&jq(s,t),t}function tz(n,e){const t={},i=p(e,["model"]);i!=null&&v(t,["model"],Je(n,i));const r=p(e,["src"]);r!=null&&v(t,["inputConfig"],Xq(I8(n,r)));const s=p(e,["config"]);return s!=null&&ez(s,t),t}function nz(n,e){const t={},i=p(n,["displayName"]);return e!==void 0&&i!=null&&v(e,["batch","displayName"],i),t}function iz(n,e){const t={},i=p(e,["model"]);i!=null&&v(t,["_url","model"],Je(n,i));const r=p(e,["src"]);r!=null&&v(t,["batch","inputConfig"],uz(n,r));const s=p(e,["config"]);return s!=null&&nz(s,t),t}function rz(n,e){const t={},i=p(e,["name"]);return i!=null&&v(t,["_url","name"],Vf(n,i)),t}function sz(n,e){const t={},i=p(e,["name"]);return i!=null&&v(t,["_url","name"],Vf(n,i)),t}function oz(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["name"]);i!=null&&v(e,["name"],i);const r=p(n,["done"]);r!=null&&v(e,["done"],r);const s=p(n,["error"]);return s!=null&&v(e,["error"],s),e}function az(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["name"]);i!=null&&v(e,["name"],i);const r=p(n,["done"]);r!=null&&v(e,["done"],r);const s=p(n,["error"]);return s!=null&&v(e,["error"],s),e}function lz(n,e){const t={},i=p(e,["contents"]);if(i!=null){let s=dA(n,i);Array.isArray(s)&&(s=s.map(o=>o)),v(t,["requests[]","request","content"],s)}const r=p(e,["config"]);return r!=null&&(v(t,["_self"],cz(r,t)),rq(t,{"requests[].*":"requests[].request.*"})),t}function cz(n,e){const t={},i=p(n,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const r=p(n,["title"]);e!==void 0&&r!=null&&v(e,["requests[]","title"],r);const s=p(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&v(e,["requests[]","outputDimensionality"],s),p(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function uz(n,e){const t={},i=p(e,["fileName"]);i!=null&&v(t,["file_name"],i);const r=p(e,["inlinedRequests"]);return r!=null&&v(t,["requests"],lz(n,r)),t}function dz(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&v(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function hz(n){const e={},t=p(n,["id"]);t!=null&&v(e,["id"],t);const i=p(n,["args"]);i!=null&&v(e,["args"],i);const r=p(n,["name"]);if(r!=null&&v(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fz(n){const e={},t=p(n,["allowedFunctionNames"]);t!=null&&v(e,["allowedFunctionNames"],t);const i=p(n,["mode"]);if(i!=null&&v(e,["mode"],i),p(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pz(n,e,t){const i={},r=p(e,["systemInstruction"]);t!==void 0&&r!=null&&v(t,["systemInstruction"],F8(Kn(r)));const s=p(e,["temperature"]);s!=null&&v(i,["temperature"],s);const o=p(e,["topP"]);o!=null&&v(i,["topP"],o);const a=p(e,["topK"]);a!=null&&v(i,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&v(i,["candidateCount"],l);const c=p(e,["maxOutputTokens"]);c!=null&&v(i,["maxOutputTokens"],c);const u=p(e,["stopSequences"]);u!=null&&v(i,["stopSequences"],u);const h=p(e,["responseLogprobs"]);h!=null&&v(i,["responseLogprobs"],h);const f=p(e,["logprobs"]);f!=null&&v(i,["logprobs"],f);const g=p(e,["presencePenalty"]);g!=null&&v(i,["presencePenalty"],g);const _=p(e,["frequencyPenalty"]);_!=null&&v(i,["frequencyPenalty"],_);const m=p(e,["seed"]);m!=null&&v(i,["seed"],m);const D=p(e,["responseMimeType"]);D!=null&&v(i,["responseMimeType"],D);const y=p(e,["responseSchema"]);y!=null&&v(i,["responseSchema"],hA(y));const b=p(e,["responseJsonSchema"]);if(b!=null&&v(i,["responseJsonSchema"],b),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=p(e,["safetySettings"]);if(t!==void 0&&w!=null){let V=w;Array.isArray(V)&&(V=V.map(S=>Iz(S))),v(t,["safetySettings"],V)}const x=p(e,["tools"]);if(t!==void 0&&x!=null){let V=Wf(x);Array.isArray(V)&&(V=V.map(S=>Rz(Of(S)))),v(t,["tools"],V)}const T=p(e,["toolConfig"]);if(t!==void 0&&T!=null&&v(t,["toolConfig"],kz(T)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=p(e,["cachedContent"]);t!==void 0&&E!=null&&v(t,["cachedContent"],wa(n,E));const C=p(e,["responseModalities"]);C!=null&&v(i,["responseModalities"],C);const F=p(e,["mediaResolution"]);F!=null&&v(i,["mediaResolution"],F);const P=p(e,["speechConfig"]);if(P!=null&&v(i,["speechConfig"],fA(P)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=p(e,["thinkingConfig"]);O!=null&&v(i,["thinkingConfig"],O);const Y=p(e,["imageConfig"]);Y!=null&&v(i,["imageConfig"],_z(Y));const R=p(e,["enableEnhancedCivicAnswers"]);if(R!=null&&v(i,["enableEnhancedCivicAnswers"],R),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function gz(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Qq(c))),v(e,["candidates"],l)}const r=p(n,["modelVersion"]);r!=null&&v(e,["modelVersion"],r);const s=p(n,["promptFeedback"]);s!=null&&v(e,["promptFeedback"],s);const o=p(n,["responseId"]);o!=null&&v(e,["responseId"],o);const a=p(n,["usageMetadata"]);return a!=null&&v(e,["usageMetadata"],a),e}function mz(n,e){const t={},i=p(e,["name"]);return i!=null&&v(t,["_url","name"],Vf(n,i)),t}function yz(n,e){const t={},i=p(e,["name"]);return i!=null&&v(t,["_url","name"],Vf(n,i)),t}function vz(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&v(e,["enableWidget"],t),e}function bz(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&v(e,["timeRangeFilter"],t),e}function _z(n){const e={},t=p(n,["aspectRatio"]);t!=null&&v(e,["aspectRatio"],t);const i=p(n,["imageSize"]);if(i!=null&&v(e,["imageSize"],i),p(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Dz(n,e){const t={},i=p(e,["model"]);i!=null&&v(t,["request","model"],Je(n,i));const r=p(e,["contents"]);if(r!=null){let a=Vr(r);Array.isArray(a)&&(a=a.map(l=>F8(l))),v(t,["request","contents"],a)}const s=p(e,["metadata"]);s!=null&&v(t,["metadata"],s);const o=p(e,["config"]);return o!=null&&v(t,["request","generationConfig"],pz(n,o,p(t,["request"],{}))),t}function wz(n){const e={},t=p(n,["response"]);t!=null&&v(e,["response"],gz(t));const i=p(n,["metadata"]);i!=null&&v(e,["metadata"],i);const r=p(n,["error"]);return r!=null&&v(e,["error"],r),e}function xz(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);if(e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),p(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Tz(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);e!==void 0&&r!=null&&v(e,["_query","pageToken"],r);const s=p(n,["filter"]);return e!==void 0&&s!=null&&v(e,["_query","filter"],s),t}function Ez(n){const e={},t=p(n,["config"]);return t!=null&&xz(t,e),e}function Az(n){const e={},t=p(n,["config"]);return t!=null&&Tz(t,e),e}function Cz(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(n,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>v0(o))),v(e,["batchJobs"],s)}return e}function Sz(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(n,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Ix(o))),v(e,["batchJobs"],s)}return e}function Uz(n){const e={},t=p(n,["mediaResolution"]);t!=null&&v(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&v(e,["executableCode"],r);const s=p(n,["fileData"]);s!=null&&v(e,["fileData"],dz(s));const o=p(n,["functionCall"]);o!=null&&v(e,["functionCall"],hz(o));const a=p(n,["functionResponse"]);a!=null&&v(e,["functionResponse"],a);const l=p(n,["inlineData"]);l!=null&&v(e,["inlineData"],Yq(l));const c=p(n,["text"]);c!=null&&v(e,["text"],c);const u=p(n,["thought"]);u!=null&&v(e,["thought"],u);const h=p(n,["thoughtSignature"]);h!=null&&v(e,["thoughtSignature"],h);const f=p(n,["videoMetadata"]);return f!=null&&v(e,["videoMetadata"],f),e}function Iz(n){const e={},t=p(n,["category"]);if(t!=null&&v(e,["category"],t),p(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(n,["threshold"]);return i!=null&&v(e,["threshold"],i),e}function kz(n){const e={},t=p(n,["retrievalConfig"]);t!=null&&v(e,["retrievalConfig"],t);const i=p(n,["functionCallingConfig"]);return i!=null&&v(e,["functionCallingConfig"],fz(i)),e}function Rz(n){const e={};if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=p(n,["computerUse"]);t!=null&&v(e,["computerUse"],t);const i=p(n,["fileSearch"]);i!=null&&v(e,["fileSearch"],i);const r=p(n,["codeExecution"]);if(r!=null&&v(e,["codeExecution"],r),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(n,["functionDeclarations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>h)),v(e,["functionDeclarations"],u)}const o=p(n,["googleMaps"]);o!=null&&v(e,["googleMaps"],vz(o));const a=p(n,["googleSearch"]);a!=null&&v(e,["googleSearch"],bz(a));const l=p(n,["googleSearchRetrieval"]);l!=null&&v(e,["googleSearchRetrieval"],l);const c=p(n,["urlContext"]);return c!=null&&v(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ga;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(ga||(ga={}));class Xu{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!i||Object.keys(i).length===0?o={config:{}}:typeof i=="object"?o=Object.assign({},i):o=i,o.config&&(o.config.pageToken=t.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(r=o.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fz extends Da{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Xu(ga.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=mk(this.apiClient,e),i=t._url,r=me("{model}:batchGenerateContent",i),a=t.batch.inputConfig.requests,l=a.requests,c=[];for(const u of l){const h=Object.assign({},u);if(h.systemInstruction){const f=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=f,h.request=g}c.push(h)}return a.requests=c,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${r}`;else if(o)i.dest=`${o}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=tz(this.apiClient,e);return a=me("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>Ix(u))}else{const c=mk(this.apiClient,e);return a=me("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>v0(u))}}async createEmbeddingsInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=iz(this.apiClient,e);return s=me("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>v0(l))}}async get(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=yz(this.apiClient,e);return a=me("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>Ix(u))}else{const c=mz(this.apiClient,e);return a=me("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>v0(u))}}async cancel(e){var t,i,r,s;let o="",a={};if(this.apiClient.isVertexAI()){const l=Jq(this.apiClient,e);o=me("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=Kq(this.apiClient,e);o=me("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Az(e);return a=me("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=Sz(u),f=new hk;return Object.assign(f,h),f})}else{const c=Ez(e);return a=me("batches",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=Cz(u),f=new hk;return Object.assign(f,h),f})}}async delete(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=sz(this.apiClient,e);return a=me("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>az(u))}else{const c=rz(this.apiClient,e);return a=me("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>oz(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pz(n){const e={},t=p(n,["data"]);if(t!=null&&v(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function yk(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>iG(s))),v(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&v(e,["role"],i),e}function Mz(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const r=p(n,["expireTime"]);e!==void 0&&r!=null&&v(e,["expireTime"],r);const s=p(n,["displayName"]);e!==void 0&&s!=null&&v(e,["displayName"],s);const o=p(n,["contents"]);if(e!==void 0&&o!=null){let u=Vr(o);Array.isArray(u)&&(u=u.map(h=>yk(h))),v(e,["contents"],u)}const a=p(n,["systemInstruction"]);e!==void 0&&a!=null&&v(e,["systemInstruction"],yk(Kn(a)));const l=p(n,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(h=>sG(h))),v(e,["tools"],u)}const c=p(n,["toolConfig"]);if(e!==void 0&&c!=null&&v(e,["toolConfig"],rG(c)),p(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Nz(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const r=p(n,["expireTime"]);e!==void 0&&r!=null&&v(e,["expireTime"],r);const s=p(n,["displayName"]);e!==void 0&&s!=null&&v(e,["displayName"],s);const o=p(n,["contents"]);if(e!==void 0&&o!=null){let h=Vr(o);Array.isArray(h)&&(h=h.map(f=>f)),v(e,["contents"],h)}const a=p(n,["systemInstruction"]);e!==void 0&&a!=null&&v(e,["systemInstruction"],Kn(a));const l=p(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(f=>oG(f))),v(e,["tools"],h)}const c=p(n,["toolConfig"]);e!==void 0&&c!=null&&v(e,["toolConfig"],c);const u=p(n,["kmsKeyName"]);return e!==void 0&&u!=null&&v(e,["encryption_spec","kmsKeyName"],u),t}function Lz(n,e){const t={},i=p(e,["model"]);i!=null&&v(t,["model"],D8(n,i));const r=p(e,["config"]);return r!=null&&Mz(r,t),t}function Bz(n,e){const t={},i=p(e,["model"]);i!=null&&v(t,["model"],D8(n,i));const r=p(e,["config"]);return r!=null&&Nz(r,t),t}function Oz(n,e){const t={},i=p(e,["name"]);return i!=null&&v(t,["_url","name"],wa(n,i)),t}function Wz(n,e){const t={},i=p(e,["name"]);return i!=null&&v(t,["_url","name"],wa(n,i)),t}function Vz(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&v(e,["sdkHttpResponse"],t),e}function Hz(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&v(e,["sdkHttpResponse"],t),e}function qz(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&v(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function zz(n){const e={},t=p(n,["id"]);t!=null&&v(e,["id"],t);const i=p(n,["args"]);i!=null&&v(e,["args"],i);const r=p(n,["name"]);if(r!=null&&v(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gz(n){const e={},t=p(n,["allowedFunctionNames"]);t!=null&&v(e,["allowedFunctionNames"],t);const i=p(n,["mode"]);if(i!=null&&v(e,["mode"],i),p(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $z(n){const e={},t=p(n,["description"]);t!=null&&v(e,["description"],t);const i=p(n,["name"]);i!=null&&v(e,["name"],i);const r=p(n,["parameters"]);r!=null&&v(e,["parameters"],r);const s=p(n,["parametersJsonSchema"]);s!=null&&v(e,["parametersJsonSchema"],s);const o=p(n,["response"]);o!=null&&v(e,["response"],o);const a=p(n,["responseJsonSchema"]);if(a!=null&&v(e,["responseJsonSchema"],a),p(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Xz(n,e){const t={},i=p(e,["name"]);return i!=null&&v(t,["_url","name"],wa(n,i)),t}function Yz(n,e){const t={},i=p(e,["name"]);return i!=null&&v(t,["_url","name"],wa(n,i)),t}function Kz(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&v(e,["enableWidget"],t),e}function Jz(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&v(e,["timeRangeFilter"],t),e}function Qz(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),t}function Zz(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),t}function jz(n){const e={},t=p(n,["config"]);return t!=null&&Qz(t,e),e}function eG(n){const e={},t=p(n,["config"]);return t!=null&&Zz(t,e),e}function tG(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["cachedContents"],s)}return e}function nG(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["cachedContents"],s)}return e}function iG(n){const e={},t=p(n,["mediaResolution"]);t!=null&&v(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&v(e,["executableCode"],r);const s=p(n,["fileData"]);s!=null&&v(e,["fileData"],qz(s));const o=p(n,["functionCall"]);o!=null&&v(e,["functionCall"],zz(o));const a=p(n,["functionResponse"]);a!=null&&v(e,["functionResponse"],a);const l=p(n,["inlineData"]);l!=null&&v(e,["inlineData"],Pz(l));const c=p(n,["text"]);c!=null&&v(e,["text"],c);const u=p(n,["thought"]);u!=null&&v(e,["thought"],u);const h=p(n,["thoughtSignature"]);h!=null&&v(e,["thoughtSignature"],h);const f=p(n,["videoMetadata"]);return f!=null&&v(e,["videoMetadata"],f),e}function rG(n){const e={},t=p(n,["retrievalConfig"]);t!=null&&v(e,["retrievalConfig"],t);const i=p(n,["functionCallingConfig"]);return i!=null&&v(e,["functionCallingConfig"],Gz(i)),e}function sG(n){const e={};if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=p(n,["computerUse"]);t!=null&&v(e,["computerUse"],t);const i=p(n,["fileSearch"]);i!=null&&v(e,["fileSearch"],i);const r=p(n,["codeExecution"]);if(r!=null&&v(e,["codeExecution"],r),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(n,["functionDeclarations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>h)),v(e,["functionDeclarations"],u)}const o=p(n,["googleMaps"]);o!=null&&v(e,["googleMaps"],Kz(o));const a=p(n,["googleSearch"]);a!=null&&v(e,["googleSearch"],Jz(a));const l=p(n,["googleSearchRetrieval"]);l!=null&&v(e,["googleSearchRetrieval"],l);const c=p(n,["urlContext"]);return c!=null&&v(e,["urlContext"],c),e}function oG(n){const e={},t=p(n,["retrieval"]);t!=null&&v(e,["retrieval"],t);const i=p(n,["computerUse"]);if(i!=null&&v(e,["computerUse"],i),p(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=p(n,["codeExecution"]);r!=null&&v(e,["codeExecution"],r);const s=p(n,["enterpriseWebSearch"]);s!=null&&v(e,["enterpriseWebSearch"],s);const o=p(n,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(f=>$z(f))),v(e,["functionDeclarations"],h)}const a=p(n,["googleMaps"]);a!=null&&v(e,["googleMaps"],a);const l=p(n,["googleSearch"]);l!=null&&v(e,["googleSearch"],l);const c=p(n,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const u=p(n,["urlContext"]);return u!=null&&v(e,["urlContext"],u),e}function aG(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const r=p(n,["expireTime"]);return e!==void 0&&r!=null&&v(e,["expireTime"],r),t}function lG(n,e){const t={},i=p(n,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const r=p(n,["expireTime"]);return e!==void 0&&r!=null&&v(e,["expireTime"],r),t}function cG(n,e){const t={},i=p(e,["name"]);i!=null&&v(t,["_url","name"],wa(n,i));const r=p(e,["config"]);return r!=null&&aG(r,t),t}function uG(n,e){const t={},i=p(e,["name"]);i!=null&&v(t,["_url","name"],wa(n,i));const r=p(e,["config"]);return r!=null&&lG(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dG extends Da{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Xu(ga.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Bz(this.apiClient,e);return a=me("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{const c=Lz(this.apiClient,e);return a=me("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async get(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Yz(this.apiClient,e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{const c=Xz(this.apiClient,e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Wz(this.apiClient,e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=Hz(u),f=new uk;return Object.assign(f,h),f})}else{const c=Oz(this.apiClient,e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=Vz(u),f=new uk;return Object.assign(f,h),f})}}async update(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=uG(this.apiClient,e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{const c=cG(this.apiClient,e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async listInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=eG(e);return a=me("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=nG(u),f=new dk;return Object.assign(f,h),f})}else{const c=jz(e);return a=me("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=tG(u),f=new dk;return Object.assign(f,h),f})}}}function v1(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function vk(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(n){return this instanceof Ce?(this.v=n,this):new Ce(n)}function ms(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(g){return function(_){return Promise.resolve(_).then(g,h)}}function a(g,_){i[g]&&(r[g]=function(m){return new Promise(function(D,y){s.push([g,m,D,y])>1||l(g,m)})},_&&(r[g]=_(r[g])))}function l(g,_){try{c(i[g](_))}catch(m){f(s[0][3],m)}}function c(g){g.value instanceof Ce?Promise.resolve(g.value.v).then(u,h):f(s[0][2],g)}function u(g){l("next",g)}function h(g){l("throw",g)}function f(g,_){g(_),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ys(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vk=="function"?vk(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hG(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:P8(t)}function P8(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function fG(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bk(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let s=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),s&&!P8(n[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class pG{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new gG(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class gG{constructor(e,t,i,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),fG(s)}async sendMessage(e){var t;await this.sendPromise;const i=Kn(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,o,a;const l=await r,c=(o=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,u=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let f=[];u!=null&&(f=(a=u.slice(h))!==null&&a!==void 0?a:[]);const g=c?[c]:[];this.recordHistory(i,g,f)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=Kn(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?bk(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return ms(this,arguments,function*(){var r,s,o,a,l,c;const u=[];try{for(var h=!0,f=ys(e),g;g=yield Ce(f.next()),r=g.done,!r;h=!0){a=g.value,h=!1;const _=a;if(hG(_)){const m=(c=(l=_.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;m!==void 0&&u.push(m)}yield yield Ce(_)}}catch(_){s={error:_}}finally{try{!h&&!r&&(o=f.return)&&(yield Ce(o.call(f)))}finally{if(s)throw s.error}}this.recordHistory(t,u)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(s=>s.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...bk(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ag extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ag.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mG(n){const e={},t=p(n,["file"]);return t!=null&&v(e,["file"],t),e}function yG(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&v(e,["sdkHttpResponse"],t),e}function vG(n){const e={},t=p(n,["name"]);return t!=null&&v(e,["_url","file"],C8(t)),e}function bG(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&v(e,["sdkHttpResponse"],t),e}function _G(n){const e={},t=p(n,["name"]);return t!=null&&v(e,["_url","file"],C8(t)),e}function DG(n){const e={},t=p(n,["uris"]);return t!=null&&v(e,["uris"],t),e}function wG(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),t}function xG(n){const e={},t=p(n,["config"]);return t!=null&&wG(t,e),e}function TG(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(n,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["files"],s)}return e}function EG(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),v(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AG extends Da{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Xu(ga.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=xG(e);return s=me("files",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>{const c=TG(l),u=new Cq;return Object.assign(u,c),u})}}async createInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=mG(e);return s=me("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=yG(l),u=new Sq;return Object.assign(u,c),u})}}async get(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_G(e);return s=me("files/{file}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=vG(e);return s=me("files/{file}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>{const c=bG(l),u=new Uq;return Object.assign(u,c),u})}}async registerFilesInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=DG(e);return s=me("files:register",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=EG(l),u=new Iq;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b0(n){const e={},t=p(n,["data"]);if(t!=null&&v(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function CG(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>qG(s))),v(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&v(e,["role"],i),e}function SG(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&v(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function UG(n){const e={},t=p(n,["id"]);t!=null&&v(e,["id"],t);const i=p(n,["args"]);i!=null&&v(e,["args"],i);const r=p(n,["name"]);if(r!=null&&v(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IG(n){const e={},t=p(n,["description"]);t!=null&&v(e,["description"],t);const i=p(n,["name"]);i!=null&&v(e,["name"],i);const r=p(n,["parameters"]);r!=null&&v(e,["parameters"],r);const s=p(n,["parametersJsonSchema"]);s!=null&&v(e,["parametersJsonSchema"],s);const o=p(n,["response"]);o!=null&&v(e,["response"],o);const a=p(n,["responseJsonSchema"]);if(a!=null&&v(e,["responseJsonSchema"],a),p(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function kG(n){const e={},t=p(n,["modelSelectionConfig"]);t!=null&&v(e,["modelConfig"],t);const i=p(n,["responseJsonSchema"]);i!=null&&v(e,["responseJsonSchema"],i);const r=p(n,["audioTimestamp"]);r!=null&&v(e,["audioTimestamp"],r);const s=p(n,["candidateCount"]);s!=null&&v(e,["candidateCount"],s);const o=p(n,["enableAffectiveDialog"]);o!=null&&v(e,["enableAffectiveDialog"],o);const a=p(n,["frequencyPenalty"]);a!=null&&v(e,["frequencyPenalty"],a);const l=p(n,["logprobs"]);l!=null&&v(e,["logprobs"],l);const c=p(n,["maxOutputTokens"]);c!=null&&v(e,["maxOutputTokens"],c);const u=p(n,["mediaResolution"]);u!=null&&v(e,["mediaResolution"],u);const h=p(n,["presencePenalty"]);h!=null&&v(e,["presencePenalty"],h);const f=p(n,["responseLogprobs"]);f!=null&&v(e,["responseLogprobs"],f);const g=p(n,["responseMimeType"]);g!=null&&v(e,["responseMimeType"],g);const _=p(n,["responseModalities"]);_!=null&&v(e,["responseModalities"],_);const m=p(n,["responseSchema"]);m!=null&&v(e,["responseSchema"],m);const D=p(n,["routingConfig"]);D!=null&&v(e,["routingConfig"],D);const y=p(n,["seed"]);y!=null&&v(e,["seed"],y);const b=p(n,["speechConfig"]);b!=null&&v(e,["speechConfig"],b);const w=p(n,["stopSequences"]);w!=null&&v(e,["stopSequences"],w);const x=p(n,["temperature"]);x!=null&&v(e,["temperature"],x);const T=p(n,["thinkingConfig"]);T!=null&&v(e,["thinkingConfig"],T);const E=p(n,["topK"]);E!=null&&v(e,["topK"],E);const C=p(n,["topP"]);if(C!=null&&v(e,["topP"],C),p(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function RG(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&v(e,["enableWidget"],t),e}function FG(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&v(e,["timeRangeFilter"],t),e}function PG(n,e){const t={},i=p(n,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],i);const r=p(n,["responseModalities"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig","responseModalities"],r);const s=p(n,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const o=p(n,["topP"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topP"],o);const a=p(n,["topK"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topK"],a);const l=p(n,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(n,["mediaResolution"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","mediaResolution"],c);const u=p(n,["seed"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","seed"],u);const h=p(n,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],pA(h));const f=p(n,["thinkingConfig"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","thinkingConfig"],f);const g=p(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=p(n,["systemInstruction"]);e!==void 0&&_!=null&&v(e,["setup","systemInstruction"],CG(Kn(_)));const m=p(n,["tools"]);if(e!==void 0&&m!=null){let E=Wf(m);Array.isArray(E)&&(E=E.map(C=>GG(Of(C)))),v(e,["setup","tools"],E)}const D=p(n,["sessionResumption"]);e!==void 0&&D!=null&&v(e,["setup","sessionResumption"],zG(D));const y=p(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&v(e,["setup","inputAudioTranscription"],y);const b=p(n,["outputAudioTranscription"]);e!==void 0&&b!=null&&v(e,["setup","outputAudioTranscription"],b);const w=p(n,["realtimeInputConfig"]);e!==void 0&&w!=null&&v(e,["setup","realtimeInputConfig"],w);const x=p(n,["contextWindowCompression"]);e!==void 0&&x!=null&&v(e,["setup","contextWindowCompression"],x);const T=p(n,["proactivity"]);if(e!==void 0&&T!=null&&v(e,["setup","proactivity"],T),p(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function MG(n,e){const t={},i=p(n,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],kG(i));const r=p(n,["responseModalities"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig","responseModalities"],r);const s=p(n,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const o=p(n,["topP"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topP"],o);const a=p(n,["topK"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topK"],a);const l=p(n,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(n,["mediaResolution"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","mediaResolution"],c);const u=p(n,["seed"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","seed"],u);const h=p(n,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],pA(h));const f=p(n,["thinkingConfig"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","thinkingConfig"],f);const g=p(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=p(n,["systemInstruction"]);e!==void 0&&_!=null&&v(e,["setup","systemInstruction"],Kn(_));const m=p(n,["tools"]);if(e!==void 0&&m!=null){let C=Wf(m);Array.isArray(C)&&(C=C.map(F=>$G(Of(F)))),v(e,["setup","tools"],C)}const D=p(n,["sessionResumption"]);e!==void 0&&D!=null&&v(e,["setup","sessionResumption"],D);const y=p(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&v(e,["setup","inputAudioTranscription"],y);const b=p(n,["outputAudioTranscription"]);e!==void 0&&b!=null&&v(e,["setup","outputAudioTranscription"],b);const w=p(n,["realtimeInputConfig"]);e!==void 0&&w!=null&&v(e,["setup","realtimeInputConfig"],w);const x=p(n,["contextWindowCompression"]);e!==void 0&&x!=null&&v(e,["setup","contextWindowCompression"],x);const T=p(n,["proactivity"]);e!==void 0&&T!=null&&v(e,["setup","proactivity"],T);const E=p(n,["explicitVadSignal"]);return e!==void 0&&E!=null&&v(e,["setup","explicitVadSignal"],E),t}function NG(n,e){const t={},i=p(e,["model"]);i!=null&&v(t,["setup","model"],Je(n,i));const r=p(e,["config"]);return r!=null&&v(t,["config"],PG(r,t)),t}function LG(n,e){const t={},i=p(e,["model"]);i!=null&&v(t,["setup","model"],Je(n,i));const r=p(e,["config"]);return r!=null&&v(t,["config"],MG(r,t)),t}function BG(n){const e={},t=p(n,["musicGenerationConfig"]);return t!=null&&v(e,["musicGenerationConfig"],t),e}function OG(n){const e={},t=p(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),v(e,["weightedPrompts"],i)}return e}function WG(n){const e={},t=p(n,["media"]);if(t!=null){let c=w8(t);Array.isArray(c)&&(c=c.map(u=>b0(u))),v(e,["mediaChunks"],c)}const i=p(n,["audio"]);i!=null&&v(e,["audio"],b0(T8(i)));const r=p(n,["audioStreamEnd"]);r!=null&&v(e,["audioStreamEnd"],r);const s=p(n,["video"]);s!=null&&v(e,["video"],b0(x8(s)));const o=p(n,["text"]);o!=null&&v(e,["text"],o);const a=p(n,["activityStart"]);a!=null&&v(e,["activityStart"],a);const l=p(n,["activityEnd"]);return l!=null&&v(e,["activityEnd"],l),e}function VG(n){const e={},t=p(n,["media"]);if(t!=null){let c=w8(t);Array.isArray(c)&&(c=c.map(u=>u)),v(e,["mediaChunks"],c)}const i=p(n,["audio"]);i!=null&&v(e,["audio"],T8(i));const r=p(n,["audioStreamEnd"]);r!=null&&v(e,["audioStreamEnd"],r);const s=p(n,["video"]);s!=null&&v(e,["video"],x8(s));const o=p(n,["text"]);o!=null&&v(e,["text"],o);const a=p(n,["activityStart"]);a!=null&&v(e,["activityStart"],a);const l=p(n,["activityEnd"]);return l!=null&&v(e,["activityEnd"],l),e}function HG(n){const e={},t=p(n,["setupComplete"]);t!=null&&v(e,["setupComplete"],t);const i=p(n,["serverContent"]);i!=null&&v(e,["serverContent"],i);const r=p(n,["toolCall"]);r!=null&&v(e,["toolCall"],r);const s=p(n,["toolCallCancellation"]);s!=null&&v(e,["toolCallCancellation"],s);const o=p(n,["usageMetadata"]);o!=null&&v(e,["usageMetadata"],XG(o));const a=p(n,["goAway"]);a!=null&&v(e,["goAway"],a);const l=p(n,["sessionResumptionUpdate"]);l!=null&&v(e,["sessionResumptionUpdate"],l);const c=p(n,["voiceActivityDetectionSignal"]);c!=null&&v(e,["voiceActivityDetectionSignal"],c);const u=p(n,["voiceActivity"]);return u!=null&&v(e,["voiceActivity"],YG(u)),e}function qG(n){const e={},t=p(n,["mediaResolution"]);t!=null&&v(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&v(e,["executableCode"],r);const s=p(n,["fileData"]);s!=null&&v(e,["fileData"],SG(s));const o=p(n,["functionCall"]);o!=null&&v(e,["functionCall"],UG(o));const a=p(n,["functionResponse"]);a!=null&&v(e,["functionResponse"],a);const l=p(n,["inlineData"]);l!=null&&v(e,["inlineData"],b0(l));const c=p(n,["text"]);c!=null&&v(e,["text"],c);const u=p(n,["thought"]);u!=null&&v(e,["thought"],u);const h=p(n,["thoughtSignature"]);h!=null&&v(e,["thoughtSignature"],h);const f=p(n,["videoMetadata"]);return f!=null&&v(e,["videoMetadata"],f),e}function zG(n){const e={},t=p(n,["handle"]);if(t!=null&&v(e,["handle"],t),p(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GG(n){const e={};if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=p(n,["computerUse"]);t!=null&&v(e,["computerUse"],t);const i=p(n,["fileSearch"]);i!=null&&v(e,["fileSearch"],i);const r=p(n,["codeExecution"]);if(r!=null&&v(e,["codeExecution"],r),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(n,["functionDeclarations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>h)),v(e,["functionDeclarations"],u)}const o=p(n,["googleMaps"]);o!=null&&v(e,["googleMaps"],RG(o));const a=p(n,["googleSearch"]);a!=null&&v(e,["googleSearch"],FG(a));const l=p(n,["googleSearchRetrieval"]);l!=null&&v(e,["googleSearchRetrieval"],l);const c=p(n,["urlContext"]);return c!=null&&v(e,["urlContext"],c),e}function $G(n){const e={},t=p(n,["retrieval"]);t!=null&&v(e,["retrieval"],t);const i=p(n,["computerUse"]);if(i!=null&&v(e,["computerUse"],i),p(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=p(n,["codeExecution"]);r!=null&&v(e,["codeExecution"],r);const s=p(n,["enterpriseWebSearch"]);s!=null&&v(e,["enterpriseWebSearch"],s);const o=p(n,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(f=>IG(f))),v(e,["functionDeclarations"],h)}const a=p(n,["googleMaps"]);a!=null&&v(e,["googleMaps"],a);const l=p(n,["googleSearch"]);l!=null&&v(e,["googleSearch"],l);const c=p(n,["googleSearchRetrieval"]);c!=null&&v(e,["googleSearchRetrieval"],c);const u=p(n,["urlContext"]);return u!=null&&v(e,["urlContext"],u),e}function XG(n){const e={},t=p(n,["promptTokenCount"]);t!=null&&v(e,["promptTokenCount"],t);const i=p(n,["cachedContentTokenCount"]);i!=null&&v(e,["cachedContentTokenCount"],i);const r=p(n,["candidatesTokenCount"]);r!=null&&v(e,["responseTokenCount"],r);const s=p(n,["toolUsePromptTokenCount"]);s!=null&&v(e,["toolUsePromptTokenCount"],s);const o=p(n,["thoughtsTokenCount"]);o!=null&&v(e,["thoughtsTokenCount"],o);const a=p(n,["totalTokenCount"]);a!=null&&v(e,["totalTokenCount"],a);const l=p(n,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(_=>_)),v(e,["promptTokensDetails"],g)}const c=p(n,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(_=>_)),v(e,["cacheTokensDetails"],g)}const u=p(n,["candidatesTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(_=>_)),v(e,["responseTokensDetails"],g)}const h=p(n,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(_=>_)),v(e,["toolUsePromptTokensDetails"],g)}const f=p(n,["trafficType"]);return f!=null&&v(e,["trafficType"],f),e}function YG(n){const e={},t=p(n,["type"]);return t!=null&&v(e,["voiceActivityType"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KG(n,e){const t={},i=p(n,["data"]);if(i!=null&&v(t,["data"],i),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(n,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function JG(n,e){const t={},i=p(n,["content"]);i!=null&&v(t,["content"],i);const r=p(n,["citationMetadata"]);r!=null&&v(t,["citationMetadata"],QG(r));const s=p(n,["tokenCount"]);s!=null&&v(t,["tokenCount"],s);const o=p(n,["finishReason"]);o!=null&&v(t,["finishReason"],o);const a=p(n,["avgLogprobs"]);a!=null&&v(t,["avgLogprobs"],a);const l=p(n,["groundingMetadata"]);l!=null&&v(t,["groundingMetadata"],l);const c=p(n,["index"]);c!=null&&v(t,["index"],c);const u=p(n,["logprobsResult"]);u!=null&&v(t,["logprobsResult"],u);const h=p(n,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(_=>_)),v(t,["safetyRatings"],g)}const f=p(n,["urlContextMetadata"]);return f!=null&&v(t,["urlContextMetadata"],f),t}function QG(n,e){const t={},i=p(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),v(t,["citations"],r)}return t}function ZG(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["contents"]);if(s!=null){let o=Vr(s);Array.isArray(o)&&(o=o.map(a=>a)),v(i,["contents"],o)}return i}function jG(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),v(t,["tokensInfo"],s)}return t}function e$(n,e){const t={},i=p(n,["values"]);i!=null&&v(t,["values"],i);const r=p(n,["statistics"]);return r!=null&&v(t,["statistics"],t$(r)),t}function t$(n,e){const t={},i=p(n,["truncated"]);i!=null&&v(t,["truncated"],i);const r=p(n,["token_count"]);return r!=null&&v(t,["tokenCount"],r),t}function Jb(n,e){const t={},i=p(n,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>uX(o))),v(t,["parts"],s)}const r=p(n,["role"]);return r!=null&&v(t,["role"],r),t}function n$(n,e){const t={},i=p(n,["controlType"]);i!=null&&v(t,["controlType"],i);const r=p(n,["enableControlImageComputation"]);return r!=null&&v(t,["computeControl"],r),t}function i$(n,e){const t={};if(p(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function r$(n,e,t){const i={},r=p(n,["systemInstruction"]);e!==void 0&&r!=null&&v(e,["systemInstruction"],Kn(r));const s=p(n,["tools"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>B8(l))),v(e,["tools"],a)}const o=p(n,["generationConfig"]);return e!==void 0&&o!=null&&v(e,["generationConfig"],K$(o)),i}function s$(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["contents"]);if(s!=null){let a=Vr(s);Array.isArray(a)&&(a=a.map(l=>Jb(l))),v(i,["contents"],a)}const o=p(e,["config"]);return o!=null&&i$(o),i}function o$(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["contents"]);if(s!=null){let a=Vr(s);Array.isArray(a)&&(a=a.map(l=>l)),v(i,["contents"],a)}const o=p(e,["config"]);return o!=null&&r$(o,i),i}function a$(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["totalTokens"]);r!=null&&v(t,["totalTokens"],r);const s=p(n,["cachedContentTokenCount"]);return s!=null&&v(t,["cachedContentTokenCount"],s),t}function l$(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["totalTokens"]);return r!=null&&v(t,["totalTokens"],r),t}function c$(n,e,t){const i={},r=p(e,["model"]);return r!=null&&v(i,["_url","name"],Je(n,r)),i}function u$(n,e,t){const i={},r=p(e,["model"]);return r!=null&&v(i,["_url","name"],Je(n,r)),i}function d$(n,e){const t={},i=p(n,["sdkHttpResponse"]);return i!=null&&v(t,["sdkHttpResponse"],i),t}function h$(n,e){const t={},i=p(n,["sdkHttpResponse"]);return i!=null&&v(t,["sdkHttpResponse"],i),t}function f$(n,e,t){const i={},r=p(n,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const s=p(n,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const o=p(n,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const a=p(n,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const l=p(n,["guidanceScale"]);e!==void 0&&l!=null&&v(e,["parameters","guidanceScale"],l);const c=p(n,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const u=p(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&v(e,["parameters","safetySetting"],u);const h=p(n,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const f=p(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&v(e,["parameters","includeSafetyAttributes"],f);const g=p(n,["includeRaiReason"]);e!==void 0&&g!=null&&v(e,["parameters","includeRaiReason"],g);const _=p(n,["language"]);e!==void 0&&_!=null&&v(e,["parameters","language"],_);const m=p(n,["outputMimeType"]);e!==void 0&&m!=null&&v(e,["parameters","outputOptions","mimeType"],m);const D=p(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&v(e,["parameters","outputOptions","compressionQuality"],D);const y=p(n,["addWatermark"]);e!==void 0&&y!=null&&v(e,["parameters","addWatermark"],y);const b=p(n,["labels"]);e!==void 0&&b!=null&&v(e,["labels"],b);const w=p(n,["editMode"]);e!==void 0&&w!=null&&v(e,["parameters","editMode"],w);const x=p(n,["baseSteps"]);return e!==void 0&&x!=null&&v(e,["parameters","editConfig","baseSteps"],x),i}function p$(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["prompt"]);s!=null&&v(i,["instances[0]","prompt"],s);const o=p(e,["referenceImages"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>mX(c))),v(i,["instances[0]","referenceImages"],l)}const a=p(e,["config"]);return a!=null&&f$(a,i),i}function g$(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Qb(o))),v(t,["generatedImages"],s)}return t}function m$(n,e,t){const i={},r=p(n,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const s=p(n,["title"]);e!==void 0&&s!=null&&v(e,["requests[]","title"],s);const o=p(n,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),p(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function y$(n,e,t){const i={},r=p(n,["taskType"]);e!==void 0&&r!=null&&v(e,["instances[]","task_type"],r);const s=p(n,["title"]);e!==void 0&&s!=null&&v(e,["instances[]","title"],s);const o=p(n,["outputDimensionality"]);e!==void 0&&o!=null&&v(e,["parameters","outputDimensionality"],o);const a=p(n,["mimeType"]);e!==void 0&&a!=null&&v(e,["instances[]","mimeType"],a);const l=p(n,["autoTruncate"]);return e!==void 0&&l!=null&&v(e,["parameters","autoTruncate"],l),i}function v$(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["contents"]);if(s!=null){let l=dA(n,s);Array.isArray(l)&&(l=l.map(c=>c)),v(i,["requests[]","content"],l)}const o=p(e,["config"]);o!=null&&m$(o,i);const a=p(e,["model"]);return a!==void 0&&v(i,["requests[]","model"],Je(n,a)),i}function b$(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["contents"]);if(s!=null){let a=dA(n,s);Array.isArray(a)&&(a=a.map(l=>l)),v(i,["instances[]","content"],a)}const o=p(e,["config"]);return o!=null&&y$(o,i),i}function _$(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),v(t,["embeddings"],o)}const s=p(n,["metadata"]);return s!=null&&v(t,["metadata"],s),t}function D$(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>e$(a))),v(t,["embeddings"],o)}const s=p(n,["metadata"]);return s!=null&&v(t,["metadata"],s),t}function w$(n,e){const t={},i=p(n,["endpoint"]);i!=null&&v(t,["name"],i);const r=p(n,["deployedModelId"]);return r!=null&&v(t,["deployedModelId"],r),t}function x$(n,e){const t={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["fileUri"]);i!=null&&v(t,["fileUri"],i);const r=p(n,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function T$(n,e){const t={},i=p(n,["id"]);i!=null&&v(t,["id"],i);const r=p(n,["args"]);r!=null&&v(t,["args"],r);const s=p(n,["name"]);if(s!=null&&v(t,["name"],s),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function E$(n,e){const t={},i=p(n,["allowedFunctionNames"]);i!=null&&v(t,["allowedFunctionNames"],i);const r=p(n,["mode"]);if(r!=null&&v(t,["mode"],r),p(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function A$(n,e){const t={},i=p(n,["description"]);i!=null&&v(t,["description"],i);const r=p(n,["name"]);r!=null&&v(t,["name"],r);const s=p(n,["parameters"]);s!=null&&v(t,["parameters"],s);const o=p(n,["parametersJsonSchema"]);o!=null&&v(t,["parametersJsonSchema"],o);const a=p(n,["response"]);a!=null&&v(t,["response"],a);const l=p(n,["responseJsonSchema"]);if(l!=null&&v(t,["responseJsonSchema"],l),p(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function C$(n,e,t,i){const r={},s=p(e,["systemInstruction"]);t!==void 0&&s!=null&&v(t,["systemInstruction"],Jb(Kn(s)));const o=p(e,["temperature"]);o!=null&&v(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&v(r,["topP"],a);const l=p(e,["topK"]);l!=null&&v(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&v(r,["maxOutputTokens"],u);const h=p(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const f=p(e,["responseLogprobs"]);f!=null&&v(r,["responseLogprobs"],f);const g=p(e,["logprobs"]);g!=null&&v(r,["logprobs"],g);const _=p(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const m=p(e,["frequencyPenalty"]);m!=null&&v(r,["frequencyPenalty"],m);const D=p(e,["seed"]);D!=null&&v(r,["seed"],D);const y=p(e,["responseMimeType"]);y!=null&&v(r,["responseMimeType"],y);const b=p(e,["responseSchema"]);b!=null&&v(r,["responseSchema"],hA(b));const w=p(e,["responseJsonSchema"]);if(w!=null&&v(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=p(e,["safetySettings"]);if(t!==void 0&&x!=null){let S=x;Array.isArray(S)&&(S=S.map(K=>yX(K))),v(t,["safetySettings"],S)}const T=p(e,["tools"]);if(t!==void 0&&T!=null){let S=Wf(T);Array.isArray(S)&&(S=S.map(K=>TX(Of(K)))),v(t,["tools"],S)}const E=p(e,["toolConfig"]);if(t!==void 0&&E!=null&&v(t,["toolConfig"],xX(E)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=p(e,["cachedContent"]);t!==void 0&&C!=null&&v(t,["cachedContent"],wa(n,C));const F=p(e,["responseModalities"]);F!=null&&v(r,["responseModalities"],F);const P=p(e,["mediaResolution"]);P!=null&&v(r,["mediaResolution"],P);const O=p(e,["speechConfig"]);if(O!=null&&v(r,["speechConfig"],fA(O)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Y=p(e,["thinkingConfig"]);Y!=null&&v(r,["thinkingConfig"],Y);const R=p(e,["imageConfig"]);R!=null&&v(r,["imageConfig"],eX(R));const V=p(e,["enableEnhancedCivicAnswers"]);if(V!=null&&v(r,["enableEnhancedCivicAnswers"],V),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function S$(n,e,t,i){const r={},s=p(e,["systemInstruction"]);t!==void 0&&s!=null&&v(t,["systemInstruction"],Kn(s));const o=p(e,["temperature"]);o!=null&&v(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&v(r,["topP"],a);const l=p(e,["topK"]);l!=null&&v(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&v(r,["maxOutputTokens"],u);const h=p(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const f=p(e,["responseLogprobs"]);f!=null&&v(r,["responseLogprobs"],f);const g=p(e,["logprobs"]);g!=null&&v(r,["logprobs"],g);const _=p(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const m=p(e,["frequencyPenalty"]);m!=null&&v(r,["frequencyPenalty"],m);const D=p(e,["seed"]);D!=null&&v(r,["seed"],D);const y=p(e,["responseMimeType"]);y!=null&&v(r,["responseMimeType"],y);const b=p(e,["responseSchema"]);b!=null&&v(r,["responseSchema"],hA(b));const w=p(e,["responseJsonSchema"]);w!=null&&v(r,["responseJsonSchema"],w);const x=p(e,["routingConfig"]);x!=null&&v(r,["routingConfig"],x);const T=p(e,["modelSelectionConfig"]);T!=null&&v(r,["modelConfig"],T);const E=p(e,["safetySettings"]);if(t!==void 0&&E!=null){let M=E;Array.isArray(M)&&(M=M.map(L=>L)),v(t,["safetySettings"],M)}const C=p(e,["tools"]);if(t!==void 0&&C!=null){let M=Wf(C);Array.isArray(M)&&(M=M.map(L=>B8(Of(L)))),v(t,["tools"],M)}const F=p(e,["toolConfig"]);t!==void 0&&F!=null&&v(t,["toolConfig"],F);const P=p(e,["labels"]);t!==void 0&&P!=null&&v(t,["labels"],P);const O=p(e,["cachedContent"]);t!==void 0&&O!=null&&v(t,["cachedContent"],wa(n,O));const Y=p(e,["responseModalities"]);Y!=null&&v(r,["responseModalities"],Y);const R=p(e,["mediaResolution"]);R!=null&&v(r,["mediaResolution"],R);const V=p(e,["speechConfig"]);V!=null&&v(r,["speechConfig"],fA(V));const S=p(e,["audioTimestamp"]);S!=null&&v(r,["audioTimestamp"],S);const K=p(e,["thinkingConfig"]);K!=null&&v(r,["thinkingConfig"],K);const N=p(e,["imageConfig"]);if(N!=null&&v(r,["imageConfig"],tX(N)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const B=p(e,["modelArmorConfig"]);return t!==void 0&&B!=null&&v(t,["modelArmorConfig"],B),r}function _k(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["contents"]);if(s!=null){let a=Vr(s);Array.isArray(a)&&(a=a.map(l=>Jb(l))),v(i,["contents"],a)}const o=p(e,["config"]);return o!=null&&v(i,["generationConfig"],C$(n,o,i)),i}function Dk(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["contents"]);if(s!=null){let a=Vr(s);Array.isArray(a)&&(a=a.map(l=>l)),v(i,["contents"],a)}const o=p(e,["config"]);return o!=null&&v(i,["generationConfig"],S$(n,o,i)),i}function wk(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>JG(u))),v(t,["candidates"],c)}const s=p(n,["modelVersion"]);s!=null&&v(t,["modelVersion"],s);const o=p(n,["promptFeedback"]);o!=null&&v(t,["promptFeedback"],o);const a=p(n,["responseId"]);a!=null&&v(t,["responseId"],a);const l=p(n,["usageMetadata"]);return l!=null&&v(t,["usageMetadata"],l),t}function xk(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(h=>h)),v(t,["candidates"],u)}const s=p(n,["createTime"]);s!=null&&v(t,["createTime"],s);const o=p(n,["modelVersion"]);o!=null&&v(t,["modelVersion"],o);const a=p(n,["promptFeedback"]);a!=null&&v(t,["promptFeedback"],a);const l=p(n,["responseId"]);l!=null&&v(t,["responseId"],l);const c=p(n,["usageMetadata"]);return c!=null&&v(t,["usageMetadata"],c),t}function U$(n,e,t){const i={};if(p(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(n,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const s=p(n,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const o=p(n,["guidanceScale"]);if(e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o),p(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&v(e,["parameters","safetySetting"],a);const l=p(n,["personGeneration"]);e!==void 0&&l!=null&&v(e,["parameters","personGeneration"],l);const c=p(n,["includeSafetyAttributes"]);e!==void 0&&c!=null&&v(e,["parameters","includeSafetyAttributes"],c);const u=p(n,["includeRaiReason"]);e!==void 0&&u!=null&&v(e,["parameters","includeRaiReason"],u);const h=p(n,["language"]);e!==void 0&&h!=null&&v(e,["parameters","language"],h);const f=p(n,["outputMimeType"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","mimeType"],f);const g=p(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&v(e,["parameters","outputOptions","compressionQuality"],g),p(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=p(n,["imageSize"]);if(e!==void 0&&_!=null&&v(e,["parameters","sampleImageSize"],_),p(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function I$(n,e,t){const i={},r=p(n,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const s=p(n,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const o=p(n,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const a=p(n,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const l=p(n,["guidanceScale"]);e!==void 0&&l!=null&&v(e,["parameters","guidanceScale"],l);const c=p(n,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const u=p(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&v(e,["parameters","safetySetting"],u);const h=p(n,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const f=p(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&v(e,["parameters","includeSafetyAttributes"],f);const g=p(n,["includeRaiReason"]);e!==void 0&&g!=null&&v(e,["parameters","includeRaiReason"],g);const _=p(n,["language"]);e!==void 0&&_!=null&&v(e,["parameters","language"],_);const m=p(n,["outputMimeType"]);e!==void 0&&m!=null&&v(e,["parameters","outputOptions","mimeType"],m);const D=p(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&v(e,["parameters","outputOptions","compressionQuality"],D);const y=p(n,["addWatermark"]);e!==void 0&&y!=null&&v(e,["parameters","addWatermark"],y);const b=p(n,["labels"]);e!==void 0&&b!=null&&v(e,["labels"],b);const w=p(n,["imageSize"]);e!==void 0&&w!=null&&v(e,["parameters","sampleImageSize"],w);const x=p(n,["enhancePrompt"]);return e!==void 0&&x!=null&&v(e,["parameters","enhancePrompt"],x),i}function k$(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["prompt"]);s!=null&&v(i,["instances[0]","prompt"],s);const o=p(e,["config"]);return o!=null&&U$(o,i),i}function R$(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["prompt"]);s!=null&&v(i,["instances[0]","prompt"],s);const o=p(e,["config"]);return o!=null&&I$(o,i),i}function F$(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>G$(a))),v(t,["generatedImages"],o)}const s=p(n,["positivePromptSafetyAttributes"]);return s!=null&&v(t,["positivePromptSafetyAttributes"],N8(s)),t}function P$(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Qb(a))),v(t,["generatedImages"],o)}const s=p(n,["positivePromptSafetyAttributes"]);return s!=null&&v(t,["positivePromptSafetyAttributes"],L8(s)),t}function M$(n,e,t){const i={},r=p(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r),p(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=p(n,["durationSeconds"]);if(e!==void 0&&s!=null&&v(e,["parameters","durationSeconds"],s),p(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(n,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const a=p(n,["resolution"]);e!==void 0&&a!=null&&v(e,["parameters","resolution"],a);const l=p(n,["personGeneration"]);if(e!==void 0&&l!=null&&v(e,["parameters","personGeneration"],l),p(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(n,["negativePrompt"]);e!==void 0&&c!=null&&v(e,["parameters","negativePrompt"],c);const u=p(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&v(e,["parameters","enhancePrompt"],u),p(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=p(n,["lastFrame"]);e!==void 0&&h!=null&&v(e,["instances[0]","lastFrame"],Zb(h));const f=p(n,["referenceImages"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(_=>LX(_))),v(e,["instances[0]","referenceImages"],g)}if(p(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function N$(n,e,t){const i={},r=p(n,["numberOfVideos"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const s=p(n,["outputGcsUri"]);e!==void 0&&s!=null&&v(e,["parameters","storageUri"],s);const o=p(n,["fps"]);e!==void 0&&o!=null&&v(e,["parameters","fps"],o);const a=p(n,["durationSeconds"]);e!==void 0&&a!=null&&v(e,["parameters","durationSeconds"],a);const l=p(n,["seed"]);e!==void 0&&l!=null&&v(e,["parameters","seed"],l);const c=p(n,["aspectRatio"]);e!==void 0&&c!=null&&v(e,["parameters","aspectRatio"],c);const u=p(n,["resolution"]);e!==void 0&&u!=null&&v(e,["parameters","resolution"],u);const h=p(n,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const f=p(n,["pubsubTopic"]);e!==void 0&&f!=null&&v(e,["parameters","pubsubTopic"],f);const g=p(n,["negativePrompt"]);e!==void 0&&g!=null&&v(e,["parameters","negativePrompt"],g);const _=p(n,["enhancePrompt"]);e!==void 0&&_!=null&&v(e,["parameters","enhancePrompt"],_);const m=p(n,["generateAudio"]);e!==void 0&&m!=null&&v(e,["parameters","generateAudio"],m);const D=p(n,["lastFrame"]);e!==void 0&&D!=null&&v(e,["instances[0]","lastFrame"],Ts(D));const y=p(n,["referenceImages"]);if(e!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(T=>BX(T))),v(e,["instances[0]","referenceImages"],x)}const b=p(n,["mask"]);e!==void 0&&b!=null&&v(e,["instances[0]","mask"],NX(b));const w=p(n,["compressionQuality"]);return e!==void 0&&w!=null&&v(e,["parameters","compressionQuality"],w),i}function L$(n,e){const t={},i=p(n,["name"]);i!=null&&v(t,["name"],i);const r=p(n,["metadata"]);r!=null&&v(t,["metadata"],r);const s=p(n,["done"]);s!=null&&v(t,["done"],s);const o=p(n,["error"]);o!=null&&v(t,["error"],o);const a=p(n,["response","generateVideoResponse"]);return a!=null&&v(t,["response"],V$(a)),t}function B$(n,e){const t={},i=p(n,["name"]);i!=null&&v(t,["name"],i);const r=p(n,["metadata"]);r!=null&&v(t,["metadata"],r);const s=p(n,["done"]);s!=null&&v(t,["done"],s);const o=p(n,["error"]);o!=null&&v(t,["error"],o);const a=p(n,["response"]);return a!=null&&v(t,["response"],H$(a)),t}function O$(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["prompt"]);s!=null&&v(i,["instances[0]","prompt"],s);const o=p(e,["image"]);o!=null&&v(i,["instances[0]","image"],Zb(o));const a=p(e,["video"]);a!=null&&v(i,["instances[0]","video"],O8(a));const l=p(e,["source"]);l!=null&&q$(l,i);const c=p(e,["config"]);return c!=null&&M$(c,i),i}function W$(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["prompt"]);s!=null&&v(i,["instances[0]","prompt"],s);const o=p(e,["image"]);o!=null&&v(i,["instances[0]","image"],Ts(o));const a=p(e,["video"]);a!=null&&v(i,["instances[0]","video"],W8(a));const l=p(e,["source"]);l!=null&&z$(l,i);const c=p(e,["config"]);return c!=null&&N$(c,i),i}function V$(n,e){const t={},i=p(n,["generatedSamples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>X$(a))),v(t,["generatedVideos"],o)}const r=p(n,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const s=p(n,["raiMediaFilteredReasons"]);return s!=null&&v(t,["raiMediaFilteredReasons"],s),t}function H$(n,e){const t={},i=p(n,["videos"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Y$(a))),v(t,["generatedVideos"],o)}const r=p(n,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const s=p(n,["raiMediaFilteredReasons"]);return s!=null&&v(t,["raiMediaFilteredReasons"],s),t}function q$(n,e,t){const i={},r=p(n,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const s=p(n,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],Zb(s));const o=p(n,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],O8(o)),i}function z$(n,e,t){const i={},r=p(n,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const s=p(n,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],Ts(s));const o=p(n,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],W8(o)),i}function G$(n,e){const t={},i=p(n,["_self"]);i!=null&&v(t,["image"],nX(i));const r=p(n,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const s=p(n,["_self"]);return s!=null&&v(t,["safetyAttributes"],N8(s)),t}function Qb(n,e){const t={},i=p(n,["_self"]);i!=null&&v(t,["image"],M8(i));const r=p(n,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const s=p(n,["_self"]);s!=null&&v(t,["safetyAttributes"],L8(s));const o=p(n,["prompt"]);return o!=null&&v(t,["enhancedPrompt"],o),t}function $$(n,e){const t={},i=p(n,["_self"]);i!=null&&v(t,["mask"],M8(i));const r=p(n,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),v(t,["labels"],s)}return t}function X$(n,e){const t={},i=p(n,["video"]);return i!=null&&v(t,["video"],PX(i)),t}function Y$(n,e){const t={},i=p(n,["_self"]);return i!=null&&v(t,["video"],MX(i)),t}function K$(n,e){const t={},i=p(n,["modelSelectionConfig"]);i!=null&&v(t,["modelConfig"],i);const r=p(n,["responseJsonSchema"]);r!=null&&v(t,["responseJsonSchema"],r);const s=p(n,["audioTimestamp"]);s!=null&&v(t,["audioTimestamp"],s);const o=p(n,["candidateCount"]);o!=null&&v(t,["candidateCount"],o);const a=p(n,["enableAffectiveDialog"]);a!=null&&v(t,["enableAffectiveDialog"],a);const l=p(n,["frequencyPenalty"]);l!=null&&v(t,["frequencyPenalty"],l);const c=p(n,["logprobs"]);c!=null&&v(t,["logprobs"],c);const u=p(n,["maxOutputTokens"]);u!=null&&v(t,["maxOutputTokens"],u);const h=p(n,["mediaResolution"]);h!=null&&v(t,["mediaResolution"],h);const f=p(n,["presencePenalty"]);f!=null&&v(t,["presencePenalty"],f);const g=p(n,["responseLogprobs"]);g!=null&&v(t,["responseLogprobs"],g);const _=p(n,["responseMimeType"]);_!=null&&v(t,["responseMimeType"],_);const m=p(n,["responseModalities"]);m!=null&&v(t,["responseModalities"],m);const D=p(n,["responseSchema"]);D!=null&&v(t,["responseSchema"],D);const y=p(n,["routingConfig"]);y!=null&&v(t,["routingConfig"],y);const b=p(n,["seed"]);b!=null&&v(t,["seed"],b);const w=p(n,["speechConfig"]);w!=null&&v(t,["speechConfig"],w);const x=p(n,["stopSequences"]);x!=null&&v(t,["stopSequences"],x);const T=p(n,["temperature"]);T!=null&&v(t,["temperature"],T);const E=p(n,["thinkingConfig"]);E!=null&&v(t,["thinkingConfig"],E);const C=p(n,["topK"]);C!=null&&v(t,["topK"],C);const F=p(n,["topP"]);if(F!=null&&v(t,["topP"],F),p(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function J$(n,e,t){const i={},r=p(e,["model"]);return r!=null&&v(i,["_url","name"],Je(n,r)),i}function Q$(n,e,t){const i={},r=p(e,["model"]);return r!=null&&v(i,["_url","name"],Je(n,r)),i}function Z$(n,e){const t={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=p(n,["enableWidget"]);return i!=null&&v(t,["enableWidget"],i),t}function j$(n,e){const t={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=p(n,["timeRangeFilter"]);return i!=null&&v(t,["timeRangeFilter"],i),t}function eX(n,e){const t={},i=p(n,["aspectRatio"]);i!=null&&v(t,["aspectRatio"],i);const r=p(n,["imageSize"]);if(r!=null&&v(t,["imageSize"],r),p(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function tX(n,e){const t={},i=p(n,["aspectRatio"]);i!=null&&v(t,["aspectRatio"],i);const r=p(n,["imageSize"]);r!=null&&v(t,["imageSize"],r);const s=p(n,["personGeneration"]);s!=null&&v(t,["personGeneration"],s);const o=p(n,["outputMimeType"]);o!=null&&v(t,["imageOutputOptions","mimeType"],o);const a=p(n,["outputCompressionQuality"]);return a!=null&&v(t,["imageOutputOptions","compressionQuality"],a),t}function nX(n,e){const t={},i=p(n,["bytesBase64Encoded"]);i!=null&&v(t,["imageBytes"],Jl(i));const r=p(n,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function M8(n,e){const t={},i=p(n,["gcsUri"]);i!=null&&v(t,["gcsUri"],i);const r=p(n,["bytesBase64Encoded"]);r!=null&&v(t,["imageBytes"],Jl(r));const s=p(n,["mimeType"]);return s!=null&&v(t,["mimeType"],s),t}function Zb(n,e){const t={};if(p(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=p(n,["imageBytes"]);i!=null&&v(t,["bytesBase64Encoded"],Jl(i));const r=p(n,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Ts(n,e){const t={},i=p(n,["gcsUri"]);i!=null&&v(t,["gcsUri"],i);const r=p(n,["imageBytes"]);r!=null&&v(t,["bytesBase64Encoded"],Jl(r));const s=p(n,["mimeType"]);return s!=null&&v(t,["mimeType"],s),t}function iX(n,e,t,i){const r={},s=p(e,["pageSize"]);t!==void 0&&s!=null&&v(t,["_query","pageSize"],s);const o=p(e,["pageToken"]);t!==void 0&&o!=null&&v(t,["_query","pageToken"],o);const a=p(e,["filter"]);t!==void 0&&a!=null&&v(t,["_query","filter"],a);const l=p(e,["queryBase"]);return t!==void 0&&l!=null&&v(t,["_url","models_url"],S8(n,l)),r}function rX(n,e,t,i){const r={},s=p(e,["pageSize"]);t!==void 0&&s!=null&&v(t,["_query","pageSize"],s);const o=p(e,["pageToken"]);t!==void 0&&o!=null&&v(t,["_query","pageToken"],o);const a=p(e,["filter"]);t!==void 0&&a!=null&&v(t,["_query","filter"],a);const l=p(e,["queryBase"]);return t!==void 0&&l!=null&&v(t,["_url","models_url"],S8(n,l)),r}function sX(n,e,t){const i={},r=p(e,["config"]);return r!=null&&iX(n,r,i),i}function oX(n,e,t){const i={},r=p(e,["config"]);return r!=null&&rX(n,r,i),i}function aX(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const s=p(n,["_self"]);if(s!=null){let o=U8(s);Array.isArray(o)&&(o=o.map(a=>kx(a))),v(t,["models"],o)}return t}function lX(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const s=p(n,["_self"]);if(s!=null){let o=U8(s);Array.isArray(o)&&(o=o.map(a=>Rx(a))),v(t,["models"],o)}return t}function cX(n,e){const t={},i=p(n,["maskMode"]);i!=null&&v(t,["maskMode"],i);const r=p(n,["segmentationClasses"]);r!=null&&v(t,["maskClasses"],r);const s=p(n,["maskDilation"]);return s!=null&&v(t,["dilation"],s),t}function kx(n,e){const t={},i=p(n,["name"]);i!=null&&v(t,["name"],i);const r=p(n,["displayName"]);r!=null&&v(t,["displayName"],r);const s=p(n,["description"]);s!=null&&v(t,["description"],s);const o=p(n,["version"]);o!=null&&v(t,["version"],o);const a=p(n,["_self"]);a!=null&&v(t,["tunedModelInfo"],EX(a));const l=p(n,["inputTokenLimit"]);l!=null&&v(t,["inputTokenLimit"],l);const c=p(n,["outputTokenLimit"]);c!=null&&v(t,["outputTokenLimit"],c);const u=p(n,["supportedGenerationMethods"]);u!=null&&v(t,["supportedActions"],u);const h=p(n,["temperature"]);h!=null&&v(t,["temperature"],h);const f=p(n,["maxTemperature"]);f!=null&&v(t,["maxTemperature"],f);const g=p(n,["topP"]);g!=null&&v(t,["topP"],g);const _=p(n,["topK"]);_!=null&&v(t,["topK"],_);const m=p(n,["thinking"]);return m!=null&&v(t,["thinking"],m),t}function Rx(n,e){const t={},i=p(n,["name"]);i!=null&&v(t,["name"],i);const r=p(n,["displayName"]);r!=null&&v(t,["displayName"],r);const s=p(n,["description"]);s!=null&&v(t,["description"],s);const o=p(n,["versionId"]);o!=null&&v(t,["version"],o);const a=p(n,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(g=>w$(g))),v(t,["endpoints"],f)}const l=p(n,["labels"]);l!=null&&v(t,["labels"],l);const c=p(n,["_self"]);c!=null&&v(t,["tunedModelInfo"],AX(c));const u=p(n,["defaultCheckpointId"]);u!=null&&v(t,["defaultCheckpointId"],u);const h=p(n,["checkpoints"]);if(h!=null){let f=h;Array.isArray(f)&&(f=f.map(g=>g)),v(t,["checkpoints"],f)}return t}function uX(n,e){const t={},i=p(n,["mediaResolution"]);i!=null&&v(t,["mediaResolution"],i);const r=p(n,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const s=p(n,["executableCode"]);s!=null&&v(t,["executableCode"],s);const o=p(n,["fileData"]);o!=null&&v(t,["fileData"],x$(o));const a=p(n,["functionCall"]);a!=null&&v(t,["functionCall"],T$(a));const l=p(n,["functionResponse"]);l!=null&&v(t,["functionResponse"],l);const c=p(n,["inlineData"]);c!=null&&v(t,["inlineData"],KG(c));const u=p(n,["text"]);u!=null&&v(t,["text"],u);const h=p(n,["thought"]);h!=null&&v(t,["thought"],h);const f=p(n,["thoughtSignature"]);f!=null&&v(t,["thoughtSignature"],f);const g=p(n,["videoMetadata"]);return g!=null&&v(t,["videoMetadata"],g),t}function dX(n,e){const t={},i=p(n,["productImage"]);return i!=null&&v(t,["image"],Ts(i)),t}function hX(n,e,t){const i={},r=p(n,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const s=p(n,["baseSteps"]);e!==void 0&&s!=null&&v(e,["parameters","baseSteps"],s);const o=p(n,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const a=p(n,["seed"]);e!==void 0&&a!=null&&v(e,["parameters","seed"],a);const l=p(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&v(e,["parameters","safetySetting"],l);const c=p(n,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const u=p(n,["addWatermark"]);e!==void 0&&u!=null&&v(e,["parameters","addWatermark"],u);const h=p(n,["outputMimeType"]);e!==void 0&&h!=null&&v(e,["parameters","outputOptions","mimeType"],h);const f=p(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","compressionQuality"],f);const g=p(n,["enhancePrompt"]);e!==void 0&&g!=null&&v(e,["parameters","enhancePrompt"],g);const _=p(n,["labels"]);return e!==void 0&&_!=null&&v(e,["labels"],_),i}function fX(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["source"]);s!=null&&gX(s,i);const o=p(e,["config"]);return o!=null&&hX(o,i),i}function pX(n,e){const t={},i=p(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Qb(s))),v(t,["generatedImages"],r)}return t}function gX(n,e,t){const i={},r=p(n,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const s=p(n,["personImage"]);e!==void 0&&s!=null&&v(e,["instances[0]","personImage","image"],Ts(s));const o=p(n,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>dX(l))),v(e,["instances[0]","productImages"],a)}return i}function mX(n,e){const t={},i=p(n,["referenceImage"]);i!=null&&v(t,["referenceImage"],Ts(i));const r=p(n,["referenceId"]);r!=null&&v(t,["referenceId"],r);const s=p(n,["referenceType"]);s!=null&&v(t,["referenceType"],s);const o=p(n,["maskImageConfig"]);o!=null&&v(t,["maskImageConfig"],cX(o));const a=p(n,["controlImageConfig"]);a!=null&&v(t,["controlImageConfig"],n$(a));const l=p(n,["styleImageConfig"]);l!=null&&v(t,["styleImageConfig"],l);const c=p(n,["subjectImageConfig"]);return c!=null&&v(t,["subjectImageConfig"],c),t}function N8(n,e){const t={},i=p(n,["safetyAttributes","categories"]);i!=null&&v(t,["categories"],i);const r=p(n,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const s=p(n,["contentType"]);return s!=null&&v(t,["contentType"],s),t}function L8(n,e){const t={},i=p(n,["safetyAttributes","categories"]);i!=null&&v(t,["categories"],i);const r=p(n,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const s=p(n,["contentType"]);return s!=null&&v(t,["contentType"],s),t}function yX(n,e){const t={},i=p(n,["category"]);if(i!=null&&v(t,["category"],i),p(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(n,["threshold"]);return r!=null&&v(t,["threshold"],r),t}function vX(n,e){const t={},i=p(n,["image"]);return i!=null&&v(t,["image"],Ts(i)),t}function bX(n,e,t){const i={},r=p(n,["mode"]);e!==void 0&&r!=null&&v(e,["parameters","mode"],r);const s=p(n,["maxPredictions"]);e!==void 0&&s!=null&&v(e,["parameters","maxPredictions"],s);const o=p(n,["confidenceThreshold"]);e!==void 0&&o!=null&&v(e,["parameters","confidenceThreshold"],o);const a=p(n,["maskDilation"]);e!==void 0&&a!=null&&v(e,["parameters","maskDilation"],a);const l=p(n,["binaryColorThreshold"]);e!==void 0&&l!=null&&v(e,["parameters","binaryColorThreshold"],l);const c=p(n,["labels"]);return e!==void 0&&c!=null&&v(e,["labels"],c),i}function _X(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["source"]);s!=null&&wX(s,i);const o=p(e,["config"]);return o!=null&&bX(o,i),i}function DX(n,e){const t={},i=p(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>$$(s))),v(t,["generatedMasks"],r)}return t}function wX(n,e,t){const i={},r=p(n,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const s=p(n,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],Ts(s));const o=p(n,["scribbleImage"]);return e!==void 0&&o!=null&&v(e,["instances[0]","scribble"],vX(o)),i}function xX(n,e){const t={},i=p(n,["retrievalConfig"]);i!=null&&v(t,["retrievalConfig"],i);const r=p(n,["functionCallingConfig"]);return r!=null&&v(t,["functionCallingConfig"],E$(r)),t}function TX(n,e){const t={};if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(n,["computerUse"]);i!=null&&v(t,["computerUse"],i);const r=p(n,["fileSearch"]);r!=null&&v(t,["fileSearch"],r);const s=p(n,["codeExecution"]);if(s!=null&&v(t,["codeExecution"],s),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(n,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(f=>f)),v(t,["functionDeclarations"],h)}const a=p(n,["googleMaps"]);a!=null&&v(t,["googleMaps"],Z$(a));const l=p(n,["googleSearch"]);l!=null&&v(t,["googleSearch"],j$(l));const c=p(n,["googleSearchRetrieval"]);c!=null&&v(t,["googleSearchRetrieval"],c);const u=p(n,["urlContext"]);return u!=null&&v(t,["urlContext"],u),t}function B8(n,e){const t={},i=p(n,["retrieval"]);i!=null&&v(t,["retrieval"],i);const r=p(n,["computerUse"]);if(r!=null&&v(t,["computerUse"],r),p(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(n,["codeExecution"]);s!=null&&v(t,["codeExecution"],s);const o=p(n,["enterpriseWebSearch"]);o!=null&&v(t,["enterpriseWebSearch"],o);const a=p(n,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(g=>A$(g))),v(t,["functionDeclarations"],f)}const l=p(n,["googleMaps"]);l!=null&&v(t,["googleMaps"],l);const c=p(n,["googleSearch"]);c!=null&&v(t,["googleSearch"],c);const u=p(n,["googleSearchRetrieval"]);u!=null&&v(t,["googleSearchRetrieval"],u);const h=p(n,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function EX(n,e){const t={},i=p(n,["baseModel"]);i!=null&&v(t,["baseModel"],i);const r=p(n,["createTime"]);r!=null&&v(t,["createTime"],r);const s=p(n,["updateTime"]);return s!=null&&v(t,["updateTime"],s),t}function AX(n,e){const t={},i=p(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&v(t,["baseModel"],i);const r=p(n,["createTime"]);r!=null&&v(t,["createTime"],r);const s=p(n,["updateTime"]);return s!=null&&v(t,["updateTime"],s),t}function CX(n,e,t){const i={},r=p(n,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const s=p(n,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const o=p(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),i}function SX(n,e,t){const i={},r=p(n,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const s=p(n,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const o=p(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),i}function UX(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","name"],Je(n,r));const s=p(e,["config"]);return s!=null&&CX(s,i),i}function IX(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["config"]);return s!=null&&SX(s,i),i}function kX(n,e,t){const i={},r=p(n,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const s=p(n,["safetyFilterLevel"]);e!==void 0&&s!=null&&v(e,["parameters","safetySetting"],s);const o=p(n,["personGeneration"]);e!==void 0&&o!=null&&v(e,["parameters","personGeneration"],o);const a=p(n,["includeRaiReason"]);e!==void 0&&a!=null&&v(e,["parameters","includeRaiReason"],a);const l=p(n,["outputMimeType"]);e!==void 0&&l!=null&&v(e,["parameters","outputOptions","mimeType"],l);const c=p(n,["outputCompressionQuality"]);e!==void 0&&c!=null&&v(e,["parameters","outputOptions","compressionQuality"],c);const u=p(n,["enhanceInputImage"]);e!==void 0&&u!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],u);const h=p(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const f=p(n,["labels"]);e!==void 0&&f!=null&&v(e,["labels"],f);const g=p(n,["numberOfImages"]);e!==void 0&&g!=null&&v(e,["parameters","sampleCount"],g);const _=p(n,["mode"]);return e!==void 0&&_!=null&&v(e,["parameters","mode"],_),i}function RX(n,e,t){const i={},r=p(e,["model"]);r!=null&&v(i,["_url","model"],Je(n,r));const s=p(e,["image"]);s!=null&&v(i,["instances[0]","image"],Ts(s));const o=p(e,["upscaleFactor"]);o!=null&&v(i,["parameters","upscaleConfig","upscaleFactor"],o);const a=p(e,["config"]);return a!=null&&kX(a,i),i}function FX(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Qb(o))),v(t,["generatedImages"],s)}return t}function PX(n,e){const t={},i=p(n,["uri"]);i!=null&&v(t,["uri"],i);const r=p(n,["encodedVideo"]);r!=null&&v(t,["videoBytes"],Jl(r));const s=p(n,["encoding"]);return s!=null&&v(t,["mimeType"],s),t}function MX(n,e){const t={},i=p(n,["gcsUri"]);i!=null&&v(t,["uri"],i);const r=p(n,["bytesBase64Encoded"]);r!=null&&v(t,["videoBytes"],Jl(r));const s=p(n,["mimeType"]);return s!=null&&v(t,["mimeType"],s),t}function NX(n,e){const t={},i=p(n,["image"]);i!=null&&v(t,["_self"],Ts(i));const r=p(n,["maskMode"]);return r!=null&&v(t,["maskMode"],r),t}function LX(n,e){const t={},i=p(n,["image"]);i!=null&&v(t,["image"],Zb(i));const r=p(n,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function BX(n,e){const t={},i=p(n,["image"]);i!=null&&v(t,["image"],Ts(i));const r=p(n,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function O8(n,e){const t={},i=p(n,["uri"]);i!=null&&v(t,["uri"],i);const r=p(n,["videoBytes"]);r!=null&&v(t,["encodedVideo"],Jl(r));const s=p(n,["mimeType"]);return s!=null&&v(t,["encoding"],s),t}function W8(n,e){const t={},i=p(n,["uri"]);i!=null&&v(t,["gcsUri"],i);const r=p(n,["videoBytes"]);r!=null&&v(t,["bytesBase64Encoded"],Jl(r));const s=p(n,["mimeType"]);return s!=null&&v(t,["mimeType"],s),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OX(n,e){const t={},i=p(n,["displayName"]);return e!==void 0&&i!=null&&v(e,["displayName"],i),t}function WX(n){const e={},t=p(n,["config"]);return t!=null&&OX(t,e),e}function VX(n,e){const t={},i=p(n,["force"]);return e!==void 0&&i!=null&&v(e,["_query","force"],i),t}function HX(n){const e={},t=p(n,["name"]);t!=null&&v(e,["_url","name"],t);const i=p(n,["config"]);return i!=null&&VX(i,e),e}function qX(n){const e={},t=p(n,["name"]);return t!=null&&v(e,["_url","name"],t),e}function zX(n,e){const t={},i=p(n,["customMetadata"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["customMetadata"],s)}const r=p(n,["chunkingConfig"]);return e!==void 0&&r!=null&&v(e,["chunkingConfig"],r),t}function GX(n){const e={},t=p(n,["name"]);t!=null&&v(e,["name"],t);const i=p(n,["metadata"]);i!=null&&v(e,["metadata"],i);const r=p(n,["done"]);r!=null&&v(e,["done"],r);const s=p(n,["error"]);s!=null&&v(e,["error"],s);const o=p(n,["response"]);return o!=null&&v(e,["response"],XX(o)),e}function $X(n){const e={},t=p(n,["fileSearchStoreName"]);t!=null&&v(e,["_url","file_search_store_name"],t);const i=p(n,["fileName"]);i!=null&&v(e,["fileName"],i);const r=p(n,["config"]);return r!=null&&zX(r,e),e}function XX(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["parent"]);i!=null&&v(e,["parent"],i);const r=p(n,["documentName"]);return r!=null&&v(e,["documentName"],r),e}function YX(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),t}function KX(n){const e={},t=p(n,["config"]);return t!=null&&YX(t,e),e}function JX(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(n,["fileSearchStores"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["fileSearchStores"],s)}return e}function V8(n,e){const t={},i=p(n,["mimeType"]);e!==void 0&&i!=null&&v(e,["mimeType"],i);const r=p(n,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const s=p(n,["customMetadata"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),v(e,["customMetadata"],a)}const o=p(n,["chunkingConfig"]);return e!==void 0&&o!=null&&v(e,["chunkingConfig"],o),t}function QX(n){const e={},t=p(n,["fileSearchStoreName"]);t!=null&&v(e,["_url","file_search_store_name"],t);const i=p(n,["config"]);return i!=null&&V8(i,e),e}function ZX(n){const e={},t=p(n,["sdkHttpResponse"]);return t!=null&&v(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jX="Content-Type",eY="X-Server-Timeout",tY="User-Agent",Fx="x-goog-api-client",nY="1.39.0",iY=`google-genai-sdk/${nY}`,rY="v1beta1",sY="v1beta";class oY{constructor(e){var t,i,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(t=e.httpOptions)===null||t===void 0?void 0:t.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:rY}else{if(!this.clientOptions.apiKey)throw new Ag({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:sY,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,t){return!(t.baseUrl&&t.baseUrlResourceScope===Cx.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[o,a]of Object.entries(e.queryParams))r.searchParams.append(o,String(a));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){const s=new AbortController,o=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const a=setTimeout(()=>s.abort(),t.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=o}return t&&t.extraBody!==null&&aY(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await Tk(r),new Sx(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await Tk(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return ms(this,arguments,function*(){var i;const r=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let o="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:u}=yield Ce(r.read());if(c){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=s.decode(u,{stream:!0});try{const _=JSON.parse(h);if("error"in _){const m=JSON.parse(JSON.stringify(_.error)),D=m.status,y=m.code,b=`got status: ${D}. ${JSON.stringify(_)}`;if(y>=400&&y<600)throw new Ag({message:b,status:y})}}catch(_){if(_.name==="ApiError")throw _}o+=h;let f=-1,g=0;for(;;){f=-1,g=0;for(const D of l){const y=o.indexOf(D);y!==-1&&(f===-1||y<f)&&(f=y,g=D.length)}if(f===-1)break;const _=o.substring(0,f);o=o.substring(f+g);const m=_.trim();if(m.startsWith(a)){const D=m.substring(a.length).trim();try{const y=new Response(D,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ce(new Sx(y))}catch(y){throw new Error(`exception parsing stream chunk ${D}. ${y}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=iY+" "+this.clientOptions.userAgentExtra;return e[tY]=t,e[Fx]=t,e[jX]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))i.append(r,s);e.timeout&&e.timeout>0&&i.append(eY,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);r.sizeBytes=String(o.size);const a=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:o.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const l={file:r},c=this.getFileName(e),u=me("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(u,r.sizeBytes,r.mimeType,c,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,i){var r;const s=this.clientOptions.uploader,o=await s.stat(t),a=String(o.size),l=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),h={};i!=null&&V8(i,h);const f=await this.fetchUploadUrl(c,a,l,u,h,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(t,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,s,o){var a;let l={};o?l=o:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const c=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Tk(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new Ag({message:r,status:t}):new Error(r)}}function aY(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,o){const a=Object.assign({},s);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const c=o[l],u=a[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?a[l]=i(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),a[l]=c)}return a}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lY="mcp_used/unknown";let cY=!1;function H8(n){for(const e of n)if(uY(e)||typeof e=="object"&&"inputSchema"in e)return!0;return cY}function q8(n){var e;const t=(e=n[Fx])!==null&&e!==void 0?e:"";n[Fx]=(t+` ${lY}`).trimStart()}function uY(n){return n!==null&&typeof n=="object"&&n instanceof gA}function dY(n){return ms(this,arguments,function*(t,i=100){let r,s=0;for(;s<i;){const o=yield Ce(t.listTools({cursor:r}));for(const a of o.tools)yield yield Ce(a),s++;if(!o.nextCursor)break;r=o.nextCursor}})}class gA{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new gA(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const s={},o=[];for(const u of this.mcpClients)try{for(var a=!0,l=(t=void 0,ys(dY(u))),c;c=await l.next(),e=c.done,!e;a=!0){r=c.value,a=!1;const h=r;o.push(h);const f=h.name;if(s[f])throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);s[f]=u}}catch(h){t={error:h}}finally{try{!a&&!e&&(i=l.return)&&await i.call(l)}finally{if(t)throw t.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Wq(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await r.callTool({name:i.name,arguments:i.args},void 0,s);t.push({functionResponse:{name:i.name,response:o.isError?{error:o}:o}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hY(n,e,t){const i=new Rq;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}class fY{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=mY(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${a}`;let c=()=>{};const u=new Promise(w=>{c=w}),h=e.callbacks,f=function(){c({})},g=this.apiClient,_={onopen:f,onmessage:w=>{hY(g,h.onmessage,w)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(w){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(w){}},m=this.webSocketFactory.create(l,gY(o),_);m.connect(),await u;const b={setup:{model:Je(this.apiClient,e.model)}};return m.send(JSON.stringify(b)),new pY(m,this.apiClient)}}class pY{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=OG(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=BG(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Cd.PLAY)}pause(){this.sendPlaybackControl(Cd.PAUSE)}stop(){this.sendPlaybackControl(Cd.STOP)}resetContext(){this.sendPlaybackControl(Cd.RESET_CONTEXT)}close(){this.conn.close()}}function gY(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function mY(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yY="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vY(n,e,t){const i=new kq;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const s=JSON.parse(r);if(n.isVertexAI()){const o=HG(s);Object.assign(i,o)}else Object.assign(i,s);e(i)}class bY{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new fY(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,s,o,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&H8(e.config.tools)&&q8(h);const f=xY(h);if(this.apiClient.isVertexAI()){const P=this.apiClient.getProject(),O=this.apiClient.getLocation(),Y=this.apiClient.getApiKey(),R=!!P&&!!O||!!Y;this.apiClient.getCustomBaseUrl()&&!R?u=l:(u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f,u))}else{const P=this.apiClient.getApiKey();let O="BidiGenerateContent",Y="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",Y="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${O}?${Y}=${P}`}let g=()=>{};const _=new Promise(P=>{g=P}),m=e.callbacks,D=function(){var P;(P=m==null?void 0:m.onopen)===null||P===void 0||P.call(m),g({})},y=this.apiClient,b={onopen:D,onmessage:P=>{vY(y,m.onmessage,P)},onerror:(t=m==null?void 0:m.onerror)!==null&&t!==void 0?t:function(P){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(P){}},w=this.webSocketFactory.create(u,wY(f),b);w.connect(),await _;let x=Je(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){const P=this.apiClient.getProject(),O=this.apiClient.getLocation();P&&O&&(x=`projects/${P}/locations/${O}/`+x)}let T={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[g1.AUDIO]}:e.config.responseModalities=[g1.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[],C=[];for(const P of E)if(this.isCallableTool(P)){const O=P;C.push(await O.tool())}else C.push(P);C.length>0&&(e.config.tools=C);const F={model:x,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=LG(this.apiClient,F):T=NG(this.apiClient,F),delete T.config,w.send(JSON.stringify(T)),new DY(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const _Y={turnComplete:!0};class DY{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Vr(t.turns),e.isVertexAI()||(i=i.map(r=>Jb(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(yY)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},_Y),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:VG(e)}:t={realtimeInput:WG(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function wY(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function xY(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ek=10;function Ak(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const o of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(qd(o)){r=!0;break}if(!r)return!0;const s=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function qd(n){return"callTool"in n&&typeof n.callTool=="function"}function TY(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>qd(r)))!==null&&i!==void 0?i:!1}function Ck(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if(qd(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(r)}),t}function Sk(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EY extends Da{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,s,o,a;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!TY(t)||Ak(t.config))return await this.generateContentInternal(l);const c=Ck(t);if(c.length>0){const m=c.map(D=>`tools[${D}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${m}.`)}let u,h;const f=Vr(l.contents),g=(s=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:Ek;let _=0;for(;_<g&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const m=u.candidates[0].content,D=[];for(const y of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(qd(y)){const w=await y.callTool(u.functionCalls);D.push(...w)}_++,h={role:"user",parts:D},l.contents=Vr(l.contents),l.contents.push(m),l.contents.push(h),Sk(l.config)&&(f.push(m),f.push(h))}return Sk(l.config)&&(u.automaticFunctionCallingHistory=f),u},this.generateContentStream=async t=>{var i,r,s,o,a;if(this.maybeMoveToResponseJsonSchem(t),Ak(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=Ck(t);if(l.length>0){const h=l.map(f=>`tools[${f}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(s=(r=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,u=(a=(o=t==null?void 0:t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(c&&!u)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let s;const o=[];if(i!=null&&i.generatedImages)for(const l of i.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:o.push(l);let a;return s?a={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:a={generatedImages:o,sdkHttpResponse:i.sdkHttpResponse},a}),this.list=async t=>{var i;const o={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((i=o.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Xu(ga.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(o),o)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,s,o,a,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((o=(s=t.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((l=(a=t.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const o=await Promise.all(s.map(async l=>qd(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&H8(e.config.tools)){const l=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),q8(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var t,i,r;const s=new Map;for(const o of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(qd(o)){const a=o,l=await a.tool();for(const c of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,a)}}return s}async processAfcStream(e){var t,i,r;const s=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Ek;let o=!1,a=0;const l=await this.initAfcToolsMap(e);return function(c,u,h){return ms(this,arguments,function*(){for(var f,g,_,m,D,y;a<s;){o&&(a++,o=!1);const T=yield Ce(c.processParamsMaybeAddMcpUsage(h)),E=yield Ce(c.generateContentStreamInternal(T)),C=[],F=[];try{for(var b=!0,w=(g=void 0,ys(E)),x;x=yield Ce(w.next()),f=x.done,!f;b=!0){m=x.value,b=!1;const P=m;if(yield yield Ce(P),P.candidates&&(!((D=P.candidates[0])===null||D===void 0)&&D.content)){F.push(P.candidates[0].content);for(const O of(y=P.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(a<s&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(O.functionCall.name)){const Y=yield Ce(u.get(O.functionCall.name).callTool([O.functionCall]));C.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(P){g={error:P}}finally{try{!b&&!f&&(_=w.return)&&(yield Ce(_.call(w)))}finally{if(g)throw g.error}}if(C.length>0){o=!0;const P=new ap;P.candidates=[{content:{role:"user",parts:C}}],yield yield Ce(P);const O=[];O.push(...F),O.push({role:"user",parts:C});const Y=Vr(h.contents).concat(O);h.contents=Y}else break}})}(this,l,e)}async generateContentInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Dk(this.apiClient,e);return a=me("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=xk(u),f=new ap;return Object.assign(f,h),f})}else{const c=_k(this.apiClient,e);return a=me("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=wk(u),f=new ap;return Object.assign(f,h),f})}}async generateContentStreamInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Dk(this.apiClient,e);return a=me("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(h){return ms(this,arguments,function*(){var f,g,_,m;try{for(var D=!0,y=ys(h),b;b=yield Ce(y.next()),f=b.done,!f;D=!0){m=b.value,D=!1;const w=m,x=xk(yield Ce(w.json()),e);x.sdkHttpResponse={headers:w.headers};const T=new ap;Object.assign(T,x),yield yield Ce(T)}}catch(w){g={error:w}}finally{try{!D&&!f&&(_=y.return)&&(yield Ce(_.call(y)))}finally{if(g)throw g.error}}})})}else{const c=_k(this.apiClient,e);return a=me("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(h){return ms(this,arguments,function*(){var f,g,_,m;try{for(var D=!0,y=ys(h),b;b=yield Ce(y.next()),f=b.done,!f;D=!0){m=b.value,D=!1;const w=m,x=wk(yield Ce(w.json()),e);x.sdkHttpResponse={headers:w.headers};const T=new ap;Object.assign(T,x),yield yield Ce(T)}}catch(w){g={error:w}}finally{try{!D&&!f&&(_=y.return)&&(yield Ce(_.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=b$(this.apiClient,e);return a=me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=D$(u),f=new ik;return Object.assign(f,h),f})}else{const c=v$(this.apiClient,e);return a=me("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=_$(u),f=new ik;return Object.assign(f,h),f})}}async generateImagesInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=R$(this.apiClient,e);return a=me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=P$(u),f=new rk;return Object.assign(f,h),f})}else{const c=k$(this.apiClient,e);return a=me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=F$(u),f=new rk;return Object.assign(f,h),f})}}async editImageInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=p$(this.apiClient,e);return s=me("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>{const c=g$(l),u=new bq;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=RX(this.apiClient,e);return s=me("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>{const c=FX(l),u=new _q;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=fX(this.apiClient,e);return s=me("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=pX(l),u=new Dq;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=_X(this.apiClient,e);return s=me("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=DX(l),u=new wq;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Q$(this.apiClient,e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>Rx(u))}else{const c=J$(this.apiClient,e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>kx(u))}}async listInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=oX(this.apiClient,e);return a=me("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=lX(u),f=new sk;return Object.assign(f,h),f})}else{const c=sX(this.apiClient,e);return a=me("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=aX(u),f=new sk;return Object.assign(f,h),f})}}async update(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=IX(this.apiClient,e);return a=me("{model}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>Rx(u))}else{const c=UX(this.apiClient,e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>kx(u))}}async delete(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=u$(this.apiClient,e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=h$(u),f=new ok;return Object.assign(f,h),f})}else{const c=c$(this.apiClient,e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=d$(u),f=new ok;return Object.assign(f,h),f})}}async countTokens(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=o$(this.apiClient,e);return a=me("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=l$(u),f=new ak;return Object.assign(f,h),f})}else{const c=s$(this.apiClient,e);return a=me("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=a$(u),f=new ak;return Object.assign(f,h),f})}}async computeTokens(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=ZG(this.apiClient,e);return s=me("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>{const c=jG(l),u=new xq;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=W$(this.apiClient,e);return a=me("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>{const h=B$(u),f=new m1;return Object.assign(f,h),f})}else{const c=O$(this.apiClient,e);return a=me("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>{const h=L$(u),f=new m1;return Object.assign(f,h),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AY extends Da{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=fq(e);return a=me("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o}else{const c=hq(e);return a=me("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o}}async fetchPredictVideosOperationInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=sq(e);return s=me("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CY(n){const e={},t=p(n,["data"]);if(t!=null&&v(e,["data"],t),p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(n,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function SY(n){const e={},t=p(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>LY(s))),v(e,["parts"],r)}const i=p(n,["role"]);return i!=null&&v(e,["role"],i),e}function UY(n,e,t){const i={},r=p(e,["expireTime"]);t!==void 0&&r!=null&&v(t,["expireTime"],r);const s=p(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&v(t,["newSessionExpireTime"],s);const o=p(e,["uses"]);t!==void 0&&o!=null&&v(t,["uses"],o);const a=p(e,["liveConnectConstraints"]);t!==void 0&&a!=null&&v(t,["bidiGenerateContentSetup"],NY(n,a));const l=p(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&v(t,["fieldMask"],l),i}function IY(n,e){const t={},i=p(e,["config"]);return i!=null&&v(t,["config"],UY(n,i,t)),t}function kY(n){const e={};if(p(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=p(n,["fileUri"]);t!=null&&v(e,["fileUri"],t);const i=p(n,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function RY(n){const e={},t=p(n,["id"]);t!=null&&v(e,["id"],t);const i=p(n,["args"]);i!=null&&v(e,["args"],i);const r=p(n,["name"]);if(r!=null&&v(e,["name"],r),p(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FY(n){const e={};if(p(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=p(n,["enableWidget"]);return t!=null&&v(e,["enableWidget"],t),e}function PY(n){const e={};if(p(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=p(n,["timeRangeFilter"]);return t!=null&&v(e,["timeRangeFilter"],t),e}function MY(n,e){const t={},i=p(n,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],i);const r=p(n,["responseModalities"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig","responseModalities"],r);const s=p(n,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const o=p(n,["topP"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topP"],o);const a=p(n,["topK"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topK"],a);const l=p(n,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const c=p(n,["mediaResolution"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","mediaResolution"],c);const u=p(n,["seed"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","seed"],u);const h=p(n,["speechConfig"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","speechConfig"],pA(h));const f=p(n,["thinkingConfig"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","thinkingConfig"],f);const g=p(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=p(n,["systemInstruction"]);e!==void 0&&_!=null&&v(e,["setup","systemInstruction"],SY(Kn(_)));const m=p(n,["tools"]);if(e!==void 0&&m!=null){let E=Wf(m);Array.isArray(E)&&(E=E.map(C=>OY(Of(C)))),v(e,["setup","tools"],E)}const D=p(n,["sessionResumption"]);e!==void 0&&D!=null&&v(e,["setup","sessionResumption"],BY(D));const y=p(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&v(e,["setup","inputAudioTranscription"],y);const b=p(n,["outputAudioTranscription"]);e!==void 0&&b!=null&&v(e,["setup","outputAudioTranscription"],b);const w=p(n,["realtimeInputConfig"]);e!==void 0&&w!=null&&v(e,["setup","realtimeInputConfig"],w);const x=p(n,["contextWindowCompression"]);e!==void 0&&x!=null&&v(e,["setup","contextWindowCompression"],x);const T=p(n,["proactivity"]);if(e!==void 0&&T!=null&&v(e,["setup","proactivity"],T),p(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function NY(n,e){const t={},i=p(e,["model"]);i!=null&&v(t,["setup","model"],Je(n,i));const r=p(e,["config"]);return r!=null&&v(t,["config"],MY(r,t)),t}function LY(n){const e={},t=p(n,["mediaResolution"]);t!=null&&v(e,["mediaResolution"],t);const i=p(n,["codeExecutionResult"]);i!=null&&v(e,["codeExecutionResult"],i);const r=p(n,["executableCode"]);r!=null&&v(e,["executableCode"],r);const s=p(n,["fileData"]);s!=null&&v(e,["fileData"],kY(s));const o=p(n,["functionCall"]);o!=null&&v(e,["functionCall"],RY(o));const a=p(n,["functionResponse"]);a!=null&&v(e,["functionResponse"],a);const l=p(n,["inlineData"]);l!=null&&v(e,["inlineData"],CY(l));const c=p(n,["text"]);c!=null&&v(e,["text"],c);const u=p(n,["thought"]);u!=null&&v(e,["thought"],u);const h=p(n,["thoughtSignature"]);h!=null&&v(e,["thoughtSignature"],h);const f=p(n,["videoMetadata"]);return f!=null&&v(e,["videoMetadata"],f),e}function BY(n){const e={},t=p(n,["handle"]);if(t!=null&&v(e,["handle"],t),p(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function OY(n){const e={};if(p(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=p(n,["computerUse"]);t!=null&&v(e,["computerUse"],t);const i=p(n,["fileSearch"]);i!=null&&v(e,["fileSearch"],i);const r=p(n,["codeExecution"]);if(r!=null&&v(e,["codeExecution"],r),p(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(n,["functionDeclarations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>h)),v(e,["functionDeclarations"],u)}const o=p(n,["googleMaps"]);o!=null&&v(e,["googleMaps"],FY(o));const a=p(n,["googleSearch"]);a!=null&&v(e,["googleSearch"],PY(a));const l=p(n,["googleSearchRetrieval"]);l!=null&&v(e,["googleSearchRetrieval"],l);const c=p(n,["urlContext"]);return c!=null&&v(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WY(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${t}.${s}`);e.push(...r)}else e.push(t)}return e.join(",")}function VY(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const s=WY(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];r.length>0&&(a=r.map(c=>o.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),a.length>0&&l.push(...a),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class HY extends Da{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=IY(this.apiClient,e);s=me("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;const l=VY(a,e.config);return r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qY(n,e){const t={},i=p(n,["force"]);return e!==void 0&&i!=null&&v(e,["_query","force"],i),t}function zY(n){const e={},t=p(n,["name"]);t!=null&&v(e,["_url","name"],t);const i=p(n,["config"]);return i!=null&&qY(i,e),e}function GY(n){const e={},t=p(n,["name"]);return t!=null&&v(e,["_url","name"],t),e}function $Y(n,e){const t={},i=p(n,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(n,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),t}function XY(n){const e={},t=p(n,["parent"]);t!=null&&v(e,["_url","parent"],t);const i=p(n,["config"]);return i!=null&&$Y(i,e),e}function YY(n){const e={},t=p(n,["sdkHttpResponse"]);t!=null&&v(e,["sdkHttpResponse"],t);const i=p(n,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(n,["documents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KY extends Da{constructor(e){super(),this.apiClient=e,this.list=async t=>new Xu(ga.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=GY(e);return s=me("{name}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=zY(e);r=me("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=XY(e);return s=me("{parent}/documents",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=YY(l),u=new Tq;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JY extends Da{constructor(e,t=new KY(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new Xu(ga.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=WX(e);return s=me("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qX(e);return s=me("{name}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=HX(e);r=me("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=KX(e);return s=me("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=JX(l),u=new Eq;return Object.assign(u,c),u})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=QX(e);return s=me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=ZX(l),u=new Aq;return Object.assign(u,c),u})}}async importFile(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$X(e);return s=me("{file_search_store_name}:importFile",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=GX(l),u=new cA;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let z8=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return z8=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^t()&15>>+i/4).toString(16))};const QY=()=>z8();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Px(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Mx=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $r extends Error{}class fi extends $r{constructor(e,t,i,r){super(`${fi.makeMessage(e,t,i)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,i){const r=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,i,r){if(!e||!r)return new jb({message:i,cause:Mx(t)});const s=t;return e===400?new $8(e,s,i,r):e===401?new X8(e,s,i,r):e===403?new Y8(e,s,i,r):e===404?new K8(e,s,i,r):e===409?new J8(e,s,i,r):e===422?new Q8(e,s,i,r):e===429?new Z8(e,s,i,r):e>=500?new j8(e,s,i,r):new fi(e,s,i,r)}}class Nx extends fi{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class jb extends fi{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class G8 extends jb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class $8 extends fi{}class X8 extends fi{}class Y8 extends fi{}class K8 extends fi{}class J8 extends fi{}class Q8 extends fi{}class Z8 extends fi{}class j8 extends fi{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZY=/^[a-z][a-z0-9+.-]*:/i,jY=n=>ZY.test(n);let Lx=n=>(Lx=Array.isArray,Lx(n));const eK=Lx;let tK=eK;const Uk=tK;function nK(n){if(!n)return!0;for(const e in n)return!1;return!0}function iK(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const rK=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new $r(`${n} must be an integer`);if(e<0)throw new $r(`${n} must be a positive integer`);return e},sK=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oK=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ud="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aK(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const lK=()=>{var n,e,t,i,r;const s=aK();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ud,"X-Stainless-OS":kk(Deno.build.os),"X-Stainless-Arch":Ik(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ud,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ud,"X-Stainless-OS":kk((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":Ik((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const o=cK();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ud,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ud,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function cK(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const i=t.exec(navigator.userAgent);if(i){const r=i[1]||0,s=i[2]||0,o=i[3]||0;return{browser:e,version:`${r}.${s}.${o}`}}}return null}const Ik=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",kk=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let bv;const uK=()=>bv??(bv=lK());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dK(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function e5(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function hK(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return e5({start(){},async pull(t){const{done:i,value:r}=await e.next();i?t.close():t.enqueue(r)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function t5(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function fK(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const i=n.getReader(),r=i.cancel();i.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pK=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n5=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Y_(n,e,t){return n5(),new File(n,e??"unknown_file",t)}function gK(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const mK=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i5=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",yK=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&i5(n),vK=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function bK(n,e,t){if(n5(),n=await n,yK(n))return n instanceof File?n:Y_([await n.arrayBuffer()],n.name);if(vK(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Y_(await Bx(r),e,t)}const i=await Bx(n);if(e||(e=gK(n)),!(t!=null&&t.type)){const r=i.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof r=="string"&&(t=Object.assign(Object.assign({},t),{type:r}))}return Y_(i,e,t)}async function Bx(n){var e,t,i,r,s;let o=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)o.push(n);else if(i5(n))o.push(n instanceof Blob?n:await n.arrayBuffer());else if(mK(n))try{for(var a=!0,l=ys(n),c;c=await l.next(),e=c.done,!e;a=!0){r=c.value,a=!1;const u=r;o.push(...await Bx(u))}}catch(u){t={error:u}}finally{try{!a&&!e&&(i=l.return)&&await i.call(l)}finally{if(t)throw t.error}}else{const u=(s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof n}${u?`; constructor: ${u}`:""}${_K(n)}`)}return o}function _K(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r5{constructor(e){this._client=e}}r5._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s5(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Rk=Object.freeze(Object.create(null)),DK=(n=s5)=>function(t,...i){if(t.length===1)return t[0];let r=!1;const s=[],o=t.reduce((u,h,f)=>{var g,_,m;/[?#]/.test(h)&&(r=!0);const D=i[f];let y=(r?encodeURIComponent:n)(""+D);return f!==i.length&&(D==null||typeof D=="object"&&D.toString===((m=Object.getPrototypeOf((_=Object.getPrototypeOf((g=D.hasOwnProperty)!==null&&g!==void 0?g:Rk))!==null&&_!==void 0?_:Rk))===null||m===void 0?void 0:m.toString))&&(y=D+"",s.push({start:u.length+h.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),u+h+(f===i.length?"":y)},""),a=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(a))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((u,h)=>u.start-h.start),s.length>0){let u=0;const h=s.reduce((f,g)=>{const _=" ".repeat(g.start-u),m="^".repeat(g.length);return u=g.start+g.length,f+_+m},"");throw new $r(`Path parameters result in path with invalid segments:
${s.map(f=>f.error).join(`
`)}
${o}
${h}`)}return o},_v=DK(s5);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o5 extends r5{create(e,t){var i;const{api_version:r=this._client.apiVersion}=e,s=v1(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new $r("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new $r("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(_v`/${r}/interactions`,Object.assign(Object.assign({body:s},t),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,t={},i){const{api_version:r=this._client.apiVersion}=t??{};return this._client.delete(_v`/${r}/interactions/${e}`,i)}cancel(e,t={},i){const{api_version:r=this._client.apiVersion}=t??{};return this._client.post(_v`/${r}/interactions/${e}/cancel`,i)}get(e,t={},i){var r;const s=t??{},{api_version:o=this._client.apiVersion}=s,a=v1(s,["api_version"]);return this._client.get(_v`/${o}/interactions/${e}`,Object.assign(Object.assign({query:a},i),{stream:(r=t==null?void 0:t.stream)!==null&&r!==void 0?r:!1}))}}o5._key=Object.freeze(["interactions"]);class a5 extends o5{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wK(n){let e=0;for(const r of n)e+=r.length;const t=new Uint8Array(e);let i=0;for(const r of n)t.set(r,i),i+=r.length;return t}let Dv;function mA(n){let e;return(Dv??(e=new globalThis.TextEncoder,Dv=e.encode.bind(e)))(n)}let wv;function Fk(n){let e;return(wv??(e=new globalThis.TextDecoder,wv=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e2{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?mA(e):e;this.buffer=wK([this.buffer,t]);const i=[];let r;for(;(r=xK(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(Fk(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,o=Fk(this.buffer.subarray(0,s));i.push(o),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}e2.NEWLINE_CHARS=new Set([`
`,"\r"]);e2.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xK(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function TK(n){for(let i=0;i<n.length-1;i++){if(n[i]===10&&n[i+1]===10||n[i]===13&&n[i+1]===13)return i+2;if(n[i]===13&&n[i+1]===10&&i+3<n.length&&n[i+2]===13&&n[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b1={off:0,error:200,warn:300,info:400,debug:500},Pk=(n,e,t)=>{if(n){if(iK(b1,n))return n;si(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(b1))}`)}};function Mp(){}function xv(n,e,t){return!e||b1[n]>b1[t]?Mp:e[n].bind(e)}const EK={error:Mp,warn:Mp,info:Mp,debug:Mp};let Mk=new WeakMap;function si(n){var e;const t=n.logger,i=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return EK;const r=Mk.get(t);if(r&&r[0]===i)return r[1];const s={error:xv("error",t,i),warn:xv("warn",t,i),info:xv("info",t,i),debug:xv("debug",t,i)};return Mk.set(t,[i,s]),s}const ic=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sd{constructor(e,t,i){this.iterator=e,this.controller=t,this.client=i}static fromSSEResponse(e,t,i){let r=!1;const s=i?si(i):console;function o(){return ms(this,arguments,function*(){var l,c,u,h;if(r)throw new $r("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let f=!1;try{try{for(var g=!0,_=ys(AK(e,t)),m;m=yield Ce(_.next()),l=m.done,!l;g=!0){h=m.value,g=!1;const D=h;if(!f)if(D.data.startsWith("[DONE]")){f=!0;continue}else try{yield yield Ce(JSON.parse(D.data))}catch(y){throw s.error("Could not parse message into JSON:",D.data),s.error("From chunk:",D.raw),y}}}catch(D){c={error:D}}finally{try{!g&&!l&&(u=_.return)&&(yield Ce(u.call(_)))}finally{if(c)throw c.error}}f=!0}catch(D){if(Px(D))return yield Ce(void 0);throw D}finally{f||t.abort()}})}return new Sd(o,t,i)}static fromReadableStream(e,t,i){let r=!1;function s(){return ms(this,arguments,function*(){var l,c,u,h;const f=new e2,g=t5(e);try{for(var _=!0,m=ys(g),D;D=yield Ce(m.next()),l=D.done,!l;_=!0){h=D.value,_=!1;const y=h;for(const b of f.decode(y))yield yield Ce(b)}}catch(y){c={error:y}}finally{try{!_&&!l&&(u=m.return)&&(yield Ce(u.call(m)))}finally{if(c)throw c.error}}for(const y of f.flush())yield yield Ce(y)})}function o(){return ms(this,arguments,function*(){var l,c,u,h;if(r)throw new $r("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let f=!1;try{try{for(var g=!0,_=ys(s()),m;m=yield Ce(_.next()),l=m.done,!l;g=!0){h=m.value,g=!1;const D=h;f||D&&(yield yield Ce(JSON.parse(D)))}}catch(D){c={error:D}}finally{try{!g&&!l&&(u=_.return)&&(yield Ce(u.call(_)))}finally{if(c)throw c.error}}f=!0}catch(D){if(Px(D))return yield Ce(void 0);throw D}finally{f||t.abort()}})}return new Sd(o,t,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],i=this.iterator(),r=s=>({next:()=>{if(s.length===0){const o=i.next();e.push(o),t.push(o)}return s.shift()}});return[new Sd(()=>r(e),this.controller,this.client),new Sd(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return e5({async start(){t=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:s}=await t.next();if(s)return i.close();const o=mA(JSON.stringify(r)+`
`);i.enqueue(o)}catch(r){i.error(r)}},async cancel(){var i;await((i=t.return)===null||i===void 0?void 0:i.call(t))}})}}function AK(n,e){return ms(this,arguments,function*(){var i,r,s,o;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new $r("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new $r("Attempted to iterate over a response with no body");const a=new SK,l=new e2,c=t5(n.body);try{for(var u=!0,h=ys(CK(c)),f;f=yield Ce(h.next()),i=f.done,!i;u=!0){o=f.value,u=!1;const g=o;for(const _ of l.decode(g)){const m=a.decode(_);m&&(yield yield Ce(m))}}}catch(g){r={error:g}}finally{try{!u&&!i&&(s=h.return)&&(yield Ce(s.call(h)))}finally{if(r)throw r.error}}for(const g of l.flush()){const _=a.decode(g);_&&(yield yield Ce(_))}})}function CK(n){return ms(this,arguments,function*(){var t,i,r,s;let o=new Uint8Array;try{for(var a=!0,l=ys(n),c;c=yield Ce(l.next()),t=c.done,!t;a=!0){s=c.value,a=!1;const u=s;if(u==null)continue;const h=u instanceof ArrayBuffer?new Uint8Array(u):typeof u=="string"?mA(u):u;let f=new Uint8Array(o.length+h.length);f.set(o),f.set(h,o.length),o=f;let g;for(;(g=TK(o))!==-1;)yield yield Ce(o.slice(0,g)),o=o.slice(g)}}catch(u){i={error:u}}finally{try{!a&&!t&&(r=l.return)&&(yield Ce(r.call(l)))}finally{if(i)throw i.error}}o.length>0&&(yield yield Ce(o))})}class SK{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,i,r]=UK(e,":");return r.startsWith(" ")&&(r=r.substring(1)),t==="event"?this.event=r:t==="data"&&this.data.push(r),null}}function UK(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function IK(n,e){const{response:t,requestLogID:i,retryOfRequestLogID:r,startTime:s}=e,o=await(async()=>{var a;if(e.options.stream)return si(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Sd.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const l=t.headers.get("content-type"),c=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await t.json():await t.text()})();return si(n).debug(`[${i}] response parsed`,ic({retryOfRequestLogID:r,url:t.url,status:t.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yA extends Promise{constructor(e,t,i=IK){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new yA(this.client,this.responsePromise,async(t,i)=>e(await this.parseResponse(t,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l5=Symbol("brand.privateNullableHeaders");function*kK(n){if(!n)return;if(l5 in n){const{values:i,nulls:r}=n;yield*i.entries();for(const s of r)yield[s,null];return}let e=!1,t;n instanceof Headers?t=n.entries():Uk(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let i of t){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const s=Uk(i[1])?i[1]:[i[1]];let o=!1;for(const a of s)a!==void 0&&(e&&!o&&(o=!0,yield[r,null]),yield[r,a])}}const lp=n=>{const e=new Headers,t=new Set;for(const i of n){const r=new Set;for(const[s,o]of kK(i)){const a=s.toLowerCase();r.has(a)||(e.delete(s),r.add(a)),o===null?(e.delete(s),t.add(a)):(e.append(s,o),t.delete(a))}}return{[l5]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K_=n=>{var e,t,i,r,s,o;if(typeof globalThis.process<"u")return(i=(t=(e=jH)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||s===void 0?void 0:s.call(r,n))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var c5;class t2{constructor(e){var t,i,r,s,o,a,l,{baseURL:c=K_("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(t=K_("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:h="v1beta"}=e,f=v1(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:u,apiVersion:h},f),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(i=g.timeout)!==null&&i!==void 0?i:t2.DEFAULT_TIMEOUT,this.logger=(r=g.logger)!==null&&r!==void 0?r:console;const _="warn";this.logLevel=_,this.logLevel=(o=(s=Pk(g.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:Pk(K_("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:_,this.fetchOptions=g.fetchOptions,this.maxRetries=(a=g.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:dK(),this.encoder=pK,this._options=g,this.apiKey=u,this.apiVersion=h,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=lp([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return lp([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return lp([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,i])=>typeof i<"u").map(([t,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(t)}=`;throw new $r(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ud}`}defaultIdempotencyKey(){return`stainless-node-retry-${QY()}`}makeStatusError(e,t,i,r){return fi.generate(e,t,i,r)}buildURL(e,t,i){const r=!this.baseURLOverridden()&&i||this.baseURL,s=jY(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return nK(o)||(t=Object.assign(Object.assign({},o),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(s.search=this.stringifyQuery(t)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:i}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:e,path:t},r)))}request(e,t=null){return new yA(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,i){var r,s,o;const a=await e,l=(r=a.maxRetries)!==null&&r!==void 0?r:this.maxRetries;t==null&&(t=l),await this.prepareOptions(a);const{req:c,url:u,timeout:h}=await this.buildRequest(a,{retryCount:l-t});await this.prepareRequest(c,{url:u,options:a});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=i===void 0?"":`, retryOf: ${i}`,_=Date.now();if(si(this).debug(`[${f}] sending request`,ic({retryOfRequestLogID:i,method:a.method,url:u,options:a,headers:c.headers})),!((s=a.signal)===null||s===void 0)&&s.aborted)throw new Nx;const m=new AbortController,D=await this.fetchWithTimeout(u,c,h,m).catch(Mx),y=Date.now();if(D instanceof globalThis.Error){const w=`retrying, ${t} attempts remaining`;if(!((o=a.signal)===null||o===void 0)&&o.aborted)throw new Nx;const x=Px(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(t)return si(this).info(`[${f}] connection ${x?"timed out":"failed"} - ${w}`),si(this).debug(`[${f}] connection ${x?"timed out":"failed"} (${w})`,ic({retryOfRequestLogID:i,url:u,durationMs:y-_,message:D.message})),this.retryRequest(a,t,i??f);throw si(this).info(`[${f}] connection ${x?"timed out":"failed"} - error; no more retries left`),si(this).debug(`[${f}] connection ${x?"timed out":"failed"} (error; no more retries left)`,ic({retryOfRequestLogID:i,url:u,durationMs:y-_,message:D.message})),x?new G8:new jb({cause:D})}const b=`[${f}${g}] ${c.method} ${u} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${y-_}ms`;if(!D.ok){const w=await this.shouldRetry(D);if(t&&w){const P=`retrying, ${t} attempts remaining`;return await fK(D.body),si(this).info(`${b} - ${P}`),si(this).debug(`[${f}] response error (${P})`,ic({retryOfRequestLogID:i,url:D.url,status:D.status,headers:D.headers,durationMs:y-_})),this.retryRequest(a,t,i??f,D.headers)}const x=w?"error; no more retries left":"error; not retryable";si(this).info(`${b} - ${x}`);const T=await D.text().catch(P=>Mx(P).message),E=sK(T),C=E?void 0:T;throw si(this).debug(`[${f}] response error (${x})`,ic({retryOfRequestLogID:i,url:D.url,status:D.status,headers:D.headers,message:C,durationMs:Date.now()-_})),this.makeStatusError(D.status,E,C,D.headers)}return si(this).info(b),si(this).debug(`[${f}] response start`,ic({retryOfRequestLogID:i,url:D.url,status:D.status,headers:D.headers,durationMs:y-_})),{response:D,options:a,controller:m,requestLogID:f,retryOfRequestLogID:i,startTime:_}}async fetchWithTimeout(e,t,i,r){const s=t||{},{signal:o,method:a}=s,l=v1(s,["signal","method"]);o&&o.addEventListener("abort",()=>r.abort());const c=setTimeout(()=>r.abort(),i),u=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,h=Object.assign(Object.assign(Object.assign({signal:r.signal},u?{duplex:"half"}:{}),{method:"GET"}),l);a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(c)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,i,r){var s;let o;const a=r==null?void 0:r.get("retry-after-ms");if(a){const c=parseFloat(a);Number.isNaN(c)||(o=c)}const l=r==null?void 0:r.get("retry-after");if(l&&!o){const c=parseFloat(l);Number.isNaN(c)?o=Date.parse(l)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){const c=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,c)}return await oK(o),this.makeRequest(e,t-1,i)}calculateDefaultRetryTimeoutMillis(e,t){const s=t-e,o=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return o*a*1e3}async buildRequest(e,{retryCount:t=0}={}){var i,r,s;const o=Object.assign({},e),{method:a,path:l,query:c,defaultBaseURL:u}=o,h=this.buildURL(l,c,u);"timeout"in o&&rK("timeout",o.timeout),o.timeout=(i=o.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:f,body:g}=this.buildBody({options:o}),_=await this.buildHeaders({options:e,method:a,bodyHeaders:f,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:_},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:h,timeout:o.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:i,retryCount:r}){let s={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let a=lp([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),uK()),this._options.defaultHeaders,i,e.headers,o]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=lp([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:hK(e)}:this.encoder({body:e,headers:i})}}t2.DEFAULT_TIMEOUT=6e4;class Dn extends t2{constructor(){super(...arguments),this.interactions=new a5(this)}}c5=Dn;Dn.GeminiNextGenAPIClient=c5;Dn.GeminiNextGenAPIClientError=$r;Dn.APIError=fi;Dn.APIConnectionError=jb;Dn.APIConnectionTimeoutError=G8;Dn.APIUserAbortError=Nx;Dn.NotFoundError=K8;Dn.ConflictError=J8;Dn.RateLimitError=Z8;Dn.BadRequestError=$8;Dn.AuthenticationError=X8;Dn.InternalServerError=j8;Dn.PermissionDeniedError=Y8;Dn.UnprocessableEntityError=Q8;Dn.toFile=bK;Dn.Interactions=a5;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RK(n,e){const t={},i=p(n,["name"]);return i!=null&&v(t,["_url","name"],i),t}function FK(n,e){const t={},i=p(n,["name"]);return i!=null&&v(t,["_url","name"],i),t}function PK(n,e){const t={},i=p(n,["sdkHttpResponse"]);return i!=null&&v(t,["sdkHttpResponse"],i),t}function MK(n,e){const t={},i=p(n,["sdkHttpResponse"]);return i!=null&&v(t,["sdkHttpResponse"],i),t}function NK(n,e,t){const i={};if(p(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&v(e,["displayName"],r),p(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=p(n,["epochCount"]);e!==void 0&&s!=null&&v(e,["tuningTask","hyperparameters","epochCount"],s);const o=p(n,["learningRateMultiplier"]);if(o!=null&&v(i,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(p(n,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(p(n,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const a=p(n,["batchSize"]);e!==void 0&&a!=null&&v(e,["tuningTask","hyperparameters","batchSize"],a);const l=p(n,["learningRate"]);if(e!==void 0&&l!=null&&v(e,["tuningTask","hyperparameters","learningRate"],l),p(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(p(n,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(p(n,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(p(n,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(p(n,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return i}function LK(n,e,t){const i={};let r=p(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const T=p(n,["validationDataset"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec"],J_(T))}else if(r==="PREFERENCE_TUNING"){const T=p(n,["validationDataset"]);e!==void 0&&T!=null&&v(e,["preferenceOptimizationSpec"],J_(T))}else if(r==="DISTILLATION"){const T=p(n,["validationDataset"]);e!==void 0&&T!=null&&v(e,["distillationSpec"],J_(T))}const s=p(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&v(e,["tunedModelDisplayName"],s);const o=p(n,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);let a=p(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const T=p(n,["epochCount"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(a==="PREFERENCE_TUNING"){const T=p(n,["epochCount"]);e!==void 0&&T!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}else if(a==="DISTILLATION"){const T=p(n,["epochCount"]);e!==void 0&&T!=null&&v(e,["distillationSpec","hyperParameters","epochCount"],T)}let l=p(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const T=p(n,["learningRateMultiplier"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(l==="PREFERENCE_TUNING"){const T=p(n,["learningRateMultiplier"]);e!==void 0&&T!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}else if(l==="DISTILLATION"){const T=p(n,["learningRateMultiplier"]);e!==void 0&&T!=null&&v(e,["distillationSpec","hyperParameters","learningRateMultiplier"],T)}let c=p(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const T=p(n,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(c==="PREFERENCE_TUNING"){const T=p(n,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}else if(c==="DISTILLATION"){const T=p(n,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&v(e,["distillationSpec","exportLastCheckpointOnly"],T)}let u=p(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const T=p(n,["adapterSize"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(u==="PREFERENCE_TUNING"){const T=p(n,["adapterSize"]);e!==void 0&&T!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}else if(u==="DISTILLATION"){const T=p(n,["adapterSize"]);e!==void 0&&T!=null&&v(e,["distillationSpec","hyperParameters","adapterSize"],T)}let h=p(t,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=p(n,["tuningMode"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec","tuningMode"],T)}const f=p(n,["customBaseModel"]);e!==void 0&&f!=null&&v(e,["customBaseModel"],f);let g=p(t,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const T=p(n,["batchSize"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec","hyperParameters","batchSize"],T)}let _=p(t,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const T=p(n,["learningRate"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRate"],T)}const m=p(n,["labels"]);e!==void 0&&m!=null&&v(e,["labels"],m);const D=p(n,["beta"]);e!==void 0&&D!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],D);const y=p(n,["baseTeacherModel"]);e!==void 0&&y!=null&&v(e,["distillationSpec","baseTeacherModel"],y);const b=p(n,["tunedTeacherModelSource"]);e!==void 0&&b!=null&&v(e,["distillationSpec","tunedTeacherModelSource"],b);const w=p(n,["sftLossWeightMultiplier"]);e!==void 0&&w!=null&&v(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],w);const x=p(n,["outputUri"]);return e!==void 0&&x!=null&&v(e,["outputUri"],x),i}function BK(n,e){const t={},i=p(n,["baseModel"]);i!=null&&v(t,["baseModel"],i);const r=p(n,["preTunedModel"]);r!=null&&v(t,["preTunedModel"],r);const s=p(n,["trainingDataset"]);s!=null&&KK(s);const o=p(n,["config"]);return o!=null&&NK(o,t),t}function OK(n,e){const t={},i=p(n,["baseModel"]);i!=null&&v(t,["baseModel"],i);const r=p(n,["preTunedModel"]);r!=null&&v(t,["preTunedModel"],r);const s=p(n,["trainingDataset"]);s!=null&&JK(s,t,e);const o=p(n,["config"]);return o!=null&&LK(o,t,e),t}function WK(n,e){const t={},i=p(n,["name"]);return i!=null&&v(t,["_url","name"],i),t}function VK(n,e){const t={},i=p(n,["name"]);return i!=null&&v(t,["_url","name"],i),t}function HK(n,e,t){const i={},r=p(n,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=p(n,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const o=p(n,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),i}function qK(n,e,t){const i={},r=p(n,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=p(n,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const o=p(n,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),i}function zK(n,e){const t={},i=p(n,["config"]);return i!=null&&HK(i,t),t}function GK(n,e){const t={},i=p(n,["config"]);return i!=null&&qK(i,t),t}function $K(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const s=p(n,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>u5(a))),v(t,["tuningJobs"],o)}return t}function XK(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const s=p(n,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>Ox(a))),v(t,["tuningJobs"],o)}return t}function YK(n,e){const t={},i=p(n,["name"]);i!=null&&v(t,["model"],i);const r=p(n,["name"]);return r!=null&&v(t,["endpoint"],r),t}function KK(n,e){const t={};if(p(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=p(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),v(t,["examples","examples"],r)}return t}function JK(n,e,t){const i={};let r=p(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const o=p(n,["gcsUri"]);e!==void 0&&o!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(r==="PREFERENCE_TUNING"){const o=p(n,["gcsUri"]);e!==void 0&&o!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(r==="DISTILLATION"){const o=p(n,["gcsUri"]);e!==void 0&&o!=null&&v(e,["distillationSpec","promptDatasetUri"],o)}let s=p(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=p(n,["vertexDatasetResource"]);e!==void 0&&o!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=p(n,["vertexDatasetResource"]);e!==void 0&&o!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(s==="DISTILLATION"){const o=p(n,["vertexDatasetResource"]);e!==void 0&&o!=null&&v(e,["distillationSpec","promptDatasetUri"],o)}if(p(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function u5(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["name"]);r!=null&&v(t,["name"],r);const s=p(n,["state"]);s!=null&&v(t,["state"],A8(s));const o=p(n,["createTime"]);o!=null&&v(t,["createTime"],o);const a=p(n,["tuningTask","startTime"]);a!=null&&v(t,["startTime"],a);const l=p(n,["tuningTask","completeTime"]);l!=null&&v(t,["endTime"],l);const c=p(n,["updateTime"]);c!=null&&v(t,["updateTime"],c);const u=p(n,["description"]);u!=null&&v(t,["description"],u);const h=p(n,["baseModel"]);h!=null&&v(t,["baseModel"],h);const f=p(n,["_self"]);return f!=null&&v(t,["tunedModel"],YK(f)),t}function Ox(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["name"]);r!=null&&v(t,["name"],r);const s=p(n,["state"]);s!=null&&v(t,["state"],A8(s));const o=p(n,["createTime"]);o!=null&&v(t,["createTime"],o);const a=p(n,["startTime"]);a!=null&&v(t,["startTime"],a);const l=p(n,["endTime"]);l!=null&&v(t,["endTime"],l);const c=p(n,["updateTime"]);c!=null&&v(t,["updateTime"],c);const u=p(n,["error"]);u!=null&&v(t,["error"],u);const h=p(n,["description"]);h!=null&&v(t,["description"],h);const f=p(n,["baseModel"]);f!=null&&v(t,["baseModel"],f);const g=p(n,["tunedModel"]);g!=null&&v(t,["tunedModel"],g);const _=p(n,["preTunedModel"]);_!=null&&v(t,["preTunedModel"],_);const m=p(n,["supervisedTuningSpec"]);m!=null&&v(t,["supervisedTuningSpec"],m);const D=p(n,["preferenceOptimizationSpec"]);D!=null&&v(t,["preferenceOptimizationSpec"],D);const y=p(n,["distillationSpec"]);y!=null&&v(t,["distillationSpec"],y);const b=p(n,["tuningDataStats"]);b!=null&&v(t,["tuningDataStats"],b);const w=p(n,["encryptionSpec"]);w!=null&&v(t,["encryptionSpec"],w);const x=p(n,["partnerModelTuningSpec"]);x!=null&&v(t,["partnerModelTuningSpec"],x);const T=p(n,["customBaseModel"]);T!=null&&v(t,["customBaseModel"],T);const E=p(n,["experiment"]);E!=null&&v(t,["experiment"],E);const C=p(n,["labels"]);C!=null&&v(t,["labels"],C);const F=p(n,["outputUri"]);F!=null&&v(t,["outputUri"],F);const P=p(n,["pipelineJob"]);P!=null&&v(t,["pipelineJob"],P);const O=p(n,["serviceAccount"]);O!=null&&v(t,["serviceAccount"],O);const Y=p(n,["tunedModelDisplayName"]);Y!=null&&v(t,["tunedModelDisplayName"],Y);const R=p(n,["veoTuningSpec"]);return R!=null&&v(t,["veoTuningSpec"],R),t}function QK(n,e){const t={},i=p(n,["sdkHttpResponse"]);i!=null&&v(t,["sdkHttpResponse"],i);const r=p(n,["name"]);r!=null&&v(t,["name"],r);const s=p(n,["metadata"]);s!=null&&v(t,["metadata"],s);const o=p(n,["done"]);o!=null&&v(t,["done"],o);const a=p(n,["error"]);return a!=null&&v(t,["error"],a),t}function J_(n,e){const t={},i=p(n,["gcsUri"]);i!=null&&v(t,["validationDatasetUri"],i);const r=p(n,["vertexDatasetResource"]);return r!=null&&v(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZK extends Da{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Xu(ga.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),s=await this.tuneMldevInternal(r);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:Ax.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=VK(e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>Ox(u))}else{const c=WK(e);return a=me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>u5(u))}}async listInternal(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=GK(e);return a=me("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=XK(u),f=new lk;return Object.assign(f,h),f})}else{const c=zK(e);return a=me("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=$K(u),f=new lk;return Object.assign(f,h),f})}}async cancel(e){var t,i,r,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=FK(e);return a=me("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=MK(u),f=new ck;return Object.assign(f,h),f})}else{const c=RK(e);return a=me("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const f=h;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{const h=PK(u),f=new ck;return Object.assign(f,h),f})}}async tuneInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI()){const a=OK(e,e);return s=me("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>Ox(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=BK(e);return s=me("tunedModels",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),r.then(l=>QK(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jK{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const eJ=1024*1024*8,tJ=3,nJ=1e3,iJ=2,_1="x-goog-upload-status";async function rJ(n,e,t){var i;const r=await d5(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[_1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function sJ(n,e,t){var i;const r=await d5(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[_1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=_8(s),a=new uA;return Object.assign(a,o),a}async function d5(n,e,t){var i,r;let s=0,o=0,a=new Sx(new Response),l="upload";for(s=n.size;o<s;){const c=Math.min(eJ,s-o),u=n.slice(o,o+c);o+c>=s&&(l+=", finalize");let h=0,f=nJ;for(;h<tJ&&(a=await t.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(c)}}}),!(!((i=a==null?void 0:a.headers)===null||i===void 0)&&i[_1]));)h++,await aJ(f),f=f*iJ;if(o+=c,((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[_1])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function oJ(n){return{size:n.size,type:n.type}}function aJ(n){return new Promise(e=>setTimeout(e,n))}class lJ{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rJ(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await sJ(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oJ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cJ{create(e,t,i){return new uJ(e,t,i)}}class uJ{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nk="x-goog-api-key";class dJ{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(Nk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Nk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hJ="gl-node/";class fJ{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new Dn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=iq(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new dJ(this.apiKey);this.apiClient=new oY({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:hJ+"web",uploader:new lJ,downloader:new jK}),this.models=new EY(this.apiClient),this.live=new bY(this.apiClient,r,new cJ),this.batches=new Fz(this.apiClient),this.chats=new pG(this.models,this.apiClient),this.caches=new dG(this.apiClient),this.files=new AG(this.apiClient),this.operations=new AY(this.apiClient),this.authTokens=new HY(this.apiClient),this.tunings=new ZK(this.apiClient),this.fileSearchStores=new JY(this.apiClient)}}const pJ=new fJ({apiKey:"AIzaSyCYaB8uW8SuFo0jHbr2AbuNzv_VtMI4DdM"});async function gJ(n){return(await pJ.models.generateContent({model:"gemini-3-flash-preview",contents:`
You are an ATS (Applicant Tracking System).
Analyze this resume and provide:

- ATS Score (0100)
- Key skills
- Weak points
- Missing sections
- Improvement suggestions

Resume:
${n}
`})).text}function mJ(){const[n,e]=fs.useState(""),[t,i]=fs.useState(null),[r,s]=fs.useState(!1),o=async()=>{if(!n){alert("Please upload a resume first.");return}s(!0);try{const a=await gJ(n);i(a)}catch(a){console.error("Error analyzing resume:",a),alert("Failed to analyze resume.")}finally{s(!1)}};return zt.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:zt.jsxs("div",{className:"container mx-auto px-4 py-8",children:[zt.jsxs("header",{className:"text-center mb-8",children:[zt.jsx("h1",{className:"text-4xl font-bold text-white mb-2 glow-border rounded-2xl p-4",children:"Resume Analyzer AI"}),zt.jsx("p",{className:"text-lg text-gray-300",children:"Upload your resume for instant ATS analysis"})]}),zt.jsx("div",{className:"mb-8",children:zt.jsx(ZH,{onResumeText:e})}),zt.jsx("div",{className:"text-center mb-8",children:zt.jsx("button",{onClick:o,disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition disabled:opacity-50",children:r?"Analyzing...":"Analyze Resume"})}),t&&zt.jsx("div",{className:"p-6 text-white whitespace-pre-wrap bg-black/40 rounded-xl",children:t})]})})}Q_.createRoot(document.getElementById("root")).render(zt.jsx(P5.StrictMode,{children:zt.jsx(mJ,{})}));
